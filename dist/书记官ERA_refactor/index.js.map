{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/external var \"_\"","src://tavern_helper_template/src/ERA_refactor/hooks/useMvuData.ts","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/ERA_refactor/itemConstants.ts","webpack://tavern_helper_template/./src/ERA_refactor/components/bagTab.vue?f26b","src://tavern_helper_template/src/ERA_refactor/hooks/useInventory.ts","webpack://tavern_helper_template/src/ERA_refactor/components/bagTab.vue?b175","src://tavern_helper_template/src/ERA_refactor/hooks/useCodex.ts","webpack://tavern_helper_template/./src/ERA_refactor/components/codexTab.vue?81eb","webpack://tavern_helper_template/src/ERA_refactor/components/codexTab.vue?c6d8","src://tavern_helper_template/src/ERA_refactor/hooks/useParty.ts","webpack://tavern_helper_template/./src/ERA_refactor/components/partyTab.vue?cddb","webpack://tavern_helper_template/src/ERA_refactor/components/partyTab.vue?a188","webpack://tavern_helper_template/./src/ERA_refactor/components/questsTab.vue?29ea","src://tavern_helper_template/src/ERA_refactor/hooks/useQuests.ts","webpack://tavern_helper_template/src/ERA_refactor/components/questsTab.vue?4e38","src://tavern_helper_template/src/ERA/itemConstants.ts","src://tavern_helper_template/src/ERA_refactor/clothingConstants.ts","src://tavern_helper_template/src/ERA_refactor/hooks/useWardrobe.ts","webpack://tavern_helper_template/./src/ERA_refactor/components/wardTab.vue?d885","webpack://tavern_helper_template/src/ERA_refactor/components/wardTab.vue?0cbc","webpack://tavern_helper_template/./src/ERA_refactor/components/worldTab.vue?5400","src://tavern_helper_template/src/ERA_refactor/hooks/useWorld.ts","webpack://tavern_helper_template/src/ERA_refactor/components/worldTab.vue?98e1","webpack://tavern_helper_template/./src/ERA_refactor/components/MapSelector.vue?e4bd","webpack://tavern_helper_template/src/ERA_refactor/components/MapSelector.vue?5559","webpack://tavern_helper_template/./src/ERA_refactor/components/ModalDialog.vue?8e4b","webpack://tavern_helper_template/src/ERA_refactor/components/ModalDialog.vue?2faf","webpack://tavern_helper_template/./src/ERA_refactor/components/outfitSelector.vue?96ef","webpack://tavern_helper_template/src/ERA_refactor/components/outfitSelector.vue?03e6","webpack://tavern_helper_template/./src/ERA_refactor/components/tradeApiSettings.vue?d88d","webpack://tavern_helper_template/src/ERA_refactor/components/tradeApiSettings.vue?a391","src://tavern_helper_template/src/ERA_refactor/hooks/useTrade.ts","src://tavern_helper_template/src/util/common.ts","webpack://tavern_helper_template/./src/ERA_refactor/components/tradeTab.vue?0956","webpack://tavern_helper_template/src/ERA_refactor/components/tradeTab.vue?7aaa","src://tavern_helper_template/src/ERA_refactor/App.vue","webpack://tavern_helper_template/src/ERA_refactor/App.vue?b5b1","src://tavern_helper_template/src/ERA_refactor/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","const __WEBPACK_NAMESPACE_OBJECT__ = _;","// hooks/useMvuData.ts\nimport _ from 'lodash';\nimport { ref, watch } from 'vue';\nimport { MvuData } from '../types';\n\n//  MVU \nconst defaultMvuData: MvuData = {\n  playerData: {\n    character: {\n      name: '',\n      level: 1,\n      gender: '',\n      race: '',\n      height: '',\n      build: '',\n      appearance: '',\n      personality: '',\n    },\n    status: {\n      health: {\n        current: 12,\n        max: 12,\n      },\n      mood: {\n        current: 0,\n        max: 100,\n      },\n      arousal: {\n        current: 50,\n        max: 100,\n      },\n      experience: {\n        current: 0,\n        max: 100,\n      },\n    },\n    attributes: {\n      shooting: 0,\n      melee: 0,\n      construction: 0,\n      mining: 0,\n      cooking: 0,\n      planting: 0,\n      animals: 0,\n      crafting: 0,\n      artistic: 0,\n      medical: 0,\n      social: 0,\n      intellectual: 0,\n    },\n    equipment: {\n      leftHand: 'none',\n      rightHand: 'none',\n      outfitContent: 'none',\n    },\n  },\n  playerDynamicData: {\n    inventory: {},\n    gold: 100,\n    debt: {},\n  },\n  followerNPCData: {},\n  wardrobe: {\n    ownedOutfits: {},\n  },\n  archivedData: {\n    factionPrestige: {},\n    bestiary: {},\n    anecdotes: {},\n    outfitIds: {\n      F0: 'none',\n    },\n    inventory: {},\n    worldNPC: {},\n  },\n  system: {\n    mainStoryMode: true,\n    tradeCustomApi: {\n      apiurl: '',\n      key: '',\n      model: '',\n    },\n  },\n  worldInfo: {\n    date: '',\n    time: '',\n    weather: '',\n    currentRegion: '',\n    currentLocation: '',\n    nearbyNPC: {},\n    factionPrestige: {},\n    bestiary: {},\n    anecdotes: {},\n  },\n  progressData: {\n    questPhase: '',\n    partyAttrPoints: {},\n    currentQuest: {},\n    nextQuest: {},\n    pendingQuest: {},\n    completedQuest: {},\n  },\n};\n\nconst ERA_EVENT = {\n  insertByObject: 'era:insertByObject',\n  updateByObject: 'era:updateByObject',\n  insertByPath: 'era:insertByPath',\n  updateByPath: 'era:updateByPath',\n  deleteByObject: 'era:deleteByObject',\n  deleteByPath: 'era:deleteByPath',\n};\ninterface Command {\n  event: string;\n  detail: any;\n}\n\nconst rawMvuData = ref<any | null>(null);\nconst currentMessageId = ref(0);\nconst mvu = ref(_.cloneDeep(defaultMvuData));\n\n/**\n *  MVU \n * @param messageId  ID\n */\nconst refreshMvuData = async (messageId?: number | 'latest') => {\n  try {\n    eventEmit('era:requestWriteDone');\n  } catch (error) {\n    console.error(` ${messageId}  MVU :`, error);\n    rawMvuData.value = null;\n  }\n};\n\n// MVU\nconst handleMvuUpdate = async (commands: Command[], successCallback?: () => void) => {\n  if (!rawMvuData.value) {\n    console.warn(' MVU , ');\n    toastr.error(': ');\n    return;\n  }\n  try {\n    commands.forEach((command: Command) => {\n      const event = command.event;\n      if (event in ERA_EVENT) {\n        //  detail \n        eventEmit(ERA_EVENT[event as keyof typeof ERA_EVENT], command.detail);\n      } else {\n        console.warn(`Invalid ERA event received: ${event}`);\n      }\n    });\n\n    // await refreshMvuData('latest');\n    successCallback?.();\n  } catch (error) {\n    console.error(' MVU :', error);\n    toastr.error(': ');\n  }\n};\n\n//  MVU ,  UI\nwatch(rawMvuData, newData => {\n  if (!newData) {\n    mvu.value = _.cloneDeep(defaultMvuData);\n    console.warn('MVU , ');\n    return;\n  }\n  // : \n  const baseState = _.cloneDeep(defaultMvuData);\n  mvu.value = _.merge(baseState, newData);\n});\n\n// : , \nwatch(\n  () => rawMvuData.value?.followerNPCData,\n  (newFollowers, oldFollowers) => {\n    if (!rawMvuData.value && !newFollowers && !oldFollowers) return;\n    if (Object.keys(newFollowers).length === Object.keys(oldFollowers || {}).length) return;\n\n    const followerNpcKeys = Object.keys(newFollowers || {});\n    const allPartyKeys = ['F0', ...followerNpcKeys]; // F0 \n    const attrPoints = rawMvuData.value.progressData?.partyAttrPoints || {};\n    const commandsToSync: Command[] = [];\n\n    for (const partyKey of allPartyKeys) {\n      if (!(partyKey in attrPoints)) {\n        commandsToSync.push({\n          event: 'insertByPath',\n          detail: { path: `progressData.partyAttrPoints.${partyKey}`, value: 0 },\n        });\n      }\n    }\n\n    if (commandsToSync.length > 0) {\n      handleMvuUpdate(commandsToSync);\n    }\n  },\n  { deep: true },\n);\n\nconst initialize = async () => {\n  try {\n    currentMessageId.value = getCurrentMessageId();\n    refreshMvuData();\n  } catch (error) {\n    console.error(':', error);\n  }\n};\n\neventOn('era:writeDone', detail => {\n  //  API \n  // if (detail.actions.apiWrite) {\n  //   console.log(' API UI ');\n  //   // return;\n  // }\n  if (!detail || !detail.statWithoutMeta) return;\n\n  //  statWithoutMeta  UI ERA \n  rawMvuData.value = detail.statWithoutMeta;\n  // \n  const currentRegion = rawMvuData.value?.worldInfo?.currentRegion;\n  let currentQuests: string[] = [];\n\n  if (rawMvuData.value?.system?.mainStoryMode) {\n    const quest = rawMvuData.value?.progressData?.currentQuest || {};\n    // const currentQuests:string[] = Object.values(quest)\n    //   .filter((item:any) => item.name)\n    //   .map((item:any) => item.name);\n    currentQuests = Object.keys(quest);\n  }\n\n  updateWorldbookWith('', worldbook => {\n    const MAP_KEYWORD = '';\n    const QUEST_KEYWORDS = ['', ''];\n    const STRATEGY_TYPE = {\n      CONSTANT: 'constant' as const,\n      SELECTIVE: 'selective' as const,\n    };\n\n    return worldbook.map(entry => {\n      const isQuestEntry = QUEST_KEYWORDS.some(keyword => entry.name.includes(keyword));\n      const isMapEntry = entry.name.includes(MAP_KEYWORD);\n\n      //  strategy \n      if ((!isMapEntry && !isQuestEntry) || !entry.strategy) {\n        return entry;\n      }\n\n      // \n      const isQuestActive = currentQuests.some(quest => entry.strategy.keys.includes(quest));\n      const isMapActive = entry.strategy.keys.includes(currentRegion);\n      const newStrategyType = isQuestActive || isMapActive ? STRATEGY_TYPE.CONSTANT : STRATEGY_TYPE.SELECTIVE;\n\n      // \n      if (entry.strategy.type === newStrategyType) {\n        return entry;\n      }\n\n      //  strategy\n      return {\n        ...entry,\n        strategy: {\n          ...entry.strategy, //  strategy \n          type: newStrategyType, //  type \n        },\n      };\n    });\n  });\n});\n\nexport function useMvuData() {\n  return {\n    mvu,\n    rawMvuData,\n    currentMessageId,\n    refreshMvuData,\n    handleMvuUpdate,\n    initialize,\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = z;","import { z } from 'zod';\n\n// ============  ============\n\nexport const TierTypeSchema = z.enum(['basic', 'light', 'medium', 'heavy']);\nexport type TierType = z.infer<typeof TierTypeSchema>;\nexport const QualityTypeSchema = z.enum(['common', 'good', 'excellent', 'masterwork', 'legendary']);\nexport type QualityType = z.infer<typeof QualityTypeSchema>;\nexport const SlotTypeSchema = z.enum([\n  'head',\n  'bodyInner',\n  'bodyArmor',\n  'hands',\n  'legsInner',\n  'legsArmor',\n  'feet',\n  'cloak',\n  'neck',\n  'ring',\n  'belt',\n]);\nexport type SlotType = z.infer<typeof SlotTypeSchema>;\nexport const ItemTypeSchema = z.enum(['cloth', 'weapon', 'item', 'consumable']);\nexport type ItemType = z.infer<typeof ItemTypeSchema>;\n\nexport const BaseInventoryItemSchema = z.object({\n  name: z.string().default(''),\n  description: z.string().default(''),\n  quality: QualityTypeSchema.default('common'),\n  type: ItemTypeSchema.default('item'),\n  tier: TierTypeSchema.default('basic'),\n  slot: SlotTypeSchema.optional(),\n});\nexport type BaseInventoryItem = z.infer<typeof BaseInventoryItemSchema>;\n\nexport const InventoryItemSchema = BaseInventoryItemSchema.extend({\n  id: z.string(),\n});\nexport type InventoryItem = z.infer<typeof InventoryItemSchema>;\n\nexport interface TierData {\n  name: string;\n  description?: string;\n  defenseCoeff: number;\n  comfortCoeff: number;\n  warmthCoeff: number;\n  socialCoeff: number;\n  weightCoeff: number;\n}\n\nexport interface QualityData {\n  name: string;\n  color: string;\n  allAttributesCoeff: number;\n}\n\nexport interface SlotData {\n  name: string;\n  baseDefense: number;\n  baseComfort: number;\n  baseWarmth: number;\n  baseSocial: number;\n  baseWeight: number;\n}\n\n// ============  ============\n\nconst ClothingSystemData = {\n  TierSystem: {\n    basic: {\n      name: '',\n      description: ',',\n      defenseCoeff: 0.5,\n      comfortCoeff: 1.2,\n      warmthCoeff: 1.0,\n      socialCoeff: 0.8,\n      weightCoeff: 0.6,\n    },\n    light: {\n      name: '',\n      description: ',',\n      defenseCoeff: 1.0,\n      comfortCoeff: 1.0,\n      warmthCoeff: 0.9,\n      socialCoeff: 1.0,\n      weightCoeff: 1.0,\n    },\n    medium: {\n      name: '',\n      description: ',',\n      defenseCoeff: 1.5,\n      comfortCoeff: 0.6,\n      warmthCoeff: 0.7,\n      socialCoeff: 1.2,\n      weightCoeff: 1.8,\n    },\n    heavy: {\n      name: '',\n      description: ',',\n      defenseCoeff: 2.0,\n      comfortCoeff: 0.3,\n      warmthCoeff: 0.5,\n      socialCoeff: 1.5,\n      weightCoeff: 2.5,\n    },\n  } as Record<TierType, TierData>,\n\n  QualitySystem: {\n    common: { name: '', allAttributesCoeff: 1.0, color: '#9d9d9d' },\n    good: { name: '', allAttributesCoeff: 1.2, color: '#1eff00' },\n    excellent: { name: '', allAttributesCoeff: 1.5, color: '#0070dd' },\n    masterwork: { name: '', allAttributesCoeff: 2.0, color: '#a335ee' },\n    legendary: { name: '', allAttributesCoeff: 3.0, color: '#ff8000' },\n  } as Record<QualityType, QualityData>,\n\n  ClothingSlots: {\n    head: { name: '', baseDefense: 5, baseComfort: 7, baseWarmth: 4, baseSocial: 5, baseWeight: 1.0 },\n    bodyInner: { name: '', baseDefense: 2, baseComfort: 9, baseWarmth: 5, baseSocial: 4, baseWeight: 0.5 },\n    bodyArmor: { name: '', baseDefense: 12, baseComfort: 5, baseWarmth: 4, baseSocial: 7, baseWeight: 6.0 },\n    hands: { name: '', baseDefense: 3, baseComfort: 7, baseWarmth: 5, baseSocial: 4, baseWeight: 0.5 },\n    legsInner: { name: '', baseDefense: 2, baseComfort: 9, baseWarmth: 4, baseSocial: 4, baseWeight: 0.4 },\n    legsArmor: { name: '', baseDefense: 10, baseComfort: 5, baseWarmth: 4, baseSocial: 6, baseWeight: 5.0 },\n    feet: { name: '', baseDefense: 4, baseComfort: 8, baseWarmth: 6, baseSocial: 5, baseWeight: 1.0 },\n    cloak: { name: '', baseDefense: 1, baseComfort: 8, baseWarmth: 10, baseSocial: 7, baseWeight: 1.5 },\n    neck: { name: '', baseDefense: 1, baseComfort: 10, baseWarmth: 3, baseSocial: 6, baseWeight: 0.1 },\n    ring: { name: '', baseDefense: 0, baseComfort: 10, baseWarmth: 0, baseSocial: 8, baseWeight: 0.02 },\n    belt: { name: '', baseDefense: 1, baseComfort: 8, baseWarmth: 0, baseSocial: 5, baseWeight: 0.3 },\n  } as Record<SlotType, SlotData>,\n};\n\n// ============  ============\n\nexport const qualityLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.QualitySystem).map(([key, value]) => [key, value.name]),\n) as Record<QualityType, string>;\n\nexport const tierLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.TierSystem).map(([key, value]) => [key, value.name]),\n) as Record<TierType, string>;\n\nexport const slotLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.ClothingSlots).map(([key, value]) => [key, value.name]),\n) as Record<SlotType, string>;\n\nexport const typeLabels: Record<ItemType, string> = {\n  cloth: '',\n  weapon: '',\n  item: '',\n  consumable: '',\n};\n\nexport { ClothingSystemData };\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = { class: \"bag-container\" };\nconst _hoisted_2 = { class: \"inventory-mini\" };\nconst _hoisted_3 = { class: \"gold\" };\nconst _hoisted_4 = { class: \"master-detail-body\" };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"master-grid bag-grid\"\n};\nconst _hoisted_6 = { class: \"section-title grid-col-span-full\" };\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n    key: 0,\n    class: \"fa-solid fa-box\"\n};\nconst _hoisted_9 = {\n    key: 1,\n    class: \"fa-solid fa-plate-wheat\"\n};\nconst _hoisted_10 = {\n    key: 2,\n    class: \"fa-solid fa-shirt\"\n};\nconst _hoisted_11 = {\n    key: 3,\n    class: \"fa-solid fa-wand-sparkles\"\n};\nconst _hoisted_12 = {\n    key: 1,\n    class: \"data-empty\",\n    style: { \"background\": \"var(--blur_tint_color)\" }\n};\nconst _hoisted_13 = { class: \"detail-panel\" };\nconst _hoisted_14 = {\n    key: 0,\n    class: \"details-content\"\n};\nconst _hoisted_15 = { key: 0 };\nconst _hoisted_16 = { class: \"item-name flex-between\" };\nconst _hoisted_17 = { style: { \"flex-shrink\": \"0\" } };\nconst _hoisted_18 = { class: \"item-type-tier\" };\nconst _hoisted_19 = {\n    key: 0,\n    class: \"item-slot\"\n};\nconst _hoisted_20 = { class: \"item-description\" };\nconst _hoisted_21 = {\n    key: 1,\n    class: \"edit-form\"\n};\nconst _hoisted_22 = { class: \"form-group\" };\nconst _hoisted_23 = { class: \"form-group\" };\nconst _hoisted_24 = [\"value\"];\nconst _hoisted_25 = { class: \"form-group\" };\nconst _hoisted_26 = [\"value\"];\nconst _hoisted_27 = { class: \"form-group\" };\nconst _hoisted_28 = [\"value\"];\nconst _hoisted_29 = {\n    key: 0,\n    class: \"form-group\"\n};\nconst _hoisted_30 = [\"value\"];\nconst _hoisted_31 = { class: \"form-group\" };\nconst _hoisted_32 = { class: \"edit-buttons\" };\nconst _hoisted_33 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useInventory } from '../hooks/useInventory';\nimport { useMvuData } from '../hooks/useMvuData';\nimport { qualityLabels, slotLabels, tierLabels, typeLabels } from '../itemConstants';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'bagTab',\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { selectedItem, selectItem, deleteItem, isEditing, editableItem, startEditing, cancelEditing, saveChanges, groupOrder, groupedInventory, } = useInventory(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, \" \" + _toDisplayString(_unref(mvu).playerDynamicData.gold) + \"\", 1 /* TEXT */),\n                    _cache[10] || (_cache[10] = _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"button\", { style: { \"margin-right\": \"6px\" } }, [\n                            _createTextVNode(\" \"),\n                            _createElementVNode(\"i\", { class: \"fa-solid fa-capsules\" })\n                        ]),\n                        _createElementVNode(\"button\", null, [\n                            _createTextVNode(\" \"),\n                            _createElementVNode(\"i\", { class: \"fa-solid fa-hammer\" })\n                        ])\n                    ], -1 /* CACHED */))\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    (_unref(mvu).playerDynamicData.inventory && Object.keys(_unref(mvu).playerDynamicData.inventory).length)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(groupOrder), (type) => {\n                                return (_openBlock(), _createElementBlock(_Fragment, { key: type }, [\n                                    (_unref(groupedInventory)[type] && Object.keys(_unref(groupedInventory)[type]).length)\n                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                            _createCommentVNode(\" <div > \"),\n                                            _createElementVNode(\"div\", _hoisted_6, _toDisplayString(_unref(typeLabels)[type]), 1 /* TEXT */),\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(groupedInventory)[type], (item, key) => {\n                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                    class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedItem)?.name === item.name }]),\n                                                    key: key,\n                                                    onClick: ($event) => (_unref(selectItem)(item, key))\n                                                }, [\n                                                    (item.type == 'item')\n                                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_8))\n                                                        : _createCommentVNode(\"v-if\", true),\n                                                    (item.type == 'consumable')\n                                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_9))\n                                                        : _createCommentVNode(\"v-if\", true),\n                                                    (item.type == 'cloth')\n                                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_10))\n                                                        : _createCommentVNode(\"v-if\", true),\n                                                    (item.type == 'weapon')\n                                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_11))\n                                                        : _createCommentVNode(\"v-if\", true),\n                                                    _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)\n                                                ], 10 /* CLASS, PROPS */, _hoisted_7));\n                                            }), 128 /* KEYED_FRAGMENT */)),\n                                            _createCommentVNode(\" </div> \")\n                                        ], 64 /* STABLE_FRAGMENT */))\n                                        : _createCommentVNode(\"v-if\", true)\n                                ], 64 /* STABLE_FRAGMENT */));\n                            }), 128 /* KEYED_FRAGMENT */))\n                        ]))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, \"\")),\n                    _createElementVNode(\"div\", _hoisted_13, [\n                        (_unref(selectedItem))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                                (!_unref(isEditing))\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                        _createElementVNode(\"div\", _hoisted_16, [\n                                            _createTextVNode(_toDisplayString(_unref(selectedItem).name) + \" | \" + _toDisplayString(_unref(selectedItem).id) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_17, [\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-pencil\",\n                                                    onClick: _cache[0] || (_cache[0] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(startEditing) && _unref(startEditing)(...args))),\n                                                    style: { \"cursor\": \"pointer\", \"margin-right\": \"8px\" },\n                                                    title: \"\"\n                                                }),\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-trash-can\",\n                                                    onClick: _cache[1] || (_cache[1] = ($event) => (_unref(deleteItem)(_unref(selectedItem).id))),\n                                                    style: { \"cursor\": \"pointer\" },\n                                                    title: \"\"\n                                                })\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", {\n                                            class: _normalizeClass([\"item-quality\", _unref(selectedItem).quality])\n                                        }, _toDisplayString(_unref(qualityLabels)[_unref(selectedItem).quality]), 3 /* TEXT, CLASS */),\n                                        _createElementVNode(\"div\", _hoisted_18, _toDisplayString(_unref(typeLabels)[_unref(selectedItem).type]) + \" / \" + _toDisplayString(_unref(tierLabels)[_unref(selectedItem).tier]), 1 /* TEXT */),\n                                        (_unref(selectedItem).slot)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, \": \" + _toDisplayString(_unref(slotLabels)[_unref(selectedItem).slot]), 1 /* TEXT */))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createElementVNode(\"div\", _hoisted_20, _toDisplayString(_unref(selectedItem).description), 1 /* TEXT */)\n                                    ]))\n                                    : (_unref(editableItem))\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                                            _createElementVNode(\"div\", _hoisted_22, [\n                                                _cache[11] || (_cache[11] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((_unref(editableItem).name) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableItem).name]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_23, [\n                                                _cache[12] || (_cache[12] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((_unref(editableItem).quality) = $event))\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(qualityLabels), (label, key) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: key,\n                                                            value: key\n                                                        }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_24));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 512 /* NEED_PATCH */), [\n                                                    [_vModelSelect, _unref(editableItem).quality]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_25, [\n                                                _cache[13] || (_cache[13] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => ((_unref(editableItem).type) = $event))\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(typeLabels), (label, key) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: key,\n                                                            value: key\n                                                        }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_26));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 512 /* NEED_PATCH */), [\n                                                    [_vModelSelect, _unref(editableItem).type]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_27, [\n                                                _cache[14] || (_cache[14] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => ((_unref(editableItem).tier) = $event))\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tierLabels), (label, key) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: key,\n                                                            value: key\n                                                        }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_28));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 512 /* NEED_PATCH */), [\n                                                    [_vModelSelect, _unref(editableItem).tier]\n                                                ])\n                                            ]),\n                                            (_unref(editableItem).slot)\n                                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [\n                                                    _cache[15] || (_cache[15] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                    _withDirectives(_createElementVNode(\"select\", {\n                                                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => ((_unref(editableItem).slot) = $event))\n                                                    }, [\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slotLabels), (label, key) => {\n                                                            return (_openBlock(), _createElementBlock(\"option\", {\n                                                                key: key,\n                                                                value: key\n                                                            }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_30));\n                                                        }), 128 /* KEYED_FRAGMENT */))\n                                                    ], 512 /* NEED_PATCH */), [\n                                                        [_vModelSelect, _unref(editableItem).slot]\n                                                    ])\n                                                ]))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            _createElementVNode(\"div\", _hoisted_31, [\n                                                _cache[16] || (_cache[16] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(editableItem).description) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableItem).description]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_32, [\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[8] || (_cache[8] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(saveChanges) && _unref(saveChanges)(...args)))\n                                                }, \"\"),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[9] || (_cache[9] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(cancelEditing) && _unref(cancelEditing)(...args)))\n                                                }, \"\")\n                                            ])\n                                        ]))\n                                        : _createCommentVNode(\"v-if\", true)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_33, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","import { computed, ref, watch } from 'vue';\nimport type { BaseInventoryItem, InventoryItem } from '../itemConstants';\nimport { MvuData } from '../types';\n\nexport function useInventory(mvu: Ref<MvuData>, handleMvuUpdate: Function) {\n  const selectedItem = ref<InventoryItem | null>(null);\n  const isEditing = ref(false);\n  const editableItem = ref<InventoryItem | null>(null);\n\n  function selectItem(item: BaseInventoryItem | null, index: string) {\n    if (selectedItem.value?.id === index) {\n      selectedItem.value = null;\n    } else {\n      selectedItem.value = item\n        ? {\n            ...item,\n            id: index,\n          }\n        : null;\n    }\n  }\n\n  const deleteItem = (itemKey: string) => {\n    const itemToDelete = mvu.value.playerDynamicData.inventory[itemKey];\n    if (selectedItem.value && itemToDelete && selectedItem.value.name === itemToDelete.name) {\n      selectItem(null, '');\n    }\n    handleMvuUpdate([\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `playerDynamicData.inventory.${itemKey}`,\n        },\n      },\n    ]);\n  };\n\n  const editItem = (itemKey: string, item: BaseInventoryItem) => {\n    handleMvuUpdate([\n      {\n        event: 'updateByPath',\n        detail: {\n          path: `playerDynamicData.inventory.${itemKey}`,\n          value: item,\n        },\n      },\n    ]);\n  };\n\n  const startEditing = () => {\n    if (selectedItem.value) {\n      editableItem.value = JSON.parse(JSON.stringify(selectedItem.value));\n      isEditing.value = true;\n    }\n  };\n\n  const cancelEditing = () => {\n    isEditing.value = false;\n    editableItem.value = null;\n  };\n\n  const saveChanges = () => {\n    if (selectedItem.value && editableItem.value) {\n      const { id } = selectedItem.value;\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { id: _, ...itemData } = editableItem.value;\n      editItem(id, itemData);\n      isEditing.value = false;\n      // Manually update selectedItem to reflect changes immediately\n      selectedItem.value = { ...selectedItem.value, ...itemData };\n    }\n  };\n\n  watch(selectedItem, (newItem, oldItem) => {\n    if (newItem?.id !== oldItem?.id) {\n      cancelEditing();\n    }\n  });\n\n  const groupOrder = ['item', 'consumable', 'cloth', 'weapon'] as const;\n\n  const groupedInventory = computed(() => {\n    const groups: { [key: string]: { [key: string]: any } } = {\n      cloth: {},\n      weapon: {},\n      item: {},\n      consumable: {},\n    };\n\n    if (mvu.value.playerDynamicData.inventory) {\n      for (const key in mvu.value.playerDynamicData.inventory) {\n        const item = mvu.value.playerDynamicData.inventory[key];\n        if (item.type && groups[item.type]) {\n          groups[item.type][key] = item;\n        }\n      }\n    }\n\n    return groups;\n  });\n\n  return {\n    selectedItem,\n    selectItem,\n    deleteItem,\n    editItem,\n    isEditing,\n    editableItem,\n    startEditing,\n    cancelEditing,\n    saveChanges,\n    groupOrder,\n    groupedInventory,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./bagTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./bagTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./bagTab.vue?vue&type=style&index=0&id=0fca49fe&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0fca49fe\"]])\n\nexport default __exports__","import type { Ref } from 'vue';\nimport { computed, ref, watch } from 'vue';\nimport type { MvuData } from '../types';\n\n// \nexport interface BaseBestiaryEntry {\n  name: string;\n  description: string;\n  habitat: string;\n  weaknesses: string;\n  knownInfo: string;\n  killCount: number;\n}\n\nexport interface BaseAnecdoteEntry {\n  name: string;\n  description: string;\n  location: string;\n  charactersInvolved: string;\n  knownInfo: string;\n}\n\nexport type CodexEntry = (BaseBestiaryEntry | BaseAnecdoteEntry) & { id: string };\n\nexport function useCodex(mvu: Ref<MvuData>, handleMvuUpdate: Function) {\n  const selectedEntry = ref<CodexEntry | null>(null);\n  const activeCodexTab = ref('bestiary'); // 'bestiary' or 'anecdotes'\n  const isEditing = ref(false);\n  const editableEntry = ref<CodexEntry | null>(null);\n\n  const bestiaryEntries = computed(() => {\n    return mvu.value.worldInfo.bestiary || {};\n  });\n\n  const anecdoteEntries = computed(() => {\n    return mvu.value.worldInfo.anecdotes || {};\n  });\n\n  const selectedTab = ref('');\n  function selectEntry(entry: BaseBestiaryEntry | BaseAnecdoteEntry | null, key: string, tabName: string) {\n    if (selectedEntry.value?.id === key) {\n      selectedEntry.value = null;\n    } else {\n      selectedEntry.value = entry\n        ? {\n            ...entry,\n            id: key,\n          }\n        : null;\n      selectedTab.value = tabName;\n    }\n  }\n\n  const deleteEntry = (entryKey: string) => {\n    const entryToDelete =\n      activeCodexTab.value === 'bestiary'\n        ? mvu.value.worldInfo.bestiary[entryKey]\n        : mvu.value.worldInfo.anecdotes[entryKey];\n\n    if (selectedEntry.value && entryToDelete && selectedEntry.value.name === entryToDelete.name) {\n      selectEntry(null, '', '');\n    }\n\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n\n    handleMvuUpdate([\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `worldInfo.${path}.${entryKey}`,\n        },\n      },\n    ]);\n  };\n\n  const editEntry = (entryKey: string, entry: BaseBestiaryEntry | BaseAnecdoteEntry) => {\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n    handleMvuUpdate([\n      {\n        event: 'updateByPath',\n        detail: {\n          path: `worldInfo.${path}.${entryKey}`,\n          value: entry,\n        },\n      },\n    ]);\n  };\n\n  const startEditing = () => {\n    if (selectedEntry.value) {\n      editableEntry.value = JSON.parse(JSON.stringify(selectedEntry.value));\n      isEditing.value = true;\n    }\n  };\n\n  const cancelEditing = () => {\n    isEditing.value = false;\n    editableEntry.value = null;\n  };\n\n  const saveChanges = () => {\n    if (selectedEntry.value && editableEntry.value) {\n      const { id } = selectedEntry.value;\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { id: _, ...entryData } = editableEntry.value;\n      editEntry(id, entryData);\n      isEditing.value = false;\n      // Manually update selectedEntry to reflect changes immediately\n      selectedEntry.value = { ...selectedEntry.value, ...entryData };\n    }\n  };\n\n  watch(selectedEntry, (newEntry, oldEntry) => {\n    if (newEntry?.id !== oldEntry?.id) {\n      cancelEditing();\n    }\n  });\n\n  watch(activeCodexTab, () => {\n    selectEntry(null, '', '');\n  });\n\n  const archivedEntries = computed(() => {\n    return mvu.value.archivedData.anecdotes || {};\n  });\n\n  const archiveEntry = (entryKey: string) => {\n    const entryToDelete =\n      activeCodexTab.value === 'bestiary'\n        ? mvu.value.worldInfo.bestiary[entryKey]\n        : mvu.value.worldInfo.anecdotes[entryKey];\n\n    if (selectedEntry.value && entryToDelete && selectedEntry.value.name === entryToDelete.name) {\n      selectEntry(null, '', '');\n    }\n\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n\n    handleMvuUpdate([\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `archivedData.${path}.${entryKey}`,\n          value: entryToDelete,\n        },\n      },\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `worldInfo.${path}.${entryKey}`,\n        },\n      },\n    ]);\n  };\n\n  const openEntry = (entryKey: string) => {\n    const entryToDelete =\n      activeCodexTab.value === 'bestiary'\n        ? mvu.value.archivedData.bestiary[entryKey]\n        : mvu.value.archivedData.anecdotes[entryKey];\n\n    if (selectedEntry.value && entryToDelete && selectedEntry.value.name === entryToDelete.name) {\n      selectEntry(null, '', '');\n    }\n\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n\n    handleMvuUpdate([\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `worldInfo.${path}.${entryKey}`,\n          value: entryToDelete,\n        },\n      },\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `archivedData.${path}.${entryKey}`,\n        },\n      },\n    ]);\n  };\n\n  return {\n    selectedEntry,\n    selectEntry,\n    selectedTab,\n    activeCodexTab,\n    bestiaryEntries,\n    anecdoteEntries,\n    deleteEntry,\n    isEditing,\n    editableEntry,\n    startEditing,\n    cancelEditing,\n    saveChanges,\n    archiveEntry,\n    openEntry,\n    archivedEntries,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = { class: \"codex-container\" };\nconst _hoisted_2 = { class: \"master-tabs\" };\nconst _hoisted_3 = { class: \"master-detail-body\" };\nconst _hoisted_4 = { class: \"master-grid codex-grid\" };\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = { class: \"detail-panel\" };\nconst _hoisted_9 = {\n    key: 0,\n    class: \"details-content\"\n};\nconst _hoisted_10 = { key: 0 };\nconst _hoisted_11 = { class: \"item-name flex-between\" };\nconst _hoisted_12 = { style: { \"flex-shrink\": \"0\" } };\nconst _hoisted_13 = {\n    key: 0,\n    class: \"detail-item\"\n};\nconst _hoisted_14 = {\n    key: 1,\n    class: \"detail-item\"\n};\nconst _hoisted_15 = {\n    key: 2,\n    class: \"detail-item\"\n};\nconst _hoisted_16 = {\n    key: 3,\n    class: \"detail-item\"\n};\nconst _hoisted_17 = {\n    key: 4,\n    class: \"detail-item\"\n};\nconst _hoisted_18 = { class: \"item-description\" };\nconst _hoisted_19 = { class: \"item-description\" };\nconst _hoisted_20 = {\n    key: 1,\n    class: \"edit-form\"\n};\nconst _hoisted_21 = { class: \"form-group\" };\nconst _hoisted_22 = { class: \"form-group\" };\nconst _hoisted_23 = { class: \"form-group\" };\nconst _hoisted_24 = { class: \"form-group\" };\nconst _hoisted_25 = { class: \"form-group\" };\nconst _hoisted_26 = { class: \"form-group\" };\nconst _hoisted_27 = { class: \"form-group\" };\nconst _hoisted_28 = { class: \"form-group\" };\nconst _hoisted_29 = { class: \"edit-buttons\" };\nconst _hoisted_30 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useCodex } from '../hooks/useCodex';\nimport { useMvuData } from '../hooks/useMvuData';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'codexTab',\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { selectedEntry, selectEntry, selectedTab, activeCodexTab, bestiaryEntries, anecdoteEntries, deleteEntry, isEditing, editableEntry, startEditing, cancelEditing, saveChanges, archiveEntry, openEntry, archivedEntries, } = useCodex(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeCodexTab.value = 'bestiary')),\n                        class: _normalizeClass({ active: _unref(activeCodexTab) === 'bestiary' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeCodexTab.value = 'anecdotes')),\n                        class: _normalizeClass({ active: _unref(activeCodexTab) === 'anecdotes' })\n                    }, \"  \", 2 /* CLASS */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        (_unref(activeCodexTab) === 'bestiary')\n                            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(bestiaryEntries), (entry, index) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                    class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedEntry)?.name === entry.name }]),\n                                    key: index,\n                                    onClick: ($event) => (_unref(selectEntry)(entry, index, 'bestiaryEntries'))\n                                }, _toDisplayString(entry.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_5));\n                            }), 128 /* KEYED_FRAGMENT */))\n                            : _createCommentVNode(\"v-if\", true),\n                        (_unref(activeCodexTab) === 'anecdotes')\n                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                (Object.keys(_unref(anecdoteEntries)).length)\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                        _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"section-title grid-col-span-full\" }, \"\", -1 /* CACHED */)),\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(anecdoteEntries), (entry, index) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedEntry)?.name === entry.name }]),\n                                                key: index,\n                                                onClick: ($event) => (_unref(selectEntry)(entry, index, 'anecdoteEntries'))\n                                            }, _toDisplayString(entry.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_6));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ], 64 /* STABLE_FRAGMENT */))\n                                    : _createCommentVNode(\"v-if\", true),\n                                (Object.keys(_unref(archivedEntries)).length)\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                        _cache[17] || (_cache[17] = _createElementVNode(\"div\", { class: \"section-title grid-col-span-full\" }, \"\", -1 /* CACHED */)),\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(archivedEntries), (entry, index) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedEntry)?.name === entry.name }]),\n                                                key: index,\n                                                onClick: ($event) => (_unref(selectEntry)(entry, index, 'archivedEntries'))\n                                            }, _toDisplayString(entry.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_7));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ], 64 /* STABLE_FRAGMENT */))\n                                    : _createCommentVNode(\"v-if\", true)\n                            ], 64 /* STABLE_FRAGMENT */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_8, [\n                        (_unref(selectedEntry))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                (!_unref(isEditing))\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                                        _createElementVNode(\"div\", _hoisted_11, [\n                                            _createTextVNode(_toDisplayString(_unref(selectedEntry).name) + \" | \" + _toDisplayString(_unref(selectedEntry).id) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_12, [\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-pencil\",\n                                                    onClick: _cache[2] || (_cache[2] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(startEditing) && _unref(startEditing)(...args))),\n                                                    style: { \"cursor\": \"pointer\", \"margin-right\": \"8px\" },\n                                                    title: \"\"\n                                                }),\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-trash-can\",\n                                                    onClick: _cache[3] || (_cache[3] = ($event) => (_unref(deleteEntry)(_unref(selectedEntry).id))),\n                                                    style: { \"cursor\": \"pointer\", \"margin-right\": \"8px\" },\n                                                    title: \"\"\n                                                }),\n                                                (_unref(selectedTab) != 'archivedEntries')\n                                                    ? (_openBlock(), _createElementBlock(\"i\", {\n                                                        key: 0,\n                                                        class: \"fa-solid fa-box-archive\",\n                                                        onClick: _cache[4] || (_cache[4] = ($event) => (_unref(archiveEntry)(_unref(selectedEntry).id))),\n                                                        style: { \"cursor\": \"pointer\" },\n                                                        title: \"\"\n                                                    }))\n                                                    : _createCommentVNode(\"v-if\", true),\n                                                (_unref(selectedTab) == 'archivedEntries')\n                                                    ? (_openBlock(), _createElementBlock(\"i\", {\n                                                        key: 1,\n                                                        class: \"fa-solid fa-arrow-up-from-bracket\",\n                                                        onClick: _cache[5] || (_cache[5] = ($event) => (_unref(openEntry)(_unref(selectedEntry).id))),\n                                                        style: { \"cursor\": \"pointer\" },\n                                                        title: \"\"\n                                                    }))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ]),\n                                        ('habitat' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                                                _cache[18] || (_cache[18] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).habitat), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('weaknesses' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                                                _cache[19] || (_cache[19] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).weaknesses), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('killCount' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                                _cache[20] || (_cache[20] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).killCount), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('location' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                                                _cache[21] || (_cache[21] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).location), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('charactersInvolved' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                                                _cache[22] || (_cache[22] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).charactersInvolved), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createElementVNode(\"div\", _hoisted_18, [\n                                            _cache[23] || (_cache[23] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).description), 1 /* TEXT */)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_19, [\n                                            _cache[24] || (_cache[24] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).knownInfo), 1 /* TEXT */)\n                                        ])\n                                    ]))\n                                    : (_unref(editableEntry))\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [\n                                            _createElementVNode(\"div\", _hoisted_21, [\n                                                _cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => ((_unref(editableEntry).name) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableEntry).name]\n                                                ])\n                                            ]),\n                                            ('habitat' in _unref(editableEntry))\n                                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                                    _createElementVNode(\"div\", _hoisted_22, [\n                                                        _cache[26] || (_cache[26] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"text\",\n                                                            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(editableEntry).habitat) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).habitat]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_23, [\n                                                        _cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => ((_unref(editableEntry).weaknesses) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).weaknesses]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_24, [\n                                                        _cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"number\",\n                                                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => ((_unref(editableEntry).killCount) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(editableEntry).killCount,\n                                                                void 0,\n                                                                { number: true }\n                                                            ]\n                                                        ])\n                                                    ])\n                                                ], 64 /* STABLE_FRAGMENT */))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            ('location' in _unref(editableEntry))\n                                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                    _createElementVNode(\"div\", _hoisted_25, [\n                                                        _cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"text\",\n                                                            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => ((_unref(editableEntry).location) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).location]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_26, [\n                                                        _cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"text\",\n                                                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((_unref(editableEntry).charactersInvolved) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).charactersInvolved]\n                                                        ])\n                                                    ])\n                                                ], 64 /* STABLE_FRAGMENT */))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            _createElementVNode(\"div\", _hoisted_27, [\n                                                _cache[31] || (_cache[31] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event) => ((_unref(editableEntry).description) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableEntry).description]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_28, [\n                                                _cache[32] || (_cache[32] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event) => ((_unref(editableEntry).knownInfo) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableEntry).knownInfo]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_29, [\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[14] || (_cache[14] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(saveChanges) && _unref(saveChanges)(...args)))\n                                                }, \"\"),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[15] || (_cache[15] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(cancelEditing) && _unref(cancelEditing)(...args)))\n                                                }, \"\")\n                                            ])\n                                        ]))\n                                        : _createCommentVNode(\"v-if\", true)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_30, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./codexTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./codexTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./codexTab.vue?vue&type=style&index=0&id=16573329&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-16573329\"]])\n\nexport default __exports__","// hooks/useParty.ts\nimport _ from 'lodash';\nimport { computed, ref, Ref, watchEffect } from 'vue';\nimport { MvuData, PartyMember } from '../types';\n\ntype UpgradeState = {\n  tempAttributes: Record<string, number>;\n  initialAttributes: Record<string, number>;\n};\n\nexport function useParty(mvu: Ref<MvuData>, rawMvuData: Ref<any>, handleMvuUpdate: Function) {\n  const partyUpgradeState = ref<{ [charName: string]: UpgradeState }>({});\n\n  const isAssigningAttributes = computed(() => {\n    const points = mvu.value.progressData.partyAttrPoints || {};\n    return _.mapValues(points, val => val > 0);\n  });\n\n  const party = computed(() => {\n    const partyAsObject: Record<string, any> = {\n      F0: { ...mvu.value.playerData },\n    };\n    const followerNpcKeys = Object.keys(mvu.value.followerNPCData || {});\n    for (const key of followerNpcKeys) {\n      const mvuNpcData = rawMvuData.value?.followerNPCData?.[key];\n      if (mvuNpcData) {\n        partyAsObject[key] = mvuNpcData;\n      }\n    }\n    return partyAsObject;\n  });\n\n  watchEffect(() => {\n    if (_.some(isAssigningAttributes.value)) {\n      Object.values(party.value).forEach(char => {\n        const charName = char.character.name;\n        if (!partyUpgradeState.value[charName]) {\n          partyUpgradeState.value[charName] = {\n            tempAttributes: _.cloneDeep(char.attributes),\n            initialAttributes: _.cloneDeep(char.attributes),\n          };\n        }\n      });\n    } else {\n      partyUpgradeState.value = {};\n    }\n  });\n\n  const characterLabels: { [key: string]: string } = {\n    name: '',\n    level: '',\n    gender: '',\n    race: '',\n    height: '',\n    build: '',\n    appearance: '',\n    personality: '',\n  };\n  const metaLabels: { [key: string]: string } = {\n    relationship: '',\n    favorability: '',\n    favorabilityTowardsNPCs: 'NPC',\n    description: '',\n    title: '',\n  };\n\n  const attributeLabels: { [key: string]: string } = {\n    shooting: '',\n    melee: '',\n    construction: '',\n    mining: '',\n    cooking: '',\n    planting: '',\n    animals: '',\n    crafting: '',\n    artistic: '',\n    medical: '',\n    social: '',\n    intellectual: '',\n  };\n\n  const statusLabels: { [key: string]: string } = {\n    health: 'HP',\n    mood: '',\n    arousal: '',\n    experience: '',\n  };\n\n  const equipmentLabels: { [key: string]: string } = {\n    leftHand: '',\n    rightHand: '',\n    outfit: 'Id',\n    outfitContent: '',\n  };\n\n  // \n  function validateExperience(char: any): boolean {\n    if (char.status.experience.current < char.status.experience.max) {\n      toastr.warning(`${char.character.name} , `);\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * \n   * S, \n   * @param level - \n   * @returns \n   */\n  function calculateMaxExpForLevel(level: number): number {\n    // S\n    const L = 5000; //  ()\n    const k = 0.1; //  ()\n    const x0 = 40; //  ()\n\n    // \n    const baseLinearGrowth = 100 * level;\n\n    // S\n    const sigmoidPart = L / (1 + Math.exp(-k * (level - x0)));\n\n    //  =  + S\n    return Math.floor(baseLinearGrowth + sigmoidPart);\n  }\n\n  // \n  function calculateLevelUpData(char: any, key: string) {\n    const currentExp = char.status.experience.current;\n    const maxExp = char.status.experience.max;\n    const levelsToGain = 1;\n    const pointsToGain = levelsToGain;\n    const hpGainPerLevel = 10; // 10\n    const newLevel = char.character.level + levelsToGain;\n\n    return {\n      charName: char.character.name,\n      newLevel,\n      newExp: currentExp - maxExp,\n      newMaxExp: calculateMaxExpForLevel(newLevel), // \n      levelsToGain,\n      newAttrPointsForChar: (mvu.value.progressData.partyAttrPoints?.[key] || 0) + pointsToGain,\n      newMaxHp: (char.status.health.max || 10) + hpGainPerLevel * levelsToGain,\n    };\n  }\n\n  // \n  function getCharacterPath(key: string): string {\n    if (key === 'F0') {\n      return 'playerData';\n    }\n    return `followerNPCData.${key}`;\n  }\n\n  // \n  function generateLevelUpCommand(\n    basePath: string,\n    key: string,\n    newLevel: number,\n    newExp: number,\n    newMaxExp: number,\n    newAttrPointsForChar: number,\n    newMaxHp: number,\n  ): any[] {\n    return [\n      { event: 'updateByPath', detail: { path: `${basePath}.character.level`, value: newLevel } },\n      { event: 'updateByPath', detail: { path: `${basePath}.status.health.max`, value: newMaxHp } },\n      { event: 'updateByPath', detail: { path: `${basePath}.status.health.current`, value: newMaxHp } },\n      { event: 'updateByPath', detail: { path: `${basePath}.status.experience.current`, value: newExp } },\n      { event: 'updateByPath', detail: { path: `${basePath}.status.experience.max`, value: newMaxExp } },\n      { event: 'updateByPath', detail: { path: `progressData.partyAttrPoints.${key}`, value: newAttrPointsForChar } },\n    ];\n  }\n\n  // \n  async function levelUp(char: any, key: string) {\n    if (!validateExperience(char)) return;\n\n    const { charName, newLevel, newExp, newMaxExp, levelsToGain, newAttrPointsForChar, newMaxHp } =\n      calculateLevelUpData(char, key);\n    const basePath = getCharacterPath(key);\n    const commands = generateLevelUpCommand(basePath, key, newLevel, newExp, newMaxExp, newAttrPointsForChar, newMaxHp);\n\n    await handleMvuUpdate(commands, () => {\n      toastr.success(`${charName}  ${levelsToGain} !  ${newLevel},  ${levelsToGain} .`);\n    });\n  }\n\n  // \n  function generateAttributeCommands(\n    basePath: string,\n    key: string,\n    tempAttributes: any,\n    initialAttributes: any,\n    newAttrPointsForChar: number,\n  ): any[] {\n    const commands: any[] = [];\n    for (const attrKey in tempAttributes) {\n      if (tempAttributes[attrKey] !== initialAttributes[attrKey]) {\n        commands.push({\n          event: 'updateByPath',\n          detail: { path: `${basePath}.attributes.${attrKey}`, value: tempAttributes[attrKey] },\n        });\n      }\n    }\n    if (commands.length > 0) {\n      commands.push({\n        event: 'updateByPath',\n        detail: { path: `progressData.partyAttrPoints.${key}`, value: newAttrPointsForChar },\n      });\n    }\n    return commands;\n  }\n\n  function getSpentPoints(char: any): number {\n    const state = partyUpgradeState.value[char.character.name];\n    if (!state) return 0;\n    return _.sum(Object.values(state.tempAttributes)) - _.sum(Object.values(state.initialAttributes));\n  }\n\n  // \n  async function commitAttributes(char: any, key: string) {\n    const charName = char.character.name;\n    const state = partyUpgradeState.value[charName];\n    if (!state) return;\n\n    const pointsSpent = getSpentPoints(char);\n\n    if (pointsSpent < 0) {\n      toastr.error('');\n      return;\n    }\n\n    if (pointsSpent === 0) {\n      toastr.info('');\n      return;\n    }\n\n    const availablePoints = mvu.value.progressData.partyAttrPoints?.[key] || 0;\n    if (pointsSpent > availablePoints) {\n      toastr.error('');\n      return;\n    }\n\n    const newAttrPointsForChar = availablePoints - pointsSpent;\n    const basePath = getCharacterPath(key);\n    const commands = generateAttributeCommands(\n      basePath,\n      key,\n      state.tempAttributes,\n      state.initialAttributes,\n      newAttrPointsForChar,\n    );\n\n    if (commands.length === 0) return;\n\n    // const command = commands.join('\\n');\n\n    await handleMvuUpdate(commands, () => {\n      partyUpgradeState.value[charName].initialAttributes = _.cloneDeep(\n        partyUpgradeState.value[charName].tempAttributes,\n      );\n      // const freshChar = party.value.find(p => p.character.name === charName);\n      // if (freshChar && partyUpgradeState.value[charName]) {\n      //   partyUpgradeState.value[charName].initialAttributes = _.cloneDeep(freshChar.attributes);\n      // }\n      toastr.success(`${charName} !`);\n    });\n  }\n\n  function incrementAttribute(char: any, key: string, attrKey: string) {\n    const charName = char.character.name;\n    const state = partyUpgradeState.value[charName];\n    if (state) {\n      const availablePoints = mvu.value.progressData.partyAttrPoints?.[key] || 0;\n      const spentPoints = getSpentPoints(char);\n      if (availablePoints > spentPoints) {\n        state.tempAttributes[attrKey]++;\n      }\n    }\n  }\n\n  function decrementAttribute(char: any, key: string, attrKey: string) {\n    const charName = char.character.name;\n    const state = partyUpgradeState.value[charName];\n    if (state && state.tempAttributes[attrKey] > state.initialAttributes[attrKey]) {\n      state.tempAttributes[attrKey]--;\n    }\n  }\n\n  const selectedChar = ref<PartyMember | null>(null);\n  const selectedCharKey = ref<string | null>(null);\n\n  function selectChar(char: any, key: string) {\n    if (selectedCharKey.value === key) {\n      selectedChar.value = null;\n      selectedCharKey.value = null;\n    } else {\n      selectedChar.value = char;\n      selectedCharKey.value = key;\n    }\n  }\n\n  const characterOutfits = computed(() => {\n    if (!selectedCharKey.value) return {};\n    return _.pickBy(mvu.value.wardrobe.ownedOutfits, outfit => outfit.wearer === selectedCharKey.value);\n  });\n\n  async function updateOutfit(newOutfitId: string) {\n    if (!selectedCharKey.value) return;\n\n    let outfitContent = '';\n    if (newOutfitId && mvu.value.wardrobe.ownedOutfits[newOutfitId]) {\n      const outfitData = mvu.value.wardrobe.ownedOutfits[newOutfitId];\n      const inventory = mvu.value.playerDynamicData.inventory;\n      const itemNames: string[] = [];\n\n      for (const slotKey in outfitData.slots) {\n        const itemIds = (outfitData.slots as any)[slotKey];\n        if (!itemIds) continue;\n\n        const ids = Array.isArray(itemIds) ? itemIds : [itemIds];\n        for (const id of ids) {\n          if (inventory[id]) {\n            itemNames.push(inventory[id].name);\n          }\n        }\n      }\n      outfitContent = itemNames.join(',');\n    }\n\n    const basePath = getCharacterPath(selectedCharKey.value);\n    const commands = [\n      {\n        event: 'updateByPath',\n        detail: { path: `archivedData.outfitIds.${selectedCharKey.value}`, value: newOutfitId },\n      },\n      {\n        event: 'updateByPath',\n        detail: { path: `${basePath}.equipment.outfitContent`, value: outfitContent },\n      },\n    ];\n\n    await handleMvuUpdate(commands, () => {\n      toastr.success('!');\n    });\n  }\n\n  const getNPCNameByKey = (npcKey: string): string => {\n    const npc = mvu.value.worldInfo.nearbyNPC;\n    const party = mvu.value.followerNPCData;\n    const archivedNpc = mvu.value.archivedData.worldNPC;\n    return npc[npcKey]\n      ? npc[npcKey].character.name\n      : party[npcKey]\n        ? party[npcKey].character.name\n        : archivedNpc[npcKey]\n          ? archivedNpc[npcKey].character.name\n          : 'NPC';\n  };\n  const getFavorabilityTowardsNPCs = (val: Record<string, number> | undefined) => {\n    if (!val) return '';\n\n    const favs = Object.entries(val).map(([npcName, fav]) => {\n      return `${npcName}: ${fav}`;\n    });\n    return favs.join(', ');\n  };\n\n  const getHealthDescription = (current: number, max: number): string => {\n    if (current / max >= 0.75) return '';\n    if (current / max >= 0.5) return '';\n    if (current / max >= 0.25) return '';\n    return '';\n  };\n\n  const getHealthColor = (current: number, max: number): string => {\n    if (current / max >= 0.75) return '#4caf50';\n    if (current / max >= 0.5) return '#8bc34a';\n    if (current / max >= 0.25) return '#ffeb3b';\n    return '#f44336';\n  };\n\n  return {\n    party,\n    partyUpgradeState,\n    characterLabels,\n    metaLabels,\n    attributeLabels,\n    statusLabels,\n    equipmentLabels,\n    isAssigningAttributes,\n    getSpentPoints,\n    levelUp,\n    commitAttributes,\n    incrementAttribute,\n    decrementAttribute,\n    selectChar,\n    selectedChar,\n    selectedCharKey,\n    characterOutfits,\n    updateOutfit,\n    getNPCNameByKey,\n    getFavorabilityTowardsNPCs,\n    getHealthDescription,\n    getHealthColor,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"party-container\" };\nconst _hoisted_2 = { class: \"master-detail-body\" };\nconst _hoisted_3 = { class: \"character-card-pane\" };\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = { class: \"char-header\" };\nconst _hoisted_6 = { class: \"char-name\" };\nconst _hoisted_7 = { class: \"right-btns\" };\nconst _hoisted_8 = { key: 0 };\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\", \"disabled\"];\nconst _hoisted_11 = { class: \"column\" };\nconst _hoisted_12 = { class: \"status\" };\nconst _hoisted_13 = { class: \"bar\" };\nconst _hoisted_14 = { class: \"attributes\" };\nconst _hoisted_15 = {\n    key: 0,\n    class: \"attr-value-controls\"\n};\nconst _hoisted_16 = [\"onClick\", \"disabled\"];\nconst _hoisted_17 = { class: \"attr-value\" };\nconst _hoisted_18 = [\"onClick\", \"disabled\"];\nconst _hoisted_19 = {\n    key: 1,\n    class: \"attr-value\"\n};\nconst _hoisted_20 = { class: \"detail-panel\" };\nconst _hoisted_21 = {\n    key: 0,\n    class: \"scene-detail-item\"\n};\nconst _hoisted_22 = { class: \"column\" };\nconst _hoisted_23 = { class: \"section-title\" };\nconst _hoisted_24 = { key: 0 };\nconst _hoisted_25 = { key: 1 };\nconst _hoisted_26 = { class: \"column-content\" };\nconst _hoisted_27 = [\"value\"];\nconst _hoisted_28 = [\"value\"];\nconst _hoisted_29 = { key: 0 };\nconst _hoisted_30 = { key: 1 };\nconst _hoisted_31 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useParty } from '../hooks/useParty';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'partyTab',\n    setup(__props) {\n        const { mvu, rawMvuData, handleMvuUpdate, initialize } = useMvuData();\n        const { party, partyUpgradeState, characterLabels, metaLabels, attributeLabels, statusLabels, equipmentLabels, levelUp, commitAttributes, incrementAttribute, decrementAttribute, isAssigningAttributes, getSpentPoints, selectChar, selectedChar, selectedCharKey, characterOutfits, updateOutfit, getNPCNameByKey, getFavorabilityTowardsNPCs, getHealthDescription, getHealthColor, } = useParty(mvu, rawMvuData, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(party), (char, charKey) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                class: _normalizeClass([\"character-card\", { selected: _unref(selectedCharKey) === charKey }]),\n                                key: charKey,\n                                onClick: ($event) => (_unref(selectChar)(char, charKey))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_5, [\n                                    _createElementVNode(\"span\", _hoisted_6, _toDisplayString(char.character.name) + \" (Lv. \" + _toDisplayString(char.character.level) + \")\", 1 /* TEXT */),\n                                    _createElementVNode(\"div\", _hoisted_7, [\n                                        (_unref(isAssigningAttributes)[charKey])\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                                                _createElementVNode(\"span\", null, \": \" + _toDisplayString((_unref(mvu).progressData.partyAttrPoints[charKey] || 0) - _unref(getSpentPoints)(char)), 1 /* TEXT */),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: ($event) => (_unref(commitAttributes)(char, charKey))\n                                                }, \"\", 8 /* PROPS */, _hoisted_9)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createElementVNode(\"button\", {\n                                            onClick: ($event) => (_unref(levelUp)(char, charKey)),\n                                            disabled: !char.status.experience || char.status.experience.current < char.status.experience.max\n                                        }, \"  \", 8 /* PROPS */, _hoisted_10)\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_11, [\n                                    _createCommentVNode(\"  \"),\n                                    _createElementVNode(\"div\", _hoisted_12, [\n                                        _createCommentVNode(\" <div class=\\\"stat grid-col-1\\\">{{ charKey }} | {{ char.character.gender }} {{ char.character.race }}</div> \"),\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(char.status, (stat, key) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: \"stat\",\n                                                key: key\n                                            }, [\n                                                _createTextVNode(_toDisplayString(_unref(statusLabels)[key]) + \" \", 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_13, [\n                                                    _createElementVNode(\"div\", {\n                                                        class: \"fill\",\n                                                        style: _normalizeStyle({ width: `${Math.min(100, (stat.current / stat.max) * 100)}%` })\n                                                    }, null, 4 /* STYLE */)\n                                                ]),\n                                                _createTextVNode(\" \" + _toDisplayString(stat.current) + \" / \" + _toDisplayString(stat.max) + \" \", 1 /* TEXT */),\n                                                _cache[1] || (_cache[1] = _createElementVNode(\"div\", null, null, -1 /* CACHED */)),\n                                                (key == 'health')\n                                                    ? (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: 0,\n                                                        class: \"grid-col-1\",\n                                                        style: _normalizeStyle({ color: _unref(getHealthColor)(stat.current, stat.max) })\n                                                    }, \" : \" + _toDisplayString(_unref(getHealthDescription)(stat.current, stat.max)), 5 /* TEXT, STYLE */))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ]),\n                                    _createCommentVNode(\"  \"),\n                                    _createElementVNode(\"div\", _hoisted_14, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(char.attributes, (value, attrKey) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: \"attr\",\n                                                key: attrKey\n                                            }, [\n                                                _createElementVNode(\"span\", null, _toDisplayString(_unref(attributeLabels)[attrKey] || attrKey), 1 /* TEXT */),\n                                                (_unref(isAssigningAttributes)[charKey])\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"small\",\n                                                            onClick: ($event) => (_unref(decrementAttribute)(char, charKey, attrKey)),\n                                                            disabled: _unref(partyUpgradeState)[char.character.name]?.tempAttributes[attrKey] <=\n                                                                _unref(partyUpgradeState)[char.character.name]?.initialAttributes[attrKey]\n                                                        }, \" - \", 8 /* PROPS */, _hoisted_16),\n                                                        _createElementVNode(\"span\", _hoisted_17, _toDisplayString(_unref(partyUpgradeState)[char.character.name]?.tempAttributes[attrKey]), 1 /* TEXT */),\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"small\",\n                                                            onClick: ($event) => (_unref(incrementAttribute)(char, charKey, attrKey)),\n                                                            disabled: (_unref(mvu).progressData.partyAttrPoints[charKey] || 0) <= _unref(getSpentPoints)(char)\n                                                        }, \" + \", 8 /* PROPS */, _hoisted_18)\n                                                    ]))\n                                                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_19, _toDisplayString(value), 1 /* TEXT */))\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ])\n                                ])\n                            ], 10 /* CLASS, PROPS */, _hoisted_4));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_20, [\n                        (_unref(selectedChar) && _unref(selectedCharKey))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                                _createElementVNode(\"div\", _hoisted_22, [\n                                    _createElementVNode(\"div\", _hoisted_23, \" | \" + _toDisplayString(_unref(selectedCharKey)), 1 /* TEXT */),\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedChar).character, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(characterLabels)[key] || key), 1 /* TEXT */),\n                                            _createTextVNode(\" \" + _toDisplayString(value), 1 /* TEXT */)\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */)),\n                                    _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"section-title\" }, \"\", -1 /* CACHED */)),\n                                    ('meta' in _unref(selectedChar))\n                                        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(selectedChar).meta, (value, key) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: \"column-content\",\n                                                key: key\n                                            }, [\n                                                _createElementVNode(\"span\", null, _toDisplayString(_unref(metaLabels)[key] || key), 1 /* TEXT */),\n                                                (key === 'favorabilityTowardsNPCs')\n                                                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_24, _toDisplayString(_unref(getFavorabilityTowardsNPCs)(value)), 1 /* TEXT */))\n                                                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_25, _toDisplayString(value), 1 /* TEXT */))\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                        : _createCommentVNode(\"v-if\", true),\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"section-title\" }, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_26, [\n                                        _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"ID\", -1 /* CACHED */)),\n                                        _createElementVNode(\"select\", {\n                                            value: _unref(mvu).archivedData.outfitIds[_unref(selectedCharKey)],\n                                            onChange: _cache[0] || (_cache[0] = ($event) => (_unref(updateOutfit)($event.target.value)))\n                                        }, [\n                                            _cache[2] || (_cache[2] = _createElementVNode(\"option\", { value: \"\" }, \"\", -1 /* CACHED */)),\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(characterOutfits), (outfit, outfitId) => {\n                                                return (_openBlock(), _createElementBlock(\"option\", {\n                                                    key: outfitId,\n                                                    value: outfitId\n                                                }, _toDisplayString(outfit.name), 9 /* TEXT, PROPS */, _hoisted_28));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ], 40 /* PROPS, NEED_HYDRATION */, _hoisted_27)\n                                    ]),\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedChar).equipment, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(equipmentLabels)[key] || key), 1 /* TEXT */),\n                                            value\n                                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_29, _toDisplayString(value), 1 /* TEXT */))\n                                                : (_openBlock(), _createElementBlock(\"span\", _hoisted_30, \" -- \"))\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ])\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_31, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./partyTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./partyTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./partyTab.vue?vue&type=style&index=0&id=11013fca&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-11013fca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"quest-container\" };\nconst _hoisted_2 = { class: \"master-tabs\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_4 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_5 = { class: \"quest-phase\" };\nconst _hoisted_6 = { class: \"quest-title\" };\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = { class: \"quest-description\" };\nconst _hoisted_10 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_11 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_12 = { class: \"quest-title\" };\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = { class: \"quest-description\" };\nconst _hoisted_16 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_17 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_18 = { class: \"quest-title\" };\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = { class: \"quest-description\" };\nconst _hoisted_21 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_22 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_23 = { class: \"quest-title\" };\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = { class: \"quest-description\" };\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useQuests } from '../hooks/useQuests';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'questsTab',\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { currentQuests, nextQuests, pendingQuests, completedQuests, activeQuestTab, activeQuest, completeQuest, deleteQuest, } = useQuests(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeQuestTab.value = 'currentQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'currentQuests' })\n                    }, \"  \", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeQuestTab.value = 'nextQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'nextQuests' })\n                    }, \"  \", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[2] || (_cache[2] = ($event) => (activeQuestTab.value = 'pendingQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'pendingQuests' })\n                    }, \"  \", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[3] || (_cache[3] = ($event) => (activeQuestTab.value = 'completedQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'completedQuests' })\n                    }, \"  \", 2 /* CLASS */)\n                ]),\n                (_unref(activeQuestTab) === 'currentQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        (Object.keys(_unref(currentQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                                _createElementVNode(\"div\", _hoisted_5, \": \" + _toDisplayString(_unref(mvu).progressData.questPhase), 1 /* TEXT */),\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(currentQuests), (quest, questId) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain, 'main-quest': quest.isMain }]),\n                                        key: questId\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_6, [\n                                            _createTextVNode(_toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"div\", null, [\n                                                _createElementVNode(\"button\", {\n                                                    onClick: ($event) => (_unref(completeQuest)(questId)),\n                                                    style: { \"margin-right\": \"6px\" }\n                                                }, \"\", 8 /* PROPS */, _hoisted_7),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: ($event) => (_unref(deleteQuest)(questId, 'currentQuest'))\n                                                }, \"\", 8 /* PROPS */, _hoisted_8)\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_9, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                (_unref(activeQuestTab) === 'nextQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        (Object.keys(_unref(nextQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(nextQuests), (quest, questId) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain, 'main-quest': quest.isMain }]),\n                                        key: questId\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_12, [\n                                            _createTextVNode(_toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"div\", null, [\n                                                _createElementVNode(\"button\", {\n                                                    onClick: ($event) => (_unref(activeQuest)(questId)),\n                                                    style: { \"margin-right\": \"6px\" }\n                                                }, \"\", 8 /* PROPS */, _hoisted_13),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: ($event) => (_unref(deleteQuest)(questId, 'nextQuest'))\n                                                }, \"\", 8 /* PROPS */, _hoisted_14)\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_15, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                (_unref(activeQuestTab) === 'pendingQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                        (Object.keys(_unref(pendingQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(pendingQuests), (quest, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain, 'main-quest': quest.isMain }]),\n                                        key: index\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_18, [\n                                            _createTextVNode(_toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(deleteQuest)(index, 'pendingQuest'))\n                                            }, \"\", 8 /* PROPS */, _hoisted_19)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_20, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                (_unref(activeQuestTab) === 'completedQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                        (Object.keys(_unref(completedQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(completedQuests), (quest, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain, 'main-quest': quest.isMain }]),\n                                        key: index\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_23, [\n                                            _createTextVNode(_toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(deleteQuest)(index, 'completedQuest'))\n                                            }, \"\", 8 /* PROPS */, _hoisted_24)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_25, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true)\n            ]));\n        };\n    }\n});\n","// hooks/useQuests.ts\nimport { computed, ref } from 'vue';\n\nexport function useQuests(mvu: any, handleMvuUpdate: any) {\n  const currentQuests = computed(() => {\n    return mvu.value.progressData.currentQuest;\n  });\n\n  const nextQuests = computed(() => {\n    return mvu.value.progressData.nextQuest;\n  });\n\n  const pendingQuests = computed(() => {\n    return mvu.value.progressData.pendingQuest;\n  });\n\n  const completedQuests = computed(() => {\n    return mvu.value.progressData.completedQuest;\n  });\n\n  const activeQuestTab = ref('currentQuests');\n\n  const activeQuest = (questId: string) => {\n    const questToActivate = mvu.value.progressData.nextQuest[questId];\n\n    if (questToActivate) {\n      const quest = _.cloneDeep(questToActivate);\n      toastr.success(` ${questToActivate.name} `);\n      handleMvuUpdate([\n        {\n          event: 'insertByPath',\n          detail: { path: `progressData.currentQuest.${questId}`, value: quest },\n        },\n        {\n          event: 'deleteByPath',\n          detail: { path: `progressData.nextQuest.${questId}` },\n        },\n      ]);\n    }\n  };\n  const completeQuest = (questId: string) => {\n    const questToComplete = mvu.value.progressData.currentQuest[questId];\n\n    if (questToComplete) {\n      const quest = _.cloneDeep(questToComplete);\n      toastr.success(` ${questToComplete.name} `);\n      handleMvuUpdate([\n        {\n          event: 'insertByPath',\n          detail: { path: `progressData.completedQuest.${questId}`, value: quest },\n        },\n        {\n          event: 'deleteByPath',\n          detail: { path: `progressData.currentQuest.${questId}` },\n        },\n      ]);\n    }\n  };\n\n  const deleteQuest = (\n    questId: string,\n    questType: 'currentQuest' | 'nextQuest' | 'pendingQuest' | 'completedQuest',\n  ) => {\n    const questToDelete = mvu.value.progressData[questType]?.[questId];\n    if (questToDelete) {\n      toastr.success(` ${questToDelete.name}`);\n      handleMvuUpdate([\n        {\n          event: 'deleteByPath',\n          detail: {\n            path: `progressData.${questType}.${questId}`,\n          },\n        },\n      ]);\n    }\n  };\n\n  return {\n    currentQuests,\n    nextQuests,\n    pendingQuests,\n    completedQuests,\n    activeQuestTab,\n    activeQuest,\n    completeQuest,\n    deleteQuest,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./questsTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./questsTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./questsTab.vue?vue&type=style&index=0&id=5c545612&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5c545612\"]])\n\nexport default __exports__","import { z } from 'zod';\n\n// ============  ============\n\nexport const TierTypeSchema = z.enum(['basic', 'light', 'medium', 'heavy']);\nexport type TierType = z.infer<typeof TierTypeSchema>;\nexport const QualityTypeSchema = z.enum(['common', 'good', 'excellent', 'masterwork', 'legendary']);\nexport type QualityType = z.infer<typeof QualityTypeSchema>;\nexport const SlotTypeSchema = z.enum([\n  'head',\n  'bodyInner',\n  'bodyArmor',\n  'hands',\n  'legsInner',\n  'legsArmor',\n  'feet',\n  'cloak',\n  'neck',\n  'ring',\n  'belt',\n]);\nexport type SlotType = z.infer<typeof SlotTypeSchema>;\nexport const ItemTypeSchema = z.enum(['cloth', 'weapon', 'item']);\nexport type ItemType = z.infer<typeof ItemTypeSchema>;\n\nexport const BaseInventoryItemSchema = z.object({\n  name: z.string().default(''),\n  description: z.string().default(''),\n  quality: QualityTypeSchema.default('common'),\n  type: ItemTypeSchema.default('item'),\n  tier: TierTypeSchema.default('basic'),\n  slot: SlotTypeSchema.optional(),\n});\nexport type BaseInventoryItem = z.infer<typeof BaseInventoryItemSchema>;\n\nexport const InventoryItemSchema = BaseInventoryItemSchema.extend({\n  id: z.string(),\n});\nexport type InventoryItem = z.infer<typeof InventoryItemSchema>;\n\nexport interface TierData {\n  name: string;\n  description?: string;\n  defenseCoeff: number;\n  comfortCoeff: number;\n  warmthCoeff: number;\n  socialCoeff: number;\n  weightCoeff: number;\n}\n\nexport interface QualityData {\n  name: string;\n  color: string;\n  allAttributesCoeff: number;\n}\n\nexport interface SlotData {\n  name: string;\n  baseDefense: number;\n  baseComfort: number;\n  baseWarmth: number;\n  baseSocial: number;\n  baseWeight: number;\n}\n\n// ============  ============\n\nconst ClothingSystemData = {\n  TierSystem: {\n    basic: {\n      name: '',\n      description: ',',\n      defenseCoeff: 0.5,\n      comfortCoeff: 1.2,\n      warmthCoeff: 1.0,\n      socialCoeff: 0.8,\n      weightCoeff: 0.6,\n    },\n    light: {\n      name: '',\n      description: ',',\n      defenseCoeff: 1.0,\n      comfortCoeff: 1.0,\n      warmthCoeff: 0.9,\n      socialCoeff: 1.0,\n      weightCoeff: 1.0,\n    },\n    medium: {\n      name: '',\n      description: ',',\n      defenseCoeff: 1.5,\n      comfortCoeff: 0.6,\n      warmthCoeff: 0.7,\n      socialCoeff: 1.2,\n      weightCoeff: 1.8,\n    },\n    heavy: {\n      name: '',\n      description: ',',\n      defenseCoeff: 2.0,\n      comfortCoeff: 0.3,\n      warmthCoeff: 0.5,\n      socialCoeff: 1.5,\n      weightCoeff: 2.5,\n    },\n  } as Record<TierType, TierData>,\n\n  QualitySystem: {\n    common: { name: '', allAttributesCoeff: 1.0, color: '#9d9d9d' },\n    good: { name: '', allAttributesCoeff: 1.2, color: '#1eff00' },\n    excellent: { name: '', allAttributesCoeff: 1.5, color: '#0070dd' },\n    masterwork: { name: '', allAttributesCoeff: 2.0, color: '#a335ee' },\n    legendary: { name: '', allAttributesCoeff: 3.0, color: '#ff8000' },\n  } as Record<QualityType, QualityData>,\n\n  ClothingSlots: {\n    head: { name: '', baseDefense: 5, baseComfort: 7, baseWarmth: 4, baseSocial: 5, baseWeight: 1.0 },\n    bodyInner: { name: '', baseDefense: 2, baseComfort: 9, baseWarmth: 5, baseSocial: 4, baseWeight: 0.5 },\n    bodyArmor: { name: '', baseDefense: 12, baseComfort: 5, baseWarmth: 4, baseSocial: 7, baseWeight: 6.0 },\n    hands: { name: '', baseDefense: 3, baseComfort: 7, baseWarmth: 5, baseSocial: 4, baseWeight: 0.5 },\n    legsInner: { name: '', baseDefense: 2, baseComfort: 9, baseWarmth: 4, baseSocial: 4, baseWeight: 0.4 },\n    legsArmor: { name: '', baseDefense: 10, baseComfort: 5, baseWarmth: 4, baseSocial: 6, baseWeight: 5.0 },\n    feet: { name: '', baseDefense: 4, baseComfort: 8, baseWarmth: 6, baseSocial: 5, baseWeight: 1.0 },\n    cloak: { name: '', baseDefense: 1, baseComfort: 8, baseWarmth: 10, baseSocial: 7, baseWeight: 1.5 },\n    neck: { name: '', baseDefense: 1, baseComfort: 10, baseWarmth: 3, baseSocial: 6, baseWeight: 0.1 },\n    ring: { name: '', baseDefense: 0, baseComfort: 10, baseWarmth: 0, baseSocial: 8, baseWeight: 0.02 },\n    belt: { name: '', baseDefense: 1, baseComfort: 8, baseWarmth: 0, baseSocial: 5, baseWeight: 0.3 },\n  } as Record<SlotType, SlotData>,\n};\n\n// ============  ============\n\nexport const qualityLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.QualitySystem).map(([key, value]) => [key, value.name]),\n) as Record<QualityType, string>;\n\nexport const tierLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.TierSystem).map(([key, value]) => [key, value.name]),\n) as Record<TierType, string>;\n\nexport const slotLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.ClothingSlots).map(([key, value]) => [key, value.name]),\n) as Record<SlotType, string>;\n\nexport const typeLabels: Record<ItemType, string> = {\n  cloth: '',\n  weapon: '',\n  item: '',\n};\n\nexport { ClothingSystemData };\n","import { ClothingSystemData, type QualityType, type SlotType, type TierType } from '../ERA/itemConstants';\n\n// ============  ============\n\nexport interface ClothingAttributes {\n  defense: number;\n  comfort: number;\n  warmth: number;\n  social: number;\n  weight: number;\n}\n\nexport interface CalculationResult {\n  valid: boolean;\n  error?: string;\n  usedDefaults?: {\n    tier: boolean;\n    quality: boolean;\n  };\n  input?: {\n    tier: TierType;\n    quality: QualityType;\n    slot: SlotType;\n  };\n  displayName?: string;\n  slotName?: string;\n  tierName?: string;\n  qualityName?: string;\n  qualityColor?: string;\n  attributes?: ClothingAttributes;\n  defense: number;\n  comfort: number;\n  warmth: number;\n  social: number;\n  weight: number;\n}\n\nexport interface ClothingInput {\n  tier: TierType;\n  quality: QualityType;\n  slot: SlotType;\n}\n\nexport interface GeneratedClothing {\n  tier: TierType;\n  quality: QualityType;\n  slot: SlotType;\n  material: string;\n  name: string;\n}\n\nexport interface GenerateOptions {\n  slot?: SlotType;\n  tier?: TierType;\n  quality?: QualityType;\n}\n\n// ============  ============\n\n// \nconst MATERIALS: readonly string[] = [\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n] as const;\n\n// \nconst CLOTHING_NAMES: Record<SlotType, readonly string[]> = {\n  head: [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ],\n  bodyInner: ['', '', '', '', '', '', '', '', '', ''],\n  bodyArmor: [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ],\n  hands: ['', '', '', '', '', '', '', '', '', ''],\n  legsInner: ['', '', '', '', '', '', '', ''],\n  legsArmor: ['', '', '', '', '', '', '', '', ''],\n  feet: [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ],\n  cloak: ['', '', '', '', '', '', '', '', '', ''],\n  neck: ['', '', '', '', '', '', '', '', '', ''],\n  ring: ['', '', '', '', '', '', '', '', ''],\n  belt: ['', '', '', '', '', '', '', '', ''],\n} as const;\n\n// ============  ============\n\n/**\n * \n */\nfunction calculateClothingAttributes(input: ClothingInput): CalculationResult {\n  const { tier, quality, slot } = input;\n\n  // \n  const defaultTier: TierType = 'light';\n  const defaultQuality: QualityType = 'common';\n\n  // \n  const tierData = ClothingSystemData.TierSystem[tier] || ClothingSystemData.TierSystem[defaultTier];\n  const qualityData = ClothingSystemData.QualitySystem[quality] || ClothingSystemData.QualitySystem[defaultQuality];\n  const slotData = ClothingSystemData.ClothingSlots[slot];\n\n  // slot0\n  if (!slotData) {\n    return {\n      valid: false,\n      error: `: ${slot}`,\n      defense: 0,\n      comfort: 0,\n      warmth: 0,\n      social: 0,\n      weight: 0,\n    };\n  }\n\n  // \n  const usedDefaults = {\n    tier: !ClothingSystemData.TierSystem[tier],\n    quality: !ClothingSystemData.QualitySystem[quality],\n  };\n\n  //     \n  const qCoeff = qualityData.allAttributesCoeff;\n\n  const defense = Math.round(slotData.baseDefense * tierData.defenseCoeff * qCoeff * 10) / 10;\n  const comfort = Math.round(slotData.baseComfort * tierData.comfortCoeff * qCoeff * 10) / 10;\n  const warmth = Math.round(slotData.baseWarmth * tierData.warmthCoeff * qCoeff * 10) / 10;\n  const social = Math.round(slotData.baseSocial * tierData.socialCoeff * qCoeff * 10) / 10;\n  const weight = Math.round(slotData.baseWeight * tierData.weightCoeff * qCoeff * 100) / 100;\n\n  return {\n    valid: true,\n    usedDefaults,\n    input: {\n      tier: tier || defaultTier,\n      quality: quality || defaultQuality,\n      slot,\n    },\n    displayName: `${qualityData.name}${tierData.name}${slotData.name}`,\n    slotName: slotData.name,\n    tierName: tierData.name,\n    qualityName: qualityData.name,\n    qualityColor: qualityData.color,\n    attributes: {\n      defense,\n      comfort,\n      warmth,\n      social,\n      weight,\n    },\n    defense,\n    comfort,\n    warmth,\n    social,\n    weight,\n  };\n}\n\n/**\n * \n */\nfunction randomChoice<T>(arr: readonly T[]): T {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\n/**\n * \n */\nfunction generateRandomClothing(options: GenerateOptions = {}): GeneratedClothing {\n  // \n  const validTiers = Object.keys(ClothingSystemData.TierSystem) as TierType[];\n  const validQualities = Object.keys(ClothingSystemData.QualitySystem) as QualityType[];\n  const validSlots = Object.keys(ClothingSystemData.ClothingSlots) as SlotType[];\n\n  // \n  const tier = options.tier && validTiers.includes(options.tier) ? options.tier : randomChoice(validTiers);\n\n  const quality =\n    options.quality && validQualities.includes(options.quality) ? options.quality : randomChoice(validQualities);\n\n  const slot = options.slot && validSlots.includes(options.slot) ? options.slot : randomChoice(validSlots);\n\n  // \n  const material = randomChoice(MATERIALS);\n  const name = randomChoice(CLOTHING_NAMES[slot]);\n\n  return {\n    tier,\n    quality,\n    slot,\n    material,\n    name,\n  };\n}\n\n/**\n * \n */\nfunction generateRandomClothingBatch(count: number, options: GenerateOptions = {}): GeneratedClothing[] {\n  const items: GeneratedClothing[] = [];\n  for (let i = 0; i < count; i++) {\n    items.push(generateRandomClothing(options));\n  }\n  return items;\n}\n\n// ============  ============\n\nexport {\n  // \n  calculateClothingAttributes,\n  // \n  CLOTHING_NAMES,\n  generateRandomClothing,\n  generateRandomClothingBatch,\n  MATERIALS,\n  randomChoice,\n};\n\n/** ============  ============\n\n// \nconsole.log(\"=== TypeScript  ===\\n\");\n\nconst item1 = generateRandomClothing();\nconsole.log(\":\", item1);\nconsole.log(\":\", calculateClothingAttributes(item1));\n\nconst legendaryItems = generateRandomClothingBatch(3, { quality: \"legendary\" });\nconsole.log(\"\\n:\", legendaryItems);\n */\n","// hooks/useWardrobe.ts\nimport { computed, ref, Ref, watch } from 'vue';\nimport { calculateClothingAttributes } from '../clothingConstants';\nimport { QualityType, SlotType, TierType } from '../itemConstants';\nimport { MvuData, Slots } from '../types';\n\nexport function useWardrobe(mvu: Ref<MvuData>, emit: (event: 'open-update', outfitId?: string) => void) {\n  const slotNames: { [key: string]: string } = {\n    head: '',\n    bodyInner: '',\n    bodyArmor: '',\n    hands: '',\n    legsInner: '',\n    legsArmor: '',\n    feet: '',\n    cloak: '',\n    neck: '',\n    ring: '',\n    belt: '',\n    extra: '',\n  };\n\n  const selectedOutfitId = ref('');\n\n  const hydrateOutfit = (outfitData: any) => {\n    if (!outfitData) return null;\n\n    const hydratedSlots: any = {};\n    const inventory = mvu.value.playerDynamicData.inventory;\n\n    for (const slotKey in outfitData.slots) {\n      const slotName = slotKey as keyof Slots;\n      if (slotName === 'extra') {\n        const itemIds = (outfitData.slots[slotName] || []) as string[];\n        hydratedSlots[slotName] = itemIds.map(id => (inventory[id] ? { ...inventory[id], id } : null)).filter(Boolean);\n      } else {\n        const itemId = outfitData.slots[slotName];\n        if (itemId && inventory[itemId]) {\n          hydratedSlots[slotName] = { ...inventory[itemId], id: itemId };\n        } else {\n          hydratedSlots[slotName] = null;\n        }\n      }\n    }\n\n    return { ...outfitData, slots: hydratedSlots };\n  };\n\n  const selectedOutfit = computed(() => {\n    const outfitData = mvu.value.wardrobe.ownedOutfits[selectedOutfitId.value];\n    return hydrateOutfit(outfitData);\n  });\n\n  const editOutfit = (outfitId: string) => {\n    emit('open-update', outfitId);\n  };\n\n  const clothingAttributes = ref({\n    defense: 0,\n    comfort: 0,\n    warmth: 0,\n    social: 0,\n    weight: 0,\n  });\n\n  // , \n  watch(\n    selectedOutfit,\n    outfit => {\n      const newAttributes = {\n        defense: 0,\n        comfort: 0,\n        warmth: 0,\n        social: 0,\n        weight: 0,\n      };\n\n      if (outfit) {\n        for (const slot in outfit.slots) {\n          const item = outfit.slots[slot as keyof Slots];\n          if (item && !Array.isArray(item)) {\n            try {\n              const itemAttributes = calculateClothingAttributes({\n                tier: item.tier as TierType,\n                quality: item.quality as QualityType,\n                slot: item.slot as SlotType,\n              });\n              newAttributes.defense += itemAttributes.defense || 0;\n              newAttributes.comfort += itemAttributes.comfort || 0;\n              newAttributes.warmth += itemAttributes.warmth || 0;\n              newAttributes.social += itemAttributes.social || 0;\n              newAttributes.weight += itemAttributes.weight || 0;\n            } catch (error) {\n              console.error(`${slot}:`, item, error);\n            }\n          }\n        }\n      }\n\n      clothingAttributes.value = newAttributes;\n    },\n    { immediate: true },\n  );\n\n  const openUpdateOutfit = () => {\n    emit('open-update');\n  };\n\n  return {\n    slotNames,\n    selectedOutfitId,\n    selectedOutfit,\n    editOutfit,\n    openUpdateOutfit,\n    clothingAttributes,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = { class: \"wardrobe-container\" };\nconst _hoisted_2 = { class: \"outfit-list\" };\nconst _hoisted_3 = { class: \"outfit-header\" };\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = { class: \"outfit-details\" };\nconst _hoisted_6 = { class: \"outfit-header\" };\nconst _hoisted_7 = { class: \"section-title\" };\nconst _hoisted_8 = { class: \"equipment-slots\" };\nconst _hoisted_9 = {\n    key: 0,\n    class: \"slot-item\"\n};\nconst _hoisted_10 = { class: \"slot-name\" };\nconst _hoisted_11 = {\n    key: 0,\n    class: \"item-name\"\n};\nconst _hoisted_12 = { class: \"item-details\" };\nconst _hoisted_13 = {\n    key: 1,\n    class: \"item-name-empty\"\n};\nconst _hoisted_14 = { class: \"slot-name\" };\nconst _hoisted_15 = { class: \"item-name\" };\nconst _hoisted_16 = { class: \"item-details\" };\nconst _hoisted_17 = { class: \"clothing-attributes\" };\nconst _hoisted_18 = { class: \"attr\" };\nconst _hoisted_19 = { class: \"attr\" };\nconst _hoisted_20 = { class: \"attr\" };\nconst _hoisted_21 = { class: \"attr\" };\nconst _hoisted_22 = { class: \"attr\" };\nconst _hoisted_23 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useWardrobe } from '../hooks/useWardrobe';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'wardTab',\n    emits: [\"open-update\"],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const { mvu, rawMvuData, handleMvuUpdate, initialize } = useMvuData();\n        const { slotNames, selectedOutfitId, selectedOutfit, editOutfit, openUpdateOutfit, clothingAttributes } = useWardrobe(mvu, emit);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"section-title\" }, \"\", -1 /* CACHED */)),\n                        _createElementVNode(\"button\", {\n                            onClick: _cache[0] || (_cache[0] =\n                                //@ts-ignore\n                                (...args) => (_unref(openUpdateOutfit) && _unref(openUpdateOutfit)(...args)))\n                        }, \"\")\n                    ]),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).wardrobe.ownedOutfits, (outfit, outfitId) => {\n                        return (_openBlock(), _createElementBlock(\"div\", {\n                            key: outfitId,\n                            class: _normalizeClass([\"outfit-item\", { selected: outfitId === _unref(selectedOutfitId) }]),\n                            onClick: ($event) => (selectedOutfitId.value = outfitId)\n                        }, _toDisplayString(outfit.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_4));\n                    }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _createElementVNode(\"div\", _hoisted_5, [\n                    (_unref(selectedOutfit))\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                            _createElementVNode(\"div\", _hoisted_6, [\n                                _createElementVNode(\"div\", _hoisted_7, _toDisplayString(_unref(selectedOutfit).name), 1 /* TEXT */),\n                                _createElementVNode(\"button\", {\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (_unref(editOutfit)(_unref(selectedOutfitId))))\n                                }, \"\")\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_8, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slotNames), (slotName, slotKey) => {\n                                    return (_openBlock(), _createElementBlock(_Fragment, { key: slotKey }, [\n                                        (slotKey !== 'extra')\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                                _createElementVNode(\"span\", _hoisted_10, _toDisplayString(slotName), 1 /* TEXT */),\n                                                (_unref(selectedOutfit).slots[slotKey])\n                                                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, [\n                                                        _createTextVNode(_toDisplayString(_unref(selectedOutfit).slots[slotKey].name) + \" \", 1 /* TEXT */),\n                                                        _createElementVNode(\"span\", _hoisted_12, \"(\" + _toDisplayString(_unref(selectedOutfit).slots[slotKey].quality) + \")\", 1 /* TEXT */)\n                                                    ]))\n                                                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \"--\"))\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ], 64 /* STABLE_FRAGMENT */));\n                                }), 128 /* KEYED_FRAGMENT */)),\n                                (_unref(selectedOutfit).slots.extra && _unref(selectedOutfit).slots.extra.length > 0)\n                                    ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(selectedOutfit).slots.extra, (extraItem, index) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            key: `extra-${index}`,\n                                            class: \"slot-item\"\n                                        }, [\n                                            _createElementVNode(\"span\", _hoisted_14, _toDisplayString(_unref(slotNames).extra || ''), 1 /* TEXT */),\n                                            _createElementVNode(\"span\", _hoisted_15, [\n                                                _createTextVNode(_toDisplayString(extraItem.name) + \" \", 1 /* TEXT */),\n                                                _createElementVNode(\"span\", _hoisted_16, \"(\" + _toDisplayString(extraItem.quality) + \")\", 1 /* TEXT */)\n                                            ])\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                    : _createCommentVNode(\"v-if\", true)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_17, [\n                                _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"section-title\" }, \"\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_18, [\n                                    _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(clothingAttributes).defense.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_19, [\n                                    _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(clothingAttributes).comfort.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_20, [\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(clothingAttributes).warmth.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_21, [\n                                    _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(clothingAttributes).social.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_22, [\n                                    _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(clothingAttributes).weight.toFixed(1)), 1 /* TEXT */)\n                                ])\n                            ])\n                        ], 64 /* STABLE_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, \"\"))\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./wardTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./wardTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./wardTab.vue?vue&type=style&index=0&id=4cc30906&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4cc30906\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = { class: \"world-container\" };\nconst _hoisted_2 = { class: \"section-title\" };\nconst _hoisted_3 = { class: \"master-detail-body reverse\" };\nconst _hoisted_4 = {\n    class: \"scene-detail-item\",\n    style: { \"border\": \"1px solid var(--border_color)\" }\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = { class: \"detail-panel\" };\nconst _hoisted_8 = {\n    key: 0,\n    class: \"scene-detail-item\"\n};\nconst _hoisted_9 = { class: \"column\" };\nconst _hoisted_10 = { class: \"section-title grid-col-span-full\" };\nconst _hoisted_11 = { key: 0 };\nconst _hoisted_12 = { key: 0 };\nconst _hoisted_13 = { key: 1 };\nconst _hoisted_14 = { class: \"attributes\" };\nconst _hoisted_15 = { class: \"attr-value\" };\nconst _hoisted_16 = {\n    key: 1,\n    class: \"data-empty\"\n};\nconst _hoisted_17 = { class: \"faction-header\" };\nconst _hoisted_18 = { class: \"faction-name\" };\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = { class: \"faction-content\" };\nconst _hoisted_21 = { class: \"faction-header\" };\nconst _hoisted_22 = { class: \"faction-name\" };\nconst _hoisted_23 = [\"onClick\"];\nconst _hoisted_24 = { class: \"faction-content\" };\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useParty } from '../hooks/useParty';\nimport { useWorld } from '../hooks/useWorld';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'worldTab',\n    emits: ['open-map'],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const { mvu, rawMvuData, handleMvuUpdate } = useMvuData();\n        const { archivedFlag, selectedNpc, selectNpc, openWorldMap, getPrestigeDescription, getPrestigeColor, archiveNPC, openNPC, archiveFaction, openFaction, getNPCNameByKey, getFavorabilityTowardsNPCs, } = useWorld(mvu, handleMvuUpdate, emit);\n        const { characterLabels, metaLabels, attributeLabels } = useParty(mvu, rawMvuData, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[4] || (_cache[4] = _createTextVNode(\" NPC \", -1 /* CACHED */)),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] =\n                            //@ts-ignore\n                            (...args) => (_unref(openWorldMap) && _unref(openWorldMap)(...args)))\n                    }, [...(_cache[3] || (_cache[3] = [\n                            _createTextVNode(\" \", -1 /* CACHED */),\n                            _createElementVNode(\"i\", { class: \"fa-solid fa-map-location-dot\" }, null, -1 /* CACHED */)\n                        ]))])\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).worldInfo.nearbyNPC, (npc, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                key: index,\n                                onClick: ($event) => (_unref(selectNpc)(npc, index, false)),\n                                class: _normalizeClass([{ selected: _unref(selectedNpc)?.id === index }, \"npc-name\"])\n                            }, _toDisplayString(npc.character?.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_5));\n                        }), 128 /* KEYED_FRAGMENT */)),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).archivedData.worldNPC, (npc, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                key: index,\n                                onClick: ($event) => (_unref(selectNpc)(npc, index, true)),\n                                class: _normalizeClass([{ selected: _unref(selectedNpc)?.id === index }, \"npc-name archived\"])\n                            }, _toDisplayString(npc.character?.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_6));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        (_unref(selectedNpc))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                                (!_unref(archivedFlag))\n                                    ? (_openBlock(), _createElementBlock(\"i\", {\n                                        key: 0,\n                                        class: \"fa-solid fa-trash-can\",\n                                        onClick: _cache[1] || (_cache[1] = ($event) => (_unref(archiveNPC)(_unref(selectedNpc).id))),\n                                        style: { \"cursor\": \"pointer\", \"position\": \"absolute\", \"top\": \"15px\", \"right\": \"15px\" },\n                                        title: \"NPC\"\n                                    }))\n                                    : _createCommentVNode(\"v-if\", true),\n                                (_unref(archivedFlag))\n                                    ? (_openBlock(), _createElementBlock(\"i\", {\n                                        key: 1,\n                                        class: \"fa-solid fa-arrow-up-from-bracket\",\n                                        onClick: _cache[2] || (_cache[2] = ($event) => (_unref(openNPC)(_unref(selectedNpc).id))),\n                                        style: { \"cursor\": \"pointer\", \"position\": \"absolute\", \"top\": \"15px\", \"right\": \"15px\" },\n                                        title: \"NPC\"\n                                    }))\n                                    : _createCommentVNode(\"v-if\", true),\n                                _createElementVNode(\"div\", _hoisted_9, [\n                                    _createElementVNode(\"div\", _hoisted_10, \" | \" + _toDisplayString(_unref(selectedNpc).id), 1 /* TEXT */),\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedNpc).character, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(characterLabels)[key] || key), 1 /* TEXT */),\n                                            _createTextVNode(\" \" + _toDisplayString(value), 1 /* TEXT */)\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */)),\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"section-title grid-col-span-full\" }, \"\", -1 /* CACHED */)),\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedNpc).meta, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content grid-col-span-full\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(metaLabels)[key] || key), 1 /* TEXT */),\n                                            (key === 'favorabilityTowardsNPCs')\n                                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, [\n                                                    (key === 'favorabilityTowardsNPCs')\n                                                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, _toDisplayString(_unref(getFavorabilityTowardsNPCs)(value)), 1 /* TEXT */))\n                                                        : _createCommentVNode(\"v-if\", true)\n                                                ]))\n                                                : (_openBlock(), _createElementBlock(\"span\", _hoisted_13, _toDisplayString(value), 1 /* TEXT */))\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ]),\n                                _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"section-title grid-col-span-full\" }, \"\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_14, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedNpc).attributes, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"attr\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(attributeLabels)[key] || key), 1 /* TEXT */),\n                                            _createElementVNode(\"span\", _hoisted_15, _toDisplayString(value), 1 /* TEXT */)\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ])\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, \"\"))\n                    ])\n                ]),\n                _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n                    class: \"section-title\",\n                    style: { \"margin-top\": \"20px\" }\n                }, \"\", -1 /* CACHED */)),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).worldInfo.factionPrestige, (faction, index) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"faction-card\"\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_17, [\n                            _createElementVNode(\"div\", _hoisted_18, _toDisplayString(faction.name), 1 /* TEXT */),\n                            _createElementVNode(\"div\", {\n                                class: \"faction-prestige\",\n                                style: _normalizeStyle({ color: _unref(getPrestigeColor)(faction.prestige) })\n                            }, [\n                                _createTextVNode(_toDisplayString(faction.prestige) + \" (\" + _toDisplayString(_unref(getPrestigeDescription)(faction.prestige)) + \") \", 1 /* TEXT */),\n                                _createElementVNode(\"i\", {\n                                    class: \"fa-solid fa-trash-can\",\n                                    onClick: ($event) => (_unref(archiveFaction)(index)),\n                                    style: { \"cursor\": \"pointer\" },\n                                    title: \"\"\n                                }, null, 8 /* PROPS */, _hoisted_19)\n                            ], 4 /* STYLE */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_20, [\n                            _createElementVNode(\"span\", null, _toDisplayString(faction.description), 1 /* TEXT */)\n                        ])\n                    ]));\n                }), 128 /* KEYED_FRAGMENT */)),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).archivedData.factionPrestige, (faction, index) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"faction-card archived\"\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_21, [\n                            _createElementVNode(\"div\", _hoisted_22, _toDisplayString(faction.name), 1 /* TEXT */),\n                            _createElementVNode(\"div\", {\n                                class: \"faction-prestige\",\n                                style: _normalizeStyle({ color: _unref(getPrestigeColor)(faction.prestige) })\n                            }, [\n                                _createTextVNode(_toDisplayString(faction.prestige) + \" (\" + _toDisplayString(_unref(getPrestigeDescription)(faction.prestige)) + \") \", 1 /* TEXT */),\n                                _createElementVNode(\"i\", {\n                                    class: \"fa-solid fa-arrow-up-from-bracket\",\n                                    onClick: ($event) => (_unref(openFaction)(index)),\n                                    style: { \"cursor\": \"pointer\" },\n                                    title: \"\"\n                                }, null, 8 /* PROPS */, _hoisted_23)\n                            ], 4 /* STYLE */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_24, [\n                            _createElementVNode(\"span\", null, _toDisplayString(faction.description), 1 /* TEXT */)\n                        ])\n                    ]));\n                }), 128 /* KEYED_FRAGMENT */))\n            ]));\n        };\n    }\n});\n","import { ref, Ref } from 'vue';\nimport { MvuData, NpcData, WithId } from '../types';\n\nexport function useWorld(mvu: Ref<MvuData>, handleMvuUpdate: Function, emit: (event: 'open-map') => void) {\n  const selectedNpc = ref<WithId<NpcData> | null>(null);\n\n  const archivedFlag = ref(false);\n  function selectNpc(npc: NpcData | null, index: string, archived: boolean = false) {\n    archivedFlag.value = archived;\n    if (selectedNpc.value?.id === index) {\n      selectedNpc.value = null;\n    } else {\n      selectedNpc.value = npc\n        ? {\n            ...npc,\n            id: index,\n          }\n        : null;\n    }\n  }\n\n  const openWorldMap = () => {\n    emit('open-map');\n  };\n\n  const getPrestigeDescription = (prestige: number): string => {\n    if (prestige <= -75) return '';\n    if (prestige <= -25) return '';\n    if (prestige < 25) return '';\n    if (prestige < 75) return '';\n    return '';\n  };\n\n  const getPrestigeColor = (prestige: number): string => {\n    if (prestige <= -75) return '#c00';\n    if (prestige <= -25) return '#f44336';\n    if (prestige < 25) return '#9e9e9e';\n    if (prestige < 75) return '#4caf50';\n    return '#8bc34a';\n  };\n\n  const getNextId = (obj: Record<string, any> | undefined, prefix: string): string => {\n    if (!obj) return `${prefix}1`;\n    const keys = Object.keys(obj);\n    const ids = keys\n      .map(k => {\n        const match = k.match(new RegExp(`^${prefix}(\\\\d+)$`));\n        return match ? parseInt(match[1], 10) : 0;\n      })\n      .filter(id => !isNaN(id));\n    const maxId = ids.length > 0 ? Math.max(...ids) : 0;\n    return `${prefix}${maxId + 1}`;\n  };\n\n  const archiveNPC = (npcKey: string) => {\n    const itemToDelete = mvu.value.worldInfo.nearbyNPC[npcKey];\n    if (selectedNpc.value && itemToDelete && selectedNpc.value.character.name === itemToDelete.character.name) {\n      selectNpc(null, '');\n    }\n    const newKey = getNextId(mvu.value.archivedData.worldNPC, 'AC');\n    handleMvuUpdate([\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `worldInfo.nearbyNPC.${npcKey}`,\n        },\n      },\n    ]);\n    handleMvuUpdate([\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `archivedData.worldNPC.${newKey}`,\n          value: itemToDelete,\n        },\n      },\n    ]);\n  };\n  const archiveFaction = (factionKey: string) => {\n    const itemToDelete = mvu.value.worldInfo.factionPrestige[factionKey];\n    handleMvuUpdate([\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `worldInfo.factionPrestige.${factionKey}`,\n        },\n      },\n    ]);\n    handleMvuUpdate([\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `archivedData.factionPrestige.${factionKey}`,\n          value: itemToDelete,\n        },\n      },\n    ]);\n  };\n\n  const openNPC = (npcKey: string) => {\n    const itemToDelete = mvu.value.archivedData.worldNPC[npcKey];\n    if (selectedNpc.value && itemToDelete && selectedNpc.value.character.name === itemToDelete.character.name) {\n      selectNpc(null, '');\n    }\n    const newKey = getNextId(mvu.value.worldInfo.nearbyNPC, 'C');\n    handleMvuUpdate([\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `archivedData.worldNPC.${npcKey}`,\n        },\n      },\n    ]);\n    handleMvuUpdate([\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `worldInfo.nearbyNPC.${newKey}`,\n          value: itemToDelete,\n        },\n      },\n    ]);\n  };\n  const openFaction = (factionKey: string) => {\n    const itemToDelete = mvu.value.archivedData.factionPrestige[factionKey];\n    handleMvuUpdate([\n      {\n        event: 'deleteByPath',\n        detail: {\n          path: `archivedData.factionPrestige.${factionKey}`,\n        },\n      },\n    ]);\n    handleMvuUpdate([\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `worldInfo.factionPrestige.${factionKey}`,\n          value: itemToDelete,\n        },\n      },\n    ]);\n  };\n\n  const getNPCNameByKey = (npcKey: string): string => {\n    const npc = mvu.value.worldInfo.nearbyNPC;\n    const party = mvu.value.followerNPCData;\n    const archivedNpc = mvu.value.archivedData.worldNPC;\n    return npc[npcKey]\n      ? npc[npcKey].character.name\n      : party[npcKey]\n        ? party[npcKey].character.name\n        : archivedNpc[npcKey]\n          ? archivedNpc[npcKey].character.name\n          : 'NPC';\n  };\n  const getFavorabilityTowardsNPCs = (val: Record<string, number> | undefined) => {\n    if (!val) return '';\n\n    const favs = Object.entries(val).map(([npcName, fav]) => {\n      return `${npcName}: ${fav}`;\n    });\n    return favs.join(', ');\n  };\n\n  return {\n    archivedFlag,\n    selectedNpc,\n    selectNpc,\n    openWorldMap,\n    getPrestigeDescription,\n    getPrestigeColor,\n    archiveNPC,\n    openNPC,\n    archiveFaction,\n    openFaction,\n    getNPCNameByKey,\n    getFavorabilityTowardsNPCs,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./worldTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./worldTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./worldTab.vue?vue&type=style&index=0&id=2865ebf0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2865ebf0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"map-selector-wrapper\" };\nconst _hoisted_2 = { class: \"map-controls\" };\nconst _hoisted_3 = { class: \"selected-point-preview\" };\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"helper-controls\"\n};\nconst _hoisted_6 = { key: 0 };\nconst _hoisted_7 = [\"checked\"];\nimport { onMounted, onUnmounted, ref } from 'vue';\nconst cityClickRadius = 8;\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MapSelector',\n    props: {\n        coordinateHelperMode: {\n            type: Boolean,\n            default: false,\n        },\n        showHelperCheckbox: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    emits: ['point-selected', 'coordinates-clicked', 'update:coordinateHelperMode'],\n    setup(__props, { emit: __emit }) {\n        const props = __props;\n        const emit = __emit;\n        const mapCanvas = ref(null);\n        const canvasContainer = ref(null);\n        const selectedRegion = ref(null);\n        const selectedCity = ref(null);\n        const lastClickedPoint = ref(null); // For helper mode\n        const lastClickedOriginalCoords = ref(null);\n        const mapImage = new Image();\n        const isImageLoaded = ref(false);\n        const scaleX = ref(1);\n        const scaleY = ref(1);\n        const regions = [\n            {\n                name: '',\n                points: [\n                    { x: 181, y: 22 },\n                    { x: 194, y: 64 },\n                    { x: 116, y: 146 },\n                    { x: 96, y: 172 },\n                    { x: 122, y: 231 },\n                    { x: 97, y: 239 },\n                    { x: 99, y: 259 },\n                    { x: 122, y: 270 },\n                    { x: 139, y: 260 },\n                    { x: 151, y: 288 },\n                    { x: 321, y: 287 },\n                    { x: 328, y: 226 },\n                    { x: 302, y: 187 },\n                    { x: 338, y: 148 },\n                    { x: 318, y: 117 },\n                    { x: 260, y: 101 },\n                    { x: 267, y: 88 },\n                    { x: 234, y: 46 },\n                ],\n                color: 'rgba(60, 179, 113, 0.2)',\n                cities: [\n                    { name: '', x: 209, y: 169 },\n                    { name: '', x: 202, y: 184 },\n                    { name: '', x: 242, y: 195 },\n                    { name: '', x: 206, y: 209 },\n                    { name: '', x: 260, y: 265 },\n                    { name: '', x: 195, y: 112 },\n                    { name: '', x: 322, y: 162 },\n                    { name: '', x: 317, y: 236 },\n                ],\n            },\n        ];\n        const isPointInPolygon = (point, polygon) => {\n            let isInside = false;\n            for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n                const xi = polygon[i].x, yi = polygon[i].y;\n                const xj = polygon[j].x, yj = polygon[j].y;\n                const intersect = yi > point.y !== yj > point.y && point.x < ((xj - xi) * (point.y - yi)) / (yj - yi) + xi;\n                if (intersect)\n                    isInside = !isInside;\n            }\n            return isInside;\n        };\n        const drawMap = () => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            const { width, height } = canvas;\n            const dpr = window.devicePixelRatio || 1;\n            const displayWidth = width / dpr;\n            const displayHeight = height / dpr;\n            ctx.clearRect(0, 0, width, height);\n            if (isImageLoaded.value) {\n                ctx.globalAlpha = 0.8; // \n                ctx.drawImage(mapImage, 0, 0, displayWidth, displayHeight);\n                ctx.globalAlpha = 1; // \n            }\n            else {\n                ctx.fillStyle = '#EAE7DC';\n                ctx.fillRect(0, 0, displayWidth, displayHeight);\n            }\n            // In helper mode, don't draw regions/cities, just the clicked point\n            if (props.coordinateHelperMode) {\n                if (lastClickedPoint.value) {\n                    ctx.fillStyle = 'cyan';\n                    ctx.beginPath();\n                    ctx.arc(lastClickedPoint.value.x, lastClickedPoint.value.y, 5, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.strokeStyle = 'black';\n                    ctx.stroke();\n                }\n                return;\n            }\n            regions.forEach(region => {\n                ctx.fillStyle = region.color;\n                ctx.beginPath();\n                ctx.moveTo(region.points[0].x * scaleX.value, region.points[0].y * scaleY.value);\n                for (let i = 1; i < region.points.length; i++) {\n                    ctx.lineTo(region.points[i].x * scaleX.value, region.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.fill();\n            });\n            ctx.font = '12px Arial';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            regions.forEach(region => {\n                region.cities.forEach(city => {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    ctx.beginPath();\n                    ctx.arc(cityX, cityY, 5, 0, 2 * Math.PI);\n                    ctx.fillStyle = 'white';\n                    ctx.fill();\n                    ctx.strokeStyle = '#333';\n                    ctx.stroke();\n                    const text = city.name;\n                    const textY = cityY + 18;\n                    const textMetrics = ctx.measureText(text);\n                    const textWidth = textMetrics.width;\n                    const textHeight = 12; // font size\n                    const padding = 4;\n                    const backgroundWidth = textWidth + padding * 2;\n                    const backgroundHeight = textHeight + padding;\n                    const backgroundX = cityX - backgroundWidth / 2;\n                    const backgroundY = textY - backgroundHeight / 2;\n                    ctx.fillStyle = 'rgba(100, 100, 100, 0.7)';\n                    ctx.beginPath();\n                    ctx.roundRect(backgroundX, backgroundY, backgroundWidth, backgroundHeight, [4]);\n                    ctx.fill();\n                    ctx.fillStyle = 'white';\n                    ctx.fillText(text, cityX, textY);\n                });\n            });\n            if (selectedRegion.value) {\n                ctx.strokeStyle = 'pink';\n                ctx.lineWidth = 3;\n                ctx.beginPath();\n                ctx.moveTo(selectedRegion.value.points[0].x * scaleX.value, selectedRegion.value.points[0].y * scaleY.value);\n                for (let i = 1; i < selectedRegion.value.points.length; i++) {\n                    ctx.lineTo(selectedRegion.value.points[i].x * scaleX.value, selectedRegion.value.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.stroke();\n            }\n            if (selectedCity.value) {\n                ctx.strokeStyle = 'yellow';\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.arc(selectedCity.value.x * scaleX.value, selectedCity.value.y * scaleY.value, cityClickRadius, 0, 2 * Math.PI);\n                ctx.stroke();\n            }\n        };\n        const handleCanvasClick = (event) => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const rect = canvas.getBoundingClientRect();\n            const clickPoint = { x: event.clientX - rect.left, y: event.clientY - rect.top };\n            if (props.coordinateHelperMode) {\n                const originalX = Math.round(clickPoint.x / scaleX.value);\n                const originalY = Math.round(clickPoint.y / scaleY.value);\n                const coords = { x: originalX, y: originalY };\n                console.log(`Coordinates: { x: ${coords.x}, y: ${coords.y} }`);\n                emit('coordinates-clicked', coords);\n                lastClickedOriginalCoords.value = coords;\n                lastClickedPoint.value = clickPoint;\n                drawMap();\n                return;\n            }\n            let foundCity = null;\n            let foundRegionForCity = null;\n            for (const region of regions) {\n                for (const city of region.cities) {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    const distance = Math.sqrt((clickPoint.x - cityX) ** 2 + (clickPoint.y - cityY) ** 2);\n                    if (distance < cityClickRadius) {\n                        foundCity = city;\n                        foundRegionForCity = region;\n                        break;\n                    }\n                }\n                if (foundCity)\n                    break;\n            }\n            if (foundCity && foundRegionForCity) {\n                selectedCity.value = foundCity;\n                selectedRegion.value = foundRegionForCity;\n                emit('point-selected', `${foundRegionForCity.name}, ${foundCity.name}`);\n            }\n            else {\n                const scaledRegions = regions.map(region => ({\n                    ...region,\n                    points: region.points.map(p => ({ x: p.x * scaleX.value, y: p.y * scaleY.value })),\n                }));\n                const clickedRegionData = scaledRegions.find(region => isPointInPolygon(clickPoint, region.points));\n                selectedCity.value = null;\n                if (clickedRegionData) {\n                    selectedRegion.value = regions.find(r => r.name === clickedRegionData.name) || null;\n                    emit('point-selected', clickedRegionData.name);\n                }\n                else {\n                    selectedRegion.value = null;\n                    emit('point-selected', '');\n                }\n            }\n            drawMap();\n        };\n        const resizeCanvas = () => {\n            const canvas = mapCanvas.value;\n            const container = canvasContainer.value;\n            if (!canvas || !container)\n                return;\n            const rect = container.getBoundingClientRect();\n            const dpr = window.devicePixelRatio || 1;\n            canvas.width = rect.width * dpr;\n            canvas.height = rect.height * dpr;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            ctx.scale(dpr, dpr);\n            // Base dimensions for coordinate mapping\n            const baseWidth = 500;\n            const baseHeight = 300;\n            scaleX.value = rect.width / baseWidth;\n            scaleY.value = rect.height / baseHeight;\n            drawMap();\n        };\n        let resizeObserver;\n        onMounted(() => {\n            mapImage.crossOrigin = 'Anonymous';\n            mapImage.onload = () => {\n                isImageLoaded.value = true;\n                drawMap();\n            };\n            mapImage.src =\n                'https://raw.githubusercontent.com/neko-kyuu/the-tale-of-Ofoces/refs/heads/static-resources/public/static/vault/29A958DA-EF44-4C67-923E-1B4ECB5E6A90_1_105_c.jpeg';\n            const container = canvasContainer.value;\n            if (container) {\n                resizeObserver = new ResizeObserver(resizeCanvas);\n                resizeObserver.observe(container);\n            }\n            resizeCanvas();\n        });\n        onUnmounted(() => {\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (selectedCity.value || selectedRegion.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \" \" + _toDisplayString(selectedCity.value ? `${selectedRegion.value?.name}, ${selectedCity.value.name}` : selectedRegion.value?.name), 1 /* TEXT */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    (__props.showHelperCheckbox)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            (lastClickedOriginalCoords.value)\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" : { x: \" + _toDisplayString(lastClickedOriginalCoords.value.x) + \", y: \" + _toDisplayString(lastClickedOriginalCoords.value.y) + \" } \", 1 /* TEXT */))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"label\", null, [\n                                _createElementVNode(\"input\", {\n                                    type: \"checkbox\",\n                                    checked: __props.coordinateHelperMode,\n                                    onChange: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('update:coordinateHelperMode', $event.target.checked)))\n                                }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_7),\n                                _cache[1] || (_cache[1] = _createTextVNode(\"  \", -1 /* CACHED */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createElementVNode(\"div\", {\n                    ref_key: \"canvasContainer\",\n                    ref: canvasContainer,\n                    class: \"canvas-container\"\n                }, [\n                    _createElementVNode(\"canvas\", {\n                        ref_key: \"mapCanvas\",\n                        ref: mapCanvas,\n                        onClick: handleCanvasClick\n                    }, null, 512 /* NEED_PATCH */)\n                ], 512 /* NEED_PATCH */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MapSelector.vue?vue&type=style&index=0&id=df92daa8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df92daa8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, normalizeClass as _normalizeClass, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = { class: \"modal-header\" };\nconst _hoisted_2 = { class: \"header-buttons\" };\nconst _hoisted_3 = { class: \"modal-body\" };\nconst _hoisted_4 = { class: \"modal-footer\" };\nimport { useFullscreen } from '@vueuse/core';\nimport { ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ModalDialog',\n    props: {\n        modelValue: {\n            type: Boolean,\n            default: false,\n        },\n        title: {\n            type: String,\n            default: '',\n        },\n    },\n    emits: ['update:modelValue', 'confirm'],\n    setup(__props) {\n        const modalContainerRef = ref(null);\n        const { isFullscreen, toggle: toggleFullscreen } = useFullscreen(modalContainerRef);\n        return (_ctx, _cache) => {\n            return (__props.modelValue)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"modal-overlay\",\n                    onClick: _cache[3] || (_cache[3] = _withModifiers(($event) => (_ctx.$emit('update:modelValue', false)), [\"self\"]))\n                }, [\n                    _createElementVNode(\"div\", {\n                        class: \"modal-container\",\n                        ref_key: \"modalContainerRef\",\n                        ref: modalContainerRef\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                            _renderSlot(_ctx.$slots, \"header\", {}, () => [\n                                _createElementVNode(\"h3\", null, _toDisplayString(__props.title), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_2, [\n                                _createElementVNode(\"button\", {\n                                    class: \"fullscreen-button\",\n                                    onClick: _cache[0] || (_cache[0] =\n                                        //@ts-ignore\n                                        (...args) => (_unref(toggleFullscreen) && _unref(toggleFullscreen)(...args)))\n                                }, [\n                                    _createElementVNode(\"i\", {\n                                        class: _normalizeClass(_unref(isFullscreen) ? 'fa-solid fa-compress' : 'fa-solid fa-expand')\n                                    }, null, 2 /* CLASS */)\n                                ]),\n                                _createElementVNode(\"button\", {\n                                    class: \"close-button\",\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (_ctx.$emit('update:modelValue', false)))\n                                }, [...(_cache[4] || (_cache[4] = [\n                                        _createElementVNode(\"i\", { class: \"fa-regular fa-circle-xmark\" }, null, -1 /* CACHED */)\n                                    ]))])\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_3, [\n                            _renderSlot(_ctx.$slots, \"default\", {}, () => [\n                                _cache[5] || (_cache[5] = _createElementVNode(\"p\", null, \"\", -1 /* CACHED */))\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _renderSlot(_ctx.$slots, \"footer\", {}, () => [\n                                _createElementVNode(\"button\", {\n                                    onClick: _cache[2] || (_cache[2] = ($event) => (_ctx.$emit('confirm')))\n                                }, \"\")\n                            ])\n                        ])\n                    ], 512 /* NEED_PATCH */)\n                ]))\n                : _createCommentVNode(\"v-if\", true);\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ModalDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ModalDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ModalDialog.vue?vue&type=style&index=0&id=7cce4ff6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7cce4ff6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"outfit-editor-container\" };\nconst _hoisted_2 = { class: \"outfit-selector-container\" };\nconst _hoisted_3 = { class: \"detail-panel\" };\nconst _hoisted_4 = { class: \"details-content\" };\nconst _hoisted_5 = { class: \"edit-form\" };\nconst _hoisted_6 = { class: \"form-group\" };\nconst _hoisted_7 = { class: \"form-group\" };\nconst _hoisted_8 = { class: \"form-group\" };\nconst _hoisted_9 = { class: \"form-group\" };\nconst _hoisted_10 = [\"value\"];\nconst _hoisted_11 = { class: \"outfit-grid\" };\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = { key: 1 };\nconst _hoisted_14 = { class: \"item-display-panel\" };\nconst _hoisted_15 = {\n    key: 0,\n    class: \"item-list\"\n};\nconst _hoisted_16 = { class: \"item-info\" };\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = { class: \"item-description\" };\nconst _hoisted_19 = {\n    key: 0,\n    class: \"empty-text\"\n};\nconst _hoisted_20 = {\n    key: 1,\n    class: \"empty-text\"\n};\nimport _ from 'lodash';\nimport { computed, ref, watch } from 'vue';\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useParty } from '../hooks/useParty';\nimport { qualityLabels, slotLabels, tierLabels } from '../itemConstants';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'outfitSelector',\n    props: {\n        outfitId: {}\n    },\n    setup(__props, { expose: __expose }) {\n        const props = __props;\n        const { mvu, rawMvuData, handleMvuUpdate } = useMvuData();\n        const { party } = useParty(mvu, rawMvuData, handleMvuUpdate);\n        const selectedSlot = ref(null);\n        const defaultSlots = {\n            head: null,\n            bodyInner: null,\n            bodyArmor: null,\n            hands: null,\n            legsInner: null,\n            legsArmor: null,\n            feet: null,\n            cloak: null,\n            neck: null,\n            ring: null,\n            belt: null,\n            extra: [],\n        };\n        const defaultOutfitTemplate = {\n            name: '',\n            type: 'casual',\n            description: '[]',\n            wearer: null,\n            slots: _.cloneDeep(defaultSlots),\n        };\n        const editingOutfit = ref(_.cloneDeep(defaultOutfitTemplate));\n        watch(() => props.outfitId, newOutfitId => {\n            const newOutfitData = newOutfitId ? mvu.value.wardrobe.ownedOutfits[newOutfitId] : null;\n            if (newOutfitData) {\n                const hydratedSlots = _.cloneDeep(defaultSlots);\n                const itemInventory = mvu.value.playerDynamicData.inventory;\n                for (const slotKey in newOutfitData.slots) {\n                    if (Object.prototype.hasOwnProperty.call(newOutfitData.slots, slotKey)) {\n                        const slotName = slotKey;\n                        if (slotName === 'extra') {\n                            const itemIds = newOutfitData.slots[slotName];\n                            hydratedSlots[slotName] = itemIds\n                                .map(id => (itemInventory[id] ? { ...itemInventory[id], id } : null))\n                                .filter(Boolean);\n                        }\n                        else {\n                            const itemId = newOutfitData.slots[slotName];\n                            if (typeof itemId === 'string' && itemInventory[itemId]) {\n                                hydratedSlots[slotName] = { ...itemInventory[itemId], id: itemId };\n                            }\n                            else {\n                                hydratedSlots[slotName] = null;\n                            }\n                        }\n                    }\n                }\n                editingOutfit.value = {\n                    ...newOutfitData,\n                    slots: hydratedSlots,\n                };\n            }\n            else {\n                editingOutfit.value = _.cloneDeep(defaultOutfitTemplate);\n            }\n        }, { immediate: true });\n        function handleSlotClick(slot) {\n            selectedSlot.value = slot;\n        }\n        function equipItem(item) {\n            if (!item.slot)\n                return;\n            const currentEquippedItem = editingOutfit.value.slots[item.slot];\n            if (currentEquippedItem && 'id' in currentEquippedItem && currentEquippedItem.id === item.id) {\n                editingOutfit.value.slots[item.slot] = null;\n            }\n            else {\n                editingOutfit.value.slots[item.slot] = item;\n            }\n        }\n        function isEquipped(item) {\n            if (!item.slot)\n                return false;\n            const equippedItem = editingOutfit.value.slots[item.slot];\n            return !!(equippedItem && 'id' in equippedItem && equippedItem.id === item.id);\n        }\n        __expose({\n            getOutfitData: () => {\n                const outfitToSave = _.cloneDeep(editingOutfit.value);\n                const dehydratedSlots = {};\n                for (const key in outfitToSave.slots) {\n                    const slotKey = key;\n                    if (slotKey === 'extra') {\n                        dehydratedSlots[slotKey] = (outfitToSave.slots[slotKey] || []).map(item => item.id);\n                    }\n                    else {\n                        const item = outfitToSave.slots[slotKey];\n                        dehydratedSlots[slotKey] = item ? item.id : null;\n                    }\n                }\n                outfitToSave.slots = dehydratedSlots;\n                return outfitToSave;\n            },\n        });\n        const groupedInventory = computed(() => {\n            const inventoryItemsWithId = Object.entries(mvu.value.playerDynamicData.inventory).map(([id, itemData]) => ({\n                ...itemData,\n                id,\n            }));\n            const slottedItems = inventoryItemsWithId.filter((item) => !!item.slot);\n            return _.groupBy(slottedItems, 'slot');\n        });\n        const layout = [\n            [null, 'neck', 'head', null],\n            ['cloak', 'bodyArmor', 'bodyInner', null],\n            ['ring', null, 'belt', 'hands'],\n            [null, 'legsArmor', 'legsInner', 'feet'],\n        ];\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createElementVNode(\"div\", _hoisted_5, [\n                                _createElementVNode(\"div\", _hoisted_6, [\n                                    _cache[4] || (_cache[4] = _createElementVNode(\"label\", { for: \"outfit-name\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"input\", {\n                                        id: \"outfit-name\",\n                                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((editingOutfit.value.name) = $event)),\n                                        type: \"text\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, editingOutfit.value.name]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_7, [\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"label\", { for: \"outfit-type\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"input\", {\n                                        id: \"outfit-type\",\n                                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((editingOutfit.value.type) = $event)),\n                                        type: \"text\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, editingOutfit.value.type]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    _cache[6] || (_cache[6] = _createElementVNode(\"label\", { for: \"outfit-description\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                        id: \"outfit-description\",\n                                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((editingOutfit.value.description) = $event))\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, editingOutfit.value.description]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_9, [\n                                    _cache[7] || (_cache[7] = _createElementVNode(\"label\", { for: \"outfit-wearer\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"select\", {\n                                        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((editingOutfit.value.wearer) = $event))\n                                    }, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(party), (char, key) => {\n                                            return (_openBlock(), _createElementBlock(\"option\", {\n                                                key: key,\n                                                value: key\n                                            }, _toDisplayString(char.character.name), 9 /* TEXT, PROPS */, _hoisted_10));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ], 512 /* NEED_PATCH */), [\n                                        [_vModelSelect, editingOutfit.value.wearer]\n                                    ]),\n                                    _createCommentVNode(\" <input id=\\\"outfit-wearer\\\" v-model=\\\"editingOutfit.wearer\\\" type=\\\"text\\\" /> \")\n                                ])\n                            ])\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(layout, (row, rowIndex) => {\n                            return (_openBlock(), _createElementBlock(_Fragment, { key: rowIndex }, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row, (item, colIndex) => {\n                                    return (_openBlock(), _createElementBlock(_Fragment, { key: colIndex }, [\n                                        item\n                                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                                key: 0,\n                                                class: _normalizeClass([\"outfit-slot\", { selected: selectedSlot.value === item }]),\n                                                onClick: ($event) => (handleSlotClick(item))\n                                            }, _toDisplayString(editingOutfit.value.slots[item] ? editingOutfit.value.slots[item].name : _unref(slotLabels)[item]), 11 /* TEXT, CLASS, PROPS */, _hoisted_12))\n                                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_13))\n                                    ], 64 /* STABLE_FRAGMENT */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ], 64 /* STABLE_FRAGMENT */));\n                        }), 64 /* STABLE_FRAGMENT */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_14, [\n                        (selectedSlot.value)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                _createElementVNode(\"ul\", null, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(groupedInventory.value[selectedSlot.value], (item) => {\n                                        return (_openBlock(), _createElementBlock(\"li\", {\n                                            key: item.id,\n                                            class: _normalizeClass([\"item-card\", { equipped: isEquipped(item) }])\n                                        }, [\n                                            _createElementVNode(\"div\", _hoisted_16, [\n                                                _createElementVNode(\"div\", null, [\n                                                    _createTextVNode(_toDisplayString(item.name) + \" (\" + _toDisplayString(_unref(qualityLabels)[item.quality]) + \") - \" + _toDisplayString(_unref(tierLabels)[item.tier]) + \" \", 1 /* TEXT */),\n                                                    _createElementVNode(\"button\", {\n                                                        onClick: ($event) => (equipItem(item))\n                                                    }, _toDisplayString(isEquipped(item) ? '' : ''), 9 /* TEXT, PROPS */, _hoisted_17)\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_18, _toDisplayString(item.description), 1 /* TEXT */)\n                                            ])\n                                        ], 2 /* CLASS */));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ]),\n                                (!groupedInventory.value[selectedSlot.value] || groupedInventory.value[selectedSlot.value].length === 0)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, \"  \"))\n                                    : _createCommentVNode(\"v-if\", true)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_20, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./outfitSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./outfitSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./outfitSelector.vue?vue&type=style&index=0&id=0ea8379a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ea8379a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"settings-form\" };\nconst _hoisted_2 = { class: \"form-group\" };\nconst _hoisted_3 = { class: \"form-group\" };\nconst _hoisted_4 = { class: \"form-group\" };\nimport { ref } from 'vue';\nimport { useMvuData } from '../hooks/useMvuData';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'tradeApiSettings',\n    setup(__props, { expose: __expose }) {\n        const { mvu } = useMvuData();\n        const apiConfig = ref({\n            apiurl: mvu.value.system.tradeCustomApi?.apiurl || '',\n            key: mvu.value.system.tradeCustomApi?.key || '',\n            model: mvu.value.system.tradeCustomApi?.model || '',\n        });\n        __expose({\n            getApiConfig: () => ({ ...apiConfig.value }),\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"label\", null, \"API \", -1 /* CACHED */)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                        type: \"text\",\n                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((apiConfig.value.apiurl) = $event)),\n                        placeholder: \"https://api.openai.com/v1\"\n                    }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, apiConfig.value.apiurl]\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _cache[4] || (_cache[4] = _createElementVNode(\"label\", null, \"API Key\", -1 /* CACHED */)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                        type: \"password\",\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((apiConfig.value.key) = $event)),\n                        placeholder: \"sk-...\"\n                    }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, apiConfig.value.key]\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    _cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                    _withDirectives(_createElementVNode(\"input\", {\n                        type: \"text\",\n                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((apiConfig.value.model) = $event)),\n                        placeholder: \"gpt-3.5-turbo\"\n                    }, null, 512 /* NEED_PATCH */), [\n                        [_vModelText, apiConfig.value.model]\n                    ])\n                ]),\n                _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"settings-tip\" }, \"*  API \", -1 /* CACHED */))\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./tradeApiSettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./tradeApiSettings.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./tradeApiSettings.vue?vue&type=style&index=0&id=1c36cbf4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1c36cbf4\"]])\n\nexport default __exports__","import { computed, ref, type Ref } from 'vue';\nimport { uuidv4 } from '../../util/common';\nimport { InventoryItem } from '../itemConstants';\nimport type { MvuData } from '../types';\nimport economySystem from '..//.md?raw';\n\n/**\n * \n */\nexport interface ShopItem extends InventoryItem {\n  price: number;\n}\n\n// ---  ---\nconst refreshUserInput = ref('');\nconst shopItems = ref<ShopItem[]>([]);\nconst selectedItem = ref<ShopItem | null>(null);\nconst isGenerating = ref(false);\n\n/**\n * \n */\nexport function useTrade(mvu: Ref<MvuData>, handleMvuUpdate: Function) {\n  //  MVU  API \n  const tradeCustomApi = computed(() => mvu.value.system.tradeCustomApi);\n\n  /**\n   * \n   * @param userInput \n   */\n  async function refreshShop(userInput?: string) {\n    isGenerating.value = true;\n    selectedItem.value = null;\n    try {\n      const location = mvu.value.worldInfo.currentLocation || mvu.value.worldInfo.currentRegion || '';\n      const result = await requestShopItems(location, userInput);\n      shopItems.value = result.items;\n    } catch (e) {\n      console.error(':', e);\n      toastr.error('');\n    } finally {\n      isGenerating.value = false;\n    }\n  }\n\n  /**\n   * \n   */\n  async function handleBuy() {\n    if (!selectedItem.value) return;\n\n    try {\n      const message = await buyItem(selectedItem.value);\n      toastr.success(message);\n      // \n      shopItems.value = shopItems.value.filter(i => i.id !== selectedItem.value?.id);\n      selectedItem.value = null;\n    } catch (e: any) {\n      toastr.error(e.message || '');\n    }\n  }\n\n  /**\n   * \n   * @param locationName \n   * @param userInput \n   * @returns \n   */\n  async function requestShopItems(locationName: string, userInput?: string): Promise<{ items: ShopItem[] }> {\n    // \n    const prompt = economySystem.replace('{{locationName}}', locationName);\n\n    // \n    const response = await generateRaw({\n      user_input: userInput,\n      ordered_prompts: [\n        'world_info_before', // ()\n        'world_info_after', // ()\n        'chat_history', //  ()\n        { role: 'system', content: prompt },\n        'user_input', // \n      ],\n      overrides: {\n        chat_history: { with_depth_entries: false },\n      },\n      ...(tradeCustomApi.value?.apiurl && {\n        custom_api: {\n          apiurl: tradeCustomApi.value.apiurl,\n          key: tradeCustomApi.value.key,\n          model: tradeCustomApi.value.model,\n          source: 'openai',\n        },\n      }),\n    });\n\n    //  JSON \n    const jsonMatch = response.match(/<ShopInventory>([\\s\\S]*?)<\\/ShopInventory>/);\n    let items: ShopItem[] = [];\n\n    if (jsonMatch) {\n      try {\n        const rawItems = JSON.parse(jsonMatch[1].trim());\n        if (Array.isArray(rawItems)) {\n          items = rawItems.map((item: any) => ({\n            ...item,\n            id: uuidv4(), //  UUID I+\n          }));\n        }\n      } catch (e) {\n        console.error(':', e);\n      }\n    }\n\n    return { items };\n  }\n\n  /**\n   * \n   * @param item \n   * @returns \n   */\n  async function buyItem(item: ShopItem): Promise<string> {\n    const currentGold = mvu.value.playerDynamicData.gold;\n\n    if (currentGold < item.price) {\n      throw new Error(` ${item.price}g ${currentGold}g`);\n    }\n\n    //  ID: \"I\" + \n    const inventory = mvu.value.playerDynamicData.inventory;\n    const maxIdNum = Object.keys(inventory)\n      .filter(id => id.startsWith('I'))\n      .map(id => parseInt(id.substring(1)))\n      .filter(num => !isNaN(num))\n      .reduce((max, curr) => Math.max(max, curr), -1);\n    const newId = `I${maxIdNum + 1}`;\n\n    //  price  ID\n    const { price, ...inventoryItem } = item;\n    inventoryItem.id = newId;\n\n    //  MVU \n    await handleMvuUpdate([\n      {\n        event: 'updateByPath',\n        detail: {\n          path: 'playerDynamicData.gold',\n          value: currentGold - item.price,\n        },\n      },\n      {\n        event: 'insertByPath',\n        detail: {\n          path: `playerDynamicData.inventory.${newId}`,\n          value: inventoryItem,\n        },\n      },\n    ]);\n\n    return ` ${item.name} ${item.price} `;\n  }\n\n  return {\n    // \n    refreshUserInput,\n    shopItems,\n    selectedItem,\n    isGenerating,\n    tradeCustomApi,\n    // \n    refreshShop,\n    handleBuy,\n    requestShopItems,\n    buyItem,\n  };\n}\n","import { compare } from 'compare-versions';\n\nexport function assignInplace<T>(destination: T[], new_array: T[]): T[] {\n  destination.length = 0;\n  destination.push(...new_array);\n  return destination;\n}\n\nexport function chunkBy<T>(array: T[], predicate: (lhs: T, rhs: T) => boolean): T[][] {\n  if (array.length === 0) {\n    return [];\n  }\n\n  const chunks: T[][] = [[array[0]]];\n  for (const [lhs, rhs] of _.zip(_.dropRight(array), _.drop(array))) {\n    if (predicate(lhs!, rhs!)) {\n      chunks[chunks.length - 1].push(rhs!);\n    } else {\n      chunks.push([rhs!]);\n    }\n  }\n  return chunks;\n}\n\nexport function uuidv4(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport async function checkMinimumVersion(expected: string, title: string) {\n  if (compare(await getTavernHelperVersion(), expected, '<')) {\n    toastr.error(`'${title}'  >= '${expected}'`, '');\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = { class: \"trade-container\" };\nconst _hoisted_2 = { class: \"inventory-mini\" };\nconst _hoisted_3 = { class: \"gold\" };\nconst _hoisted_4 = { class: \"trade-controls\" };\nconst _hoisted_5 = [\"disabled\"];\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = { class: \"master-detail-body\" };\nconst _hoisted_8 = {\n    key: 0,\n    class: \"master-grid trade-grid\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = { class: \"item-main\" };\nconst _hoisted_11 = {\n    key: 0,\n    class: \"fa-solid fa-box\"\n};\nconst _hoisted_12 = {\n    key: 1,\n    class: \"fa-solid fa-plate-wheat\"\n};\nconst _hoisted_13 = {\n    key: 2,\n    class: \"fa-solid fa-shirt\"\n};\nconst _hoisted_14 = {\n    key: 3,\n    class: \"fa-solid fa-wand-sparkles\"\n};\nconst _hoisted_15 = { class: \"item-price\" };\nconst _hoisted_16 = {\n    key: 1,\n    class: \"data-empty\",\n    style: { \"background\": \"var(--blur_tint_color)\" }\n};\nconst _hoisted_17 = {\n    key: 2,\n    class: \"data-empty\",\n    style: { \"background\": \"var(--blur_tint_color)\" }\n};\nconst _hoisted_18 = { class: \"detail-panel\" };\nconst _hoisted_19 = {\n    key: 0,\n    class: \"details-content\"\n};\nconst _hoisted_20 = { class: \"item-name flex-between\" };\nconst _hoisted_21 = { class: \"item-type-tier\" };\nconst _hoisted_22 = {\n    key: 0,\n    class: \"item-slot\"\n};\nconst _hoisted_23 = { class: \"item-description\" };\nconst _hoisted_24 = { class: \"trade-actions\" };\nconst _hoisted_25 = { class: \"price-tag\" };\nconst _hoisted_26 = [\"disabled\"];\nconst _hoisted_27 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useTrade } from '../hooks/useTrade';\nimport { qualityLabels, slotLabels, tierLabels, typeLabels } from '../itemConstants';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'tradeTab',\n    emits: ['open-settings'],\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { refreshUserInput, shopItems, selectedItem, isGenerating, refreshShop, handleBuy } = useTrade(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, \" \" + _toDisplayString(_unref(mvu).playerDynamicData.gold) + \"\", 1 /* TEXT */),\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        _withDirectives(_createElementVNode(\"textarea\", {\n                            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(refreshUserInput) ? (refreshUserInput).value = $event : null)),\n                            placeholder: \" ()...\",\n                            class: \"refresh-textarea\",\n                            disabled: _unref(isGenerating)\n                        }, null, 8 /* PROPS */, _hoisted_5), [\n                            [_vModelText, _unref(refreshUserInput)]\n                        ]),\n                        _createElementVNode(\"div\", null, [\n                            _createElementVNode(\"button\", {\n                                onClick: _cache[1] || (_cache[1] = ($event) => (_ctx.$emit('open-settings'))),\n                                title: \"API \",\n                                style: { \"margin-right\": \"6px\" }\n                            }, [...(_cache[4] || (_cache[4] = [\n                                    _createElementVNode(\"i\", { class: \"fa-solid fa-gear\" }, null, -1 /* CACHED */)\n                                ]))]),\n                            _createElementVNode(\"button\", {\n                                onClick: _cache[2] || (_cache[2] = ($event) => (_unref(refreshShop)(_unref(refreshUserInput)))),\n                                disabled: _unref(isGenerating)\n                            }, [\n                                _cache[5] || (_cache[5] = _createTextVNode(\"  \", -1 /* CACHED */)),\n                                _createElementVNode(\"i\", {\n                                    class: _normalizeClass([\"fa-solid fa-rotate\", { 'fa-spin': _unref(isGenerating) }])\n                                }, null, 2 /* CLASS */)\n                            ], 8 /* PROPS */, _hoisted_6)\n                        ])\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_7, [\n                    (_unref(shopItems).length)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                            _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"section-title grid-col-span-full\" }, \"\", -1 /* CACHED */)),\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(shopItems), (item) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                    class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedItem)?.id === item.id }]),\n                                    key: item.id,\n                                    onClick: ($event) => (selectedItem.value = item)\n                                }, [\n                                    _createElementVNode(\"div\", _hoisted_10, [\n                                        (item.type == 'item')\n                                            ? (_openBlock(), _createElementBlock(\"i\", _hoisted_11))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        (item.type == 'consumable')\n                                            ? (_openBlock(), _createElementBlock(\"i\", _hoisted_12))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        (item.type == 'cloth')\n                                            ? (_openBlock(), _createElementBlock(\"i\", _hoisted_13))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        (item.type == 'weapon')\n                                            ? (_openBlock(), _createElementBlock(\"i\", _hoisted_14))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_15, _toDisplayString(item.price) + \"g\", 1 /* TEXT */)\n                                ], 10 /* CLASS, PROPS */, _hoisted_9));\n                            }), 128 /* KEYED_FRAGMENT */))\n                        ]))\n                        : (_unref(isGenerating))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [...(_cache[7] || (_cache[7] = [\n                                    _createElementVNode(\"i\", { class: \"fa-solid fa-spinner fa-spin\" }, null, -1 /* CACHED */),\n                                    _createTextVNode(\" ... \", -1 /* CACHED */)\n                                ]))]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, \"\")),\n                    _createElementVNode(\"div\", _hoisted_18, [\n                        (_unref(selectedItem))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n                                _createElementVNode(\"div\", _hoisted_20, _toDisplayString(_unref(selectedItem).name), 1 /* TEXT */),\n                                _createElementVNode(\"div\", {\n                                    class: _normalizeClass([\"item-quality\", _unref(selectedItem).quality])\n                                }, _toDisplayString(_unref(qualityLabels)[_unref(selectedItem).quality]), 3 /* TEXT, CLASS */),\n                                _createElementVNode(\"div\", _hoisted_21, _toDisplayString(_unref(typeLabels)[_unref(selectedItem).type]) + \" / \" + _toDisplayString(_unref(tierLabels)[_unref(selectedItem).tier]), 1 /* TEXT */),\n                                (_unref(selectedItem).slot)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, \": \" + _toDisplayString(_unref(slotLabels)[_unref(selectedItem).slot]), 1 /* TEXT */))\n                                    : _createCommentVNode(\"v-if\", true),\n                                _createElementVNode(\"div\", _hoisted_23, _toDisplayString(_unref(selectedItem).description), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_24, [\n                                    _createElementVNode(\"div\", _hoisted_25, \": \" + _toDisplayString(_unref(selectedItem).price) + \" \", 1 /* TEXT */),\n                                    _createElementVNode(\"button\", {\n                                        class: \"buy-button\",\n                                        disabled: _unref(mvu).playerDynamicData.gold < _unref(selectedItem).price,\n                                        onClick: _cache[3] || (_cache[3] =\n                                            //@ts-ignore\n                                            (...args) => (_unref(handleBuy) && _unref(handleBuy)(...args)))\n                                    }, \"  \", 8 /* PROPS */, _hoisted_26)\n                                ])\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./tradeTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./tradeTab.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./tradeTab.vue?vue&type=style&index=0&id=2849c3dc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2849c3dc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock, resolveDynamicComponent as _resolveDynamicComponent, withCtx as _withCtx, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"status-bar\" };\nconst _hoisted_2 = { class: \"scene-section\" };\nconst _hoisted_3 = { class: \"scene-details\" };\nconst _hoisted_4 = { class: \"scene-left\" };\nconst _hoisted_5 = { class: \"location\" };\nconst _hoisted_6 = { class: \"scene-right\" };\nconst _hoisted_7 = { class: \"meta-info\" };\nconst _hoisted_8 = { class: \"meta-info\" };\nconst _hoisted_9 = { class: \"tabs\" };\nconst _hoisted_10 = { class: \"tab-content\" };\nimport { onMounted, ref, shallowRef } from 'vue';\nimport BagTab from './components/bagTab.vue';\nimport CodexTab from './components/codexTab.vue';\nimport PartyTab from './components/partyTab.vue';\nimport QuestsTab from './components/questsTab.vue';\nimport WardTab from './components/wardTab.vue';\nimport WorldTab from './components/worldTab.vue';\nimport { useMvuData } from './hooks/useMvuData';\nimport MapSelector from './components/MapSelector.vue';\nimport ModalDialog from './components/ModalDialog.vue';\nimport OutfitSelector from './components/outfitSelector.vue';\nimport TradeApiSettings from './components/tradeApiSettings.vue';\nimport TradeTab from './components/tradeTab.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const activeTab = ref('party');\n        const showModal = ref(false);\n        const modalTitle = ref('');\n        const modalContent = shallowRef(null);\n        const selectedPointName = ref('');\n        const modalComponentRef = ref(null);\n        const editingOutfitId = ref(null);\n        const openMapModal = () => {\n            modalTitle.value = '';\n            modalContent.value = MapSelector;\n            selectedPointName.value = '';\n            showModal.value = true;\n        };\n        const openOutfitModal = (outfitId) => {\n            editingOutfitId.value = outfitId || null;\n            modalTitle.value = outfitId ? '' : '';\n            modalContent.value = OutfitSelector;\n            showModal.value = true;\n        };\n        const openTradeSettingsModal = () => {\n            modalTitle.value = ' API ';\n            modalContent.value = TradeApiSettings;\n            showModal.value = true;\n        };\n        const handlePointSelected = (point) => {\n            selectedPointName.value = point;\n        };\n        const handleConfirm = () => {\n            if (modalContent.value === MapSelector && selectedPointName.value) {\n                const [region, location] = selectedPointName.value.split(', ');\n                // todo promptllm\n                console.log(':', region, location);\n            }\n            else if (modalContent.value === OutfitSelector) {\n                const outfitData = modalComponentRef.value?.getOutfitData();\n                let event;\n                if (outfitData) {\n                    let outfitKey = editingOutfitId.value;\n                    event = !outfitKey ? 'insertByObject' : 'updateByObject';\n                    if (!outfitKey) {\n                        const wardrobeKeys = Object.keys(mvu.value.wardrobe.ownedOutfits);\n                        const maxId = wardrobeKeys.reduce((max, key) => {\n                            const idNum = parseInt(key.slice(1), 10);\n                            return idNum > max ? idNum : max;\n                        }, 0);\n                        outfitKey = `O${maxId + 1}`;\n                    }\n                    handleMvuUpdate([\n                        {\n                            event: event,\n                            detail: {\n                                wardrobe: {\n                                    ownedOutfits: {\n                                        [outfitKey]: outfitData,\n                                    },\n                                },\n                            },\n                        },\n                    ]);\n                }\n            }\n            else if (modalContent.value === TradeApiSettings) {\n                const apiConfig = modalComponentRef.value?.getApiConfig();\n                if (apiConfig) {\n                    const hasCustomApi = !!mvu.value.system.tradeCustomApi;\n                    handleMvuUpdate([\n                        {\n                            event: hasCustomApi ? 'updateByPath' : 'insertByPath',\n                            detail: {\n                                path: 'system.tradeCustomApi',\n                                value: apiConfig,\n                            },\n                        },\n                    ]);\n                    toastr.success('API ');\n                }\n            }\n            else {\n                console.log('');\n            }\n            showModal.value = false;\n        };\n        const { mvu, rawMvuData, handleMvuUpdate, initialize } = useMvuData();\n        onMounted(async () => {\n            await initialize();\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"corner left-top\" }, null, -1 /* CACHED */)),\n                _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"corner right-top\" }, null, -1 /* CACHED */)),\n                _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"corner left-bottom\" }, null, -1 /* CACHED */)),\n                _cache[13] || (_cache[13] = _createElementVNode(\"div\", { class: \"corner right-bottom\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  -  \"),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createElementVNode(\"div\", _hoisted_5, \" \" + _toDisplayString(_unref(mvu).worldInfo.currentRegion) + \" - \" + _toDisplayString(_unref(mvu).worldInfo.currentLocation), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            _createElementVNode(\"div\", _hoisted_7, [\n                                _cache[8] || (_cache[8] = _createTextVNode(\" : \", -1 /* CACHED */)),\n                                _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).worldInfo.date) + \" \" + _toDisplayString(_unref(mvu).worldInfo.time), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_8, [\n                                _cache[9] || (_cache[9] = _createTextVNode(\" : \", -1 /* CACHED */)),\n                                _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).worldInfo.weather), 1 /* TEXT */)\n                            ])\n                        ])\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_9, [\n                    _createCommentVNode(\" <button @click=\\\"testFunc\\\"></button> \"),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeTab.value = 'world')),\n                        class: _normalizeClass({ active: activeTab.value === 'world' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeTab.value = 'party')),\n                        class: _normalizeClass({ active: activeTab.value === 'party' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[2] || (_cache[2] = ($event) => (activeTab.value = 'wardrobe')),\n                        class: _normalizeClass({ active: activeTab.value === 'wardrobe' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[3] || (_cache[3] = ($event) => (activeTab.value = 'quests')),\n                        class: _normalizeClass({ active: activeTab.value === 'quests' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[4] || (_cache[4] = ($event) => (activeTab.value = 'bag')),\n                        class: _normalizeClass({ active: activeTab.value === 'bag' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[5] || (_cache[5] = ($event) => (activeTab.value = 'trade')),\n                        class: _normalizeClass({ active: activeTab.value === 'trade' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[6] || (_cache[6] = ($event) => (activeTab.value = 'codex')),\n                        class: _normalizeClass({ active: activeTab.value === 'codex' })\n                    }, \"\", 2 /* CLASS */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'world')\n                        ? (_openBlock(), _createBlock(WorldTab, {\n                            key: 0,\n                            onOpenMap: openMapModal\n                        }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'party')\n                        ? (_openBlock(), _createBlock(PartyTab, { key: 1 }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'wardrobe')\n                        ? (_openBlock(), _createBlock(WardTab, {\n                            key: 2,\n                            onOpenUpdate: openOutfitModal\n                        }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'quests')\n                        ? (_openBlock(), _createBlock(QuestsTab, { key: 3 }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'bag')\n                        ? (_openBlock(), _createBlock(BagTab, { key: 4 }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'trade')\n                        ? (_openBlock(), _createBlock(TradeTab, {\n                            key: 5,\n                            onOpenSettings: openTradeSettingsModal\n                        }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'codex')\n                        ? (_openBlock(), _createBlock(CodexTab, { key: 6 }))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createVNode(ModalDialog, {\n                    modelValue: showModal.value,\n                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((showModal).value = $event)),\n                    title: modalTitle.value,\n                    onConfirm: handleConfirm\n                }, {\n                    default: _withCtx(() => [\n                        (_openBlock(), _createBlock(_resolveDynamicComponent(modalContent.value), {\n                            ref_key: \"modalComponentRef\",\n                            ref: modalComponentRef,\n                            \"outfit-id\": editingOutfitId.value,\n                            onPointSelected: handlePointSelected\n                        }, null, 40 /* PROPS, NEED_HYDRATION */, [\"outfit-id\"]))\n                    ]),\n                    footer: _withCtx(() => [\n                        _createCommentVNode(\" <button @click=\\\"showModal = false\\\"></button> \"),\n                        _createElementVNode(\"button\", { onClick: handleConfirm }, \"\")\n                    ]),\n                    _: 1 /* STABLE */\n                }, 8 /* PROPS */, [\"modelValue\", \"title\"])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import App from './App.vue';\nimport './css/base.scss';\nimport './css/common.scss';\nimport './css/style.scss';\n$(() => {\n    createApp(App).mount('#app');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Vue","_","defaultMvuData","playerData","character","name","level","gender","race","height","build","appearance","personality","status","health","current","max","mood","arousal","experience","attributes","shooting","melee","construction","mining","cooking","planting","animals","crafting","artistic","medical","social","intellectual","equipment","leftHand","rightHand","outfitContent","playerDynamicData","inventory","gold","debt","followerNPCData","wardrobe","ownedOutfits","archivedData","factionPrestige","bestiary","anecdotes","outfitIds","F0","worldNPC","system","mainStoryMode","tradeCustomApi","apiurl","model","worldInfo","date","time","weather","currentRegion","currentLocation","nearbyNPC","progressData","questPhase","partyAttrPoints","currentQuest","nextQuest","pendingQuest","completedQuest","ERA_EVENT","insertByObject","updateByObject","insertByPath","updateByPath","deleteByObject","deleteByPath","rawMvuData","ref","currentMessageId","mvu","refreshMvuData","async","messageId","eventEmit","error","console","value","handleMvuUpdate","commands","successCallback","warn","toastr","forEach","command","event","detail","watch","newData","baseState","newFollowers","oldFollowers","keys","length","allPartyKeys","attrPoints","commandsToSync","partyKey","push","path","deep","initialize","getCurrentMessageId","useMvuData","eventOn","statWithoutMeta","currentQuests","quest","updateWorldbookWith","worldbook","QUEST_KEYWORDS","STRATEGY_TYPE","map","entry","isQuestEntry","some","keyword","includes","strategy","isQuestActive","isMapActive","newStrategyType","type","z","TierTypeSchema","enum","QualityTypeSchema","SlotTypeSchema","ItemTypeSchema","object","string","default","description","quality","tier","slot","optional","extend","id","basic","defenseCoeff","comfortCoeff","warmthCoeff","socialCoeff","weightCoeff","light","medium","heavy","common","allAttributesCoeff","color","good","excellent","masterwork","legendary","head","baseDefense","baseComfort","baseWarmth","baseSocial","baseWeight","bodyInner","bodyArmor","hands","legsInner","legsArmor","feet","cloak","neck","ring","belt","qualityLabels","fromEntries","entries","tierLabels","slotLabels","typeLabels","cloth","weapon","item","consumable","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","style","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","__name","setup","__props","selectedItem","selectItem","deleteItem","isEditing","editableItem","startEditing","cancelEditing","saveChanges","groupOrder","groupedInventory","index","editItem","itemKey","newItem","oldItem","computed","groups","itemToDelete","JSON","parse","stringify","itemData","useInventory","_ctx","_cache","selected","onClick","$event","label","args","title","useCodex","selectedEntry","activeCodexTab","editableEntry","bestiaryEntries","anecdoteEntries","selectedTab","selectEntry","tabName","newEntry","oldEntry","archivedEntries","deleteEntry","entryKey","entryToDelete","entryData","editEntry","archiveEntry","openEntry","active","habitat","weaknesses","killCount","number","location","charactersInvolved","knownInfo","useParty","partyUpgradeState","isAssigningAttributes","points","party","partyAsObject","followerNpcKeys","mvuNpcData","watchEffect","values","char","charName","tempAttributes","initialAttributes","calculateMaxExpForLevel","baseLinearGrowth","sigmoidPart","Math","exp","floor","getCharacterPath","getSpentPoints","state","selectedChar","selectedCharKey","characterOutfits","outfit","wearer","characterLabels","metaLabels","relationship","favorability","favorabilityTowardsNPCs","attributeLabels","statusLabels","equipmentLabels","levelUp","warning","validateExperience","newLevel","newExp","newMaxExp","levelsToGain","newAttrPointsForChar","newMaxHp","currentExp","maxExp","hpGainPerLevel","calculateLevelUpData","basePath","generateLevelUpCommand","success","commitAttributes","pointsSpent","info","availablePoints","attrKey","generateAttributeCommands","incrementAttribute","decrementAttribute","selectChar","updateOutfit","newOutfitId","outfitData","itemNames","slotKey","slots","itemIds","ids","Array","isArray","join","getNPCNameByKey","npcKey","npc","archivedNpc","getFavorabilityTowardsNPCs","npcName","fav","getHealthDescription","getHealthColor","charKey","disabled","stat","width","min","meta","onChange","outfitId","nextQuests","pendingQuests","completedQuests","activeQuestTab","activeQuest","completeQuest","deleteQuest","questId","questToActivate","cloneDeep","questToComplete","questType","questToDelete","useQuests","isMain","TierSystem","QualitySystem","ClothingSlots","calculateClothingAttributes","input","defaultTier","defaultQuality","tierData","qualityData","slotData","valid","defense","comfort","warmth","weight","usedDefaults","qCoeff","round","displayName","slotName","tierName","qualityName","qualityColor","useWardrobe","emit","selectedOutfitId","selectedOutfit","hydratedSlots","filter","Boolean","itemId","hydrateOutfit","clothingAttributes","newAttributes","itemAttributes","immediate","slotNames","extra","editOutfit","openUpdateOutfit","emits","__emit","extraItem","toFixed","archivedFlag","selectedNpc","selectNpc","openWorldMap","getPrestigeDescription","getPrestigeColor","archiveNPC","openNPC","archiveFaction","openFaction","archived","getNextId","prefix","k","match","RegExp","parseInt","isNaN","maxId","prestige","newKey","factionKey","useWorld","faction","coordinateHelperMode","showHelperCheckbox","mapCanvas","canvasContainer","selectedRegion","selectedCity","lastClickedPoint","lastClickedOriginalCoords","mapImage","Image","isImageLoaded","scaleX","scaleY","regions","x","y","cities","drawMap","canvas","ctx","getContext","dpr","window","devicePixelRatio","displayWidth","displayHeight","clearRect","globalAlpha","drawImage","fillStyle","fillRect","beginPath","arc","PI","fill","strokeStyle","stroke","region","moveTo","i","lineTo","closePath","font","textAlign","textBaseline","city","cityX","cityY","text","textY","backgroundWidth","measureText","padding","backgroundX","backgroundY","backgroundHeight","roundRect","textHeight","fillText","lineWidth","handleCanvasClick","rect","getBoundingClientRect","clickPoint","clientX","left","clientY","top","coords","log","foundCity","foundRegionForCity","sqrt","clickedRegionData","p","find","point","polygon","isInside","j","xi","yi","xj","yj","isPointInPolygon","r","resizeCanvas","container","scale","resizeObserver","onMounted","crossOrigin","onload","src","ResizeObserver","observe","onUnmounted","disconnect","checked","$emit","ref_key","modelValue","String","modalContainerRef","isFullscreen","toggle","toggleFullscreen","$slots","expose","__expose","selectedSlot","defaultSlots","defaultOutfitTemplate","editingOutfit","isEquipped","equippedItem","newOutfitData","itemInventory","getOutfitData","outfitToSave","dehydratedSlots","slottedItems","layout","for","row","rowIndex","colIndex","equipped","currentEquippedItem","apiConfig","getApiConfig","placeholder","refreshUserInput","shopItems","isGenerating","useTrade","requestShopItems","locationName","userInput","prompt","replace","jsonMatch","generateRaw","user_input","ordered_prompts","role","content","overrides","chat_history","with_depth_entries","custom_api","source","items","rawItems","trim","c","random","toString","e","buyItem","currentGold","price","Error","newId","startsWith","substring","num","reduce","curr","inventoryItem","refreshShop","result","handleBuy","message","activeTab","showModal","modalTitle","modalContent","shallowRef","selectedPointName","modalComponentRef","editingOutfitId","openMapModal","MapSelector","openOutfitModal","openTradeSettingsModal","handlePointSelected","handleConfirm","split","outfitKey","idNum","slice","hasCustomApi","onOpenMap","onOpenUpdate","onOpenSettings","ModalDialog","onConfirm","onPointSelected","footer","$","createApp","App","mount"],"ignoreList":[],"sourceRoot":""}