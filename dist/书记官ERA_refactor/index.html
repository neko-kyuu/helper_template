<head><script type="module">import{useFullscreen as e}from'https://testingcf.jsdelivr.net/npm/@vueuse/core/+esm';import'https://testingcf.jsdelivr.net/npm/compare-versions/+esm';var t={455(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const l=Vue;const o=_;var r=n.n(o);const c={playerData:{character:{name:'',level:1,gender:'ç”·',race:'',height:'',build:'',appearance:'',personality:''},status:{health:{current:12,max:12},mood:{current:0,max:100},arousal:{current:50,max:100},experience:{current:0,max:100}},attributes:{shooting:0,melee:0,construction:0,mining:0,cooking:0,planting:0,animals:0,crafting:0,artistic:0,medical:0,social:0,intellectual:0},equipment:{leftHand:'none',rightHand:'none',outfitContent:'none'}},playerDynamicData:{inventory:{},gold:100,debt:{}},followerNPCData:{},wardrobe:{ownedOutfits:{}},archivedData:{factionPrestige:{},bestiary:{},anecdotes:{},outfitIds:{F0:'none'},inventory:{},worldNPC:{}},system:{mainStoryMode:!0,tradeCustomApi:{apiurl:'',key:'',model:''}},worldInfo:{date:'',time:'',weather:'',currentRegion:'',currentLocation:'',nearbyNPC:{},factionPrestige:{},bestiary:{},anecdotes:{}},progressData:{questPhase:'',partyAttrPoints:{},currentQuest:{},nextQuest:{},pendingQuest:{},completedQuest:{}}},s={insertByObject:'era:insertByObject',updateByObject:'era:updateByObject',insertByPath:'era:insertByPath',updateByPath:'era:updateByPath',deleteByObject:'era:deleteByObject',deleteByPath:'era:deleteByPath'},i=(0,l.ref)(null),d=(0,l.ref)(0),u=(0,l.ref)(r().cloneDeep(c)),m=async e=>{try{eventEmit('era:requestWriteDone')}catch(t){console.error(`è·å–æ¥¼å±‚ ${e} çš„ MVU æ•°æ®å¤±è´¥:`,t),i.value=null}},p=async(e,t)=>{if(!i.value)return console.warn('æ— æ³•ä¿®æ”¹ MVU æ•°æ®, å› ä¸ºæ—§æ•°æ®ä¸å­˜åœ¨'),void toastr.error('æ— æ³•æ‰§è¡Œæ“ä½œ: å…³é”®æ•°æ®ç¼ºå¤±');try{e.forEach(e=>{const t=e.event;t in s?eventEmit(s[t],e.detail):console.warn(`Invalid ERA event received: ${t}`)}),t?.()}catch(e){console.error('ä¿®æ”¹ MVU æ•°æ®å¤±è´¥:',e),toastr.error('æ“ä½œå¤±è´¥: ä¿å­˜æ•°æ®æ—¶å‡ºé”™')}};(0,l.watch)(i,e=>{if(!e)return u.value=r().cloneDeep(c),void console.warn('MVU æ•°æ®æ— æ•ˆæˆ–ä¸ºç©º, å·²é‡ç½®ä¸ºé»˜è®¤å€¼');const t=r().cloneDeep(c);u.value=r().merge(t,e)}),(0,l.watch)(()=>i.value?.followerNPCData,(e,t)=>{if(!i.value&&!e&&!t)return;if(Object.keys(e).length===Object.keys(t||{}).length)return;const a=['F0',...Object.keys(e||{})],n=i.value.progressData?.partyAttrPoints||{},l=[];for(const e of a)e in n||l.push({event:'insertByPath',detail:{path:`progressData.partyAttrPoints.${e}`,value:0}});l.length>0&&p(l)},{deep:!0});const f=async()=>{try{d.value=getCurrentMessageId(),m()}catch(e){console.error('ç»„ä»¶åˆå§‹åŒ–å¤±è´¥:',e)}};function v(){return{mvu:u,rawMvuData:i,currentMessageId:d,refreshMvuData:m,handleMvuUpdate:p,initialize:f}}eventOn('era:writeDone',e=>{if(!e||!e.statWithoutMeta)return;i.value=e.statWithoutMeta;const t=i.value?.worldInfo?.currentRegion;let a=[];if(i.value?.system?.mainStoryMode){const e=i.value?.progressData?.currentQuest||{};a=Object.keys(e)}updateWorldbookWith('å¥¥å¼—è¨æ–¯',e=>{const n=['ä¸»çº¿','æ”¯çº¿'],l='constant',o='selective';return e.map(e=>{const r=n.some(t=>e.name.includes(t));if(!e.name.includes('åœ°å›¾')&&!r||!e.strategy)return e;const c=a.some(t=>e.strategy.keys.includes(t)),s=e.strategy.keys.includes(t),i=c||s?l:o;return e.strategy.type===i?e:{...e,strategy:{...e.strategy,type:i}}})})});const y=z,k=y.z.enum(['basic','light','medium','heavy']),g=y.z.enum(['common','good','excellent','masterwork','legendary']),h=y.z.enum(['head','bodyInner','bodyArmor','hands','legsInner','legsArmor','feet','cloak','neck','ring','belt']),E=y.z.enum(['cloth','weapon','item','consumable']),b=(y.z.object({name:y.z.string().default(''),description:y.z.string().default(''),quality:g.default('common'),type:E.default('item'),tier:k.default('basic'),slot:h.optional()}).extend({id:y.z.string()}),{basic:{name:'åŸºç¡€',description:'æ—¥å¸¸ç©¿ç€,èˆ’é€‚ä½†é˜²æŠ¤åŠ›å¼±',defenseCoeff:.5,comfortCoeff:1.2,warmthCoeff:1,socialCoeff:.8,weightCoeff:.6},light:{name:'è½»å‹',description:'å¹³è¡¡é˜²æŠ¤ä¸èˆ’é€‚,é€‚åˆå†’é™©è€…',defenseCoeff:1,comfortCoeff:1,warmthCoeff:.9,socialCoeff:1,weightCoeff:1},medium:{name:'ä¸­å‹',description:'è¾ƒå¼ºé˜²æŠ¤,ç‰ºç‰²éƒ¨åˆ†èˆ’é€‚åº¦',defenseCoeff:1.5,comfortCoeff:.6,warmthCoeff:.7,socialCoeff:1.2,weightCoeff:1.8},heavy:{name:'é‡å‹',description:'æœ€å¼ºé˜²æŠ¤,ç¬¨é‡ä¸”ä¸èˆ’é€‚',defenseCoeff:2,comfortCoeff:.3,warmthCoeff:.5,socialCoeff:1.5,weightCoeff:2.5}}),N={common:{name:'ä¸€èˆ¬',allAttributesCoeff:1,color:'#9d9d9d'},good:{name:'è‰¯å¥½',allAttributesCoeff:1.2,color:'#1eff00'},excellent:{name:'æä½³',allAttributesCoeff:1.5,color:'#0070dd'},masterwork:{name:'å¤§å¸ˆ',allAttributesCoeff:2,color:'#a335ee'},legendary:{name:'ä¼ å¥‡',allAttributesCoeff:3,color:'#ff8000'}},V={head:{name:'å¤´éƒ¨',baseDefense:5,baseComfort:7,baseWarmth:4,baseSocial:5,baseWeight:1},bodyInner:{name:'å†…è¡¬',baseDefense:2,baseComfort:9,baseWarmth:5,baseSocial:4,baseWeight:.5},bodyArmor:{name:'èº«ä½“æŠ¤ç”²',baseDefense:12,baseComfort:5,baseWarmth:4,baseSocial:7,baseWeight:6},hands:{name:'æ‰‹éƒ¨',baseDefense:3,baseComfort:7,baseWarmth:5,baseSocial:4,baseWeight:.5},legsInner:{name:'è…¿éƒ¨å†…è¡¬',baseDefense:2,baseComfort:9,baseWarmth:4,baseSocial:4,baseWeight:.4},legsArmor:{name:'è…¿éƒ¨æŠ¤ç”²',baseDefense:10,baseComfort:5,baseWarmth:4,baseSocial:6,baseWeight:5},feet:{name:'è¶³éƒ¨',baseDefense:4,baseComfort:8,baseWarmth:6,baseSocial:5,baseWeight:1},cloak:{name:'æŠ«é£',baseDefense:1,baseComfort:8,baseWarmth:10,baseSocial:7,baseWeight:1.5},neck:{name:'é¢ˆéƒ¨',baseDefense:1,baseComfort:10,baseWarmth:3,baseSocial:6,baseWeight:.1},ring:{name:'æˆ’æŒ‡',baseDefense:0,baseComfort:10,baseWarmth:0,baseSocial:8,baseWeight:.02},belt:{name:'è…°å¸¦',baseDefense:1,baseComfort:8,baseWarmth:0,baseSocial:5,baseWeight:.3}},B=Object.fromEntries(Object.entries(N).map(([e,t])=>[e,t.name])),C=Object.fromEntries(Object.entries(b).map(([e,t])=>[e,t.name])),D=Object.fromEntries(Object.entries(V).map(([e,t])=>[e,t.name])),x={cloth:'è¡£ç‰©',weapon:'æ­¦å™¨',item:'ç‰©å“',consumable:'æ¶ˆè€—å“'},w={class:'bag-container'},S={class:'inventory-mini'},P={class:'gold'},I={class:'master-detail-body'},A={key:0,class:'master-grid bag-grid'},M={class:'section-title grid-col-span-full'},O=['onClick'],T={key:0,class:'fa-solid fa-box'},F={key:1,class:'fa-solid fa-plate-wheat'},q={key:2,class:'fa-solid fa-shirt'},W={key:3,class:'fa-solid fa-wand-sparkles'},L={key:1,class:'data-empty',style:{background:'var(--blur_tint_color)'}},j={class:'detail-panel'},Q={key:0,class:'details-content'},U={key:0},R={class:'item-name flex-between'},H={style:{'flex-shrink':'0'}},K={class:'item-type-tier'},J={key:0,class:'item-slot'},G={class:'item-description'},X={key:1,class:'edit-form'},Y={class:'form-group'},Z={class:'form-group'},ee=['value'],te={class:'form-group'},ae=['value'],ne={class:'form-group'},le=['value'],oe={key:0,class:'form-group'},re=['value'],ce={class:'form-group'},se={class:'edit-buttons'},ie={key:1,class:'data-empty'},de=(0,l.defineComponent)({__name:'bagTab',setup(e){const{mvu:t,handleMvuUpdate:a}=v(),{selectedItem:n,selectItem:o,deleteItem:r,isEditing:c,editableItem:s,startEditing:i,cancelEditing:d,saveChanges:u,groupOrder:m,groupedInventory:p}=function(e,t){const a=(0,l.ref)(null),n=(0,l.ref)(!1),o=(0,l.ref)(null);function r(e,t){a.value?.id===t?a.value=null:a.value=e?{...e,id:t}:null}const c=(e,a)=>{t([{event:'updateByPath',detail:{path:`playerDynamicData.inventory.${e}`,value:a}}])},s=()=>{n.value=!1,o.value=null};(0,l.watch)(a,(e,t)=>{e?.id!==t?.id&&s()});const i=(0,l.computed)(()=>{const t={cloth:{},weapon:{},item:{},consumable:{}};if(e.value.playerDynamicData.inventory)for(const a in e.value.playerDynamicData.inventory){const n=e.value.playerDynamicData.inventory[a];n.type&&t[n.type]&&(t[n.type][a]=n)}return t});return{selectedItem:a,selectItem:r,deleteItem:n=>{const l=e.value.playerDynamicData.inventory[n];a.value&&l&&a.value.name===l.name&&r(null,''),t([{event:'deleteByPath',detail:{path:`playerDynamicData.inventory.${n}`}}])},editItem:c,isEditing:n,editableItem:o,startEditing:()=>{a.value&&(o.value=JSON.parse(JSON.stringify(a.value)),n.value=!0)},cancelEditing:s,saveChanges:()=>{if(a.value&&o.value){const{id:e}=a.value,{id:_,...t}=o.value;c(e,t),n.value=!1,a.value={...a.value,...t}}},groupOrder:['item','consumable','cloth','weapon'],groupedInventory:i}}(t,a);return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',w,[(0,l.createElementVNode)('div',S,[(0,l.createElementVNode)('div',P,'ğŸ’° '+(0,l.toDisplayString)((0,l.unref)(t).playerDynamicData.gold)+'é‡‘å¸',1),a[10]||(a[10]=(0,l.createElementVNode)('div',null,[(0,l.createElementVNode)('button',{style:{'margin-right':'6px'}},[(0,l.createTextVNode)('ç‚¼é‡‘ '),(0,l.createElementVNode)('i',{class:'fa-solid fa-capsules'})]),(0,l.createElementVNode)('button',null,[(0,l.createTextVNode)('å¼ºåŒ– '),(0,l.createElementVNode)('i',{class:'fa-solid fa-hammer'})])],-1))]),(0,l.createElementVNode)('div',I,[(0,l.unref)(t).playerDynamicData.inventory&&Object.keys((0,l.unref)(t).playerDynamicData.inventory).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',A,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(m),e=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:e},[(0,l.unref)(p)[e]&&Object.keys((0,l.unref)(p)[e]).length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createCommentVNode)(' <div > '),(0,l.createElementVNode)('div',M,(0,l.toDisplayString)((0,l.unref)(x)[e]),1),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(p)[e],(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['master-grid-item',{selected:(0,l.unref)(n)?.name===e.name}]),key:t,onClick:a=>(0,l.unref)(o)(e,t)},['item'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',T)):(0,l.createCommentVNode)('v-if',!0),'consumable'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',F)):(0,l.createCommentVNode)('v-if',!0),'cloth'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',q)):(0,l.createCommentVNode)('v-if',!0),'weapon'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',W)):(0,l.createCommentVNode)('v-if',!0),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(e.name),1)],10,O))),128)),(0,l.createCommentVNode)(' </div> ')],64)):(0,l.createCommentVNode)('v-if',!0)],64))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',L,'èƒŒåŒ…ç©ºç©ºå¦‚ä¹Ÿ')),(0,l.createElementVNode)('div',j,[(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Q,[(0,l.unref)(c)?(0,l.unref)(s)?((0,l.openBlock)(),(0,l.createElementBlock)('div',X,[(0,l.createElementVNode)('div',Y,[a[11]||(a[11]=(0,l.createElementVNode)('label',null,'åç§°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':a[2]||(a[2]=e=>(0,l.unref)(s).name=e)},null,512),[[l.vModelText,(0,l.unref)(s).name]])]),(0,l.createElementVNode)('div',Z,[a[12]||(a[12]=(0,l.createElementVNode)('label',null,'å“è´¨',-1)),(0,l.withDirectives)((0,l.createElementVNode)('select',{'onUpdate:modelValue':a[3]||(a[3]=e=>(0,l.unref)(s).quality=e)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(B),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('option',{key:t,value:t},(0,l.toDisplayString)(e),9,ee))),128))],512),[[l.vModelSelect,(0,l.unref)(s).quality]])]),(0,l.createElementVNode)('div',te,[a[13]||(a[13]=(0,l.createElementVNode)('label',null,'ç±»å‹',-1)),(0,l.withDirectives)((0,l.createElementVNode)('select',{'onUpdate:modelValue':a[4]||(a[4]=e=>(0,l.unref)(s).type=e)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(x),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('option',{key:t,value:t},(0,l.toDisplayString)(e),9,ae))),128))],512),[[l.vModelSelect,(0,l.unref)(s).type]])]),(0,l.createElementVNode)('div',ne,[a[14]||(a[14]=(0,l.createElementVNode)('label',null,'ç­‰çº§',-1)),(0,l.withDirectives)((0,l.createElementVNode)('select',{'onUpdate:modelValue':a[5]||(a[5]=e=>(0,l.unref)(s).tier=e)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(C),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('option',{key:t,value:t},(0,l.toDisplayString)(e),9,le))),128))],512),[[l.vModelSelect,(0,l.unref)(s).tier]])]),(0,l.unref)(s).slot?((0,l.openBlock)(),(0,l.createElementBlock)('div',oe,[a[15]||(a[15]=(0,l.createElementVNode)('label',null,'éƒ¨ä½',-1)),(0,l.withDirectives)((0,l.createElementVNode)('select',{'onUpdate:modelValue':a[6]||(a[6]=e=>(0,l.unref)(s).slot=e)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(D),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('option',{key:t,value:t},(0,l.toDisplayString)(e),9,re))),128))],512),[[l.vModelSelect,(0,l.unref)(s).slot]])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',ce,[a[16]||(a[16]=(0,l.createElementVNode)('label',null,'æè¿°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{'onUpdate:modelValue':a[7]||(a[7]=e=>(0,l.unref)(s).description=e)},null,512),[[l.vModelText,(0,l.unref)(s).description]])]),(0,l.createElementVNode)('div',se,[(0,l.createElementVNode)('button',{onClick:a[8]||(a[8]=(...e)=>(0,l.unref)(u)&&(0,l.unref)(u)(...e))},'ä¿å­˜'),(0,l.createElementVNode)('button',{onClick:a[9]||(a[9]=(...e)=>(0,l.unref)(d)&&(0,l.unref)(d)(...e))},'å–æ¶ˆ')])])):(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',U,[(0,l.createElementVNode)('div',R,[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n).name)+' | '+(0,l.toDisplayString)((0,l.unref)(n).id)+' ',1),(0,l.createElementVNode)('div',H,[(0,l.createElementVNode)('i',{class:'fa-solid fa-pencil',onClick:a[0]||(a[0]=(...e)=>(0,l.unref)(i)&&(0,l.unref)(i)(...e)),style:{cursor:'pointer','margin-right':'8px'},title:'ç¼–è¾‘ç‰©å“'}),(0,l.createElementVNode)('i',{class:'fa-solid fa-trash-can',onClick:a[1]||(a[1]=e=>(0,l.unref)(r)((0,l.unref)(n).id)),style:{cursor:'pointer'},title:'åˆ é™¤ç‰©å“'})])]),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['item-quality',(0,l.unref)(n).quality])},(0,l.toDisplayString)((0,l.unref)(B)[(0,l.unref)(n).quality]),3),(0,l.createElementVNode)('div',K,(0,l.toDisplayString)((0,l.unref)(x)[(0,l.unref)(n).type])+' / '+(0,l.toDisplayString)((0,l.unref)(C)[(0,l.unref)(n).tier]),1),(0,l.unref)(n).slot?((0,l.openBlock)(),(0,l.createElementBlock)('div',J,'éƒ¨ä½: '+(0,l.toDisplayString)((0,l.unref)(D)[(0,l.unref)(n).slot]),1)):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',G,(0,l.toDisplayString)((0,l.unref)(n).description),1)]))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',ie,'é€‰æ‹©ä¸€ä¸ªç‰©å“æŸ¥çœ‹è¯¦æƒ…'))])])]))}});var ue=n(455);const me=(0,ue.A)(de,[['__scopeId','data-v-0fca49fe']]);function pe(e,t){const a=(0,l.ref)(null),n=(0,l.ref)('bestiary'),o=(0,l.ref)(!1),r=(0,l.ref)(null),c=(0,l.computed)(()=>e.value.worldInfo.bestiary||{}),s=(0,l.computed)(()=>e.value.worldInfo.anecdotes||{}),i=(0,l.ref)('');function d(e,t,n){a.value?.id===t?a.value=null:(a.value=e?{...e,id:t}:null,i.value=n)}const u=()=>{o.value=!1,r.value=null};(0,l.watch)(a,(e,t)=>{e?.id!==t?.id&&u()}),(0,l.watch)(n,()=>{d(null,'','')});const m=(0,l.computed)(()=>e.value.archivedData.anecdotes||{});return{selectedEntry:a,selectEntry:d,selectedTab:i,activeCodexTab:n,bestiaryEntries:c,anecdoteEntries:s,deleteEntry:l=>{const o='bestiary'===n.value?e.value.worldInfo.bestiary[l]:e.value.worldInfo.anecdotes[l];a.value&&o&&a.value.name===o.name&&d(null,'','');const r='bestiary'===n.value?'bestiary':'anecdotes';t([{event:'deleteByPath',detail:{path:`worldInfo.${r}.${l}`}}])},isEditing:o,editableEntry:r,startEditing:()=>{a.value&&(r.value=JSON.parse(JSON.stringify(a.value)),o.value=!0)},cancelEditing:u,saveChanges:()=>{if(a.value&&r.value){const{id:e}=a.value,{id:_,...l}=r.value;((e,a)=>{const l='bestiary'===n.value?'bestiary':'anecdotes';t([{event:'updateByPath',detail:{path:`worldInfo.${l}.${e}`,value:a}}])})(e,l),o.value=!1,a.value={...a.value,...l}}},archiveEntry:l=>{const o='bestiary'===n.value?e.value.worldInfo.bestiary[l]:e.value.worldInfo.anecdotes[l];a.value&&o&&a.value.name===o.name&&d(null,'','');const r='bestiary'===n.value?'bestiary':'anecdotes';t([{event:'insertByPath',detail:{path:`archivedData.${r}.${l}`,value:o}},{event:'deleteByPath',detail:{path:`worldInfo.${r}.${l}`}}])},openEntry:l=>{const o='bestiary'===n.value?e.value.archivedData.bestiary[l]:e.value.archivedData.anecdotes[l];a.value&&o&&a.value.name===o.name&&d(null,'','');const r='bestiary'===n.value?'bestiary':'anecdotes';t([{event:'insertByPath',detail:{path:`worldInfo.${r}.${l}`,value:o}},{event:'deleteByPath',detail:{path:`archivedData.${r}.${l}`}}])},archivedEntries:m}}const fe={class:'codex-container'},ve={class:'master-tabs'},ye={class:'master-detail-body'},ke={class:'master-grid codex-grid'},ge=['onClick'],he=['onClick'],Ee=['onClick'],be={class:'detail-panel'},Ne={key:0,class:'details-content'},Ve={key:0},Be={class:'item-name flex-between'},Ce={style:{'flex-shrink':'0'}},De={key:0,class:'detail-item'},xe={key:1,class:'detail-item'},we={key:2,class:'detail-item'},Se={key:3,class:'detail-item'},Pe={key:4,class:'detail-item'},Ie={class:'item-description'},Ae={class:'item-description'},Me={key:1,class:'edit-form'},$e={class:'form-group'},Oe={class:'form-group'},Te={class:'form-group'},_e={class:'form-group'},Fe={class:'form-group'},qe={class:'form-group'},ze={class:'form-group'},We={class:'form-group'},Le={class:'edit-buttons'},je={key:1,class:'data-empty'},Qe=(0,l.defineComponent)({__name:'codexTab',setup(e){const{mvu:t,handleMvuUpdate:a}=v(),{selectedEntry:n,selectEntry:o,selectedTab:r,activeCodexTab:c,bestiaryEntries:s,anecdoteEntries:i,deleteEntry:d,isEditing:u,editableEntry:m,startEditing:p,cancelEditing:f,saveChanges:y,archiveEntry:k,openEntry:g,archivedEntries:h}=pe(t,a);return(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',fe,[(0,l.createElementVNode)('div',ve,[(0,l.createElementVNode)('button',{onClick:t[0]||(t[0]=e=>c.value='bestiary'),class:(0,l.normalizeClass)({active:'bestiary'===(0,l.unref)(c)})},'ç”Ÿç‰©å›¾é‰´',2),(0,l.createElementVNode)('button',{onClick:t[1]||(t[1]=e=>c.value='anecdotes'),class:(0,l.normalizeClass)({active:'anecdotes'===(0,l.unref)(c)})},' æ—…é€”è½¶äº‹ ',2)]),(0,l.createElementVNode)('div',ye,[(0,l.createElementVNode)('div',ke,['bestiary'===(0,l.unref)(c)?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)((0,l.unref)(s),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['master-grid-item',{selected:(0,l.unref)(n)?.name===e.name}]),key:t,onClick:a=>(0,l.unref)(o)(e,t,'bestiaryEntries')},(0,l.toDisplayString)(e.name),11,ge))),128)):(0,l.createCommentVNode)('v-if',!0),'anecdotes'===(0,l.unref)(c)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[Object.keys((0,l.unref)(i)).length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[t[16]||(t[16]=(0,l.createElementVNode)('div',{class:'section-title grid-col-span-full'},'è½¶äº‹',-1)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(i),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['master-grid-item',{selected:(0,l.unref)(n)?.name===e.name}]),key:t,onClick:a=>(0,l.unref)(o)(e,t,'anecdoteEntries')},(0,l.toDisplayString)(e.name),11,he))),128))],64)):(0,l.createCommentVNode)('v-if',!0),Object.keys((0,l.unref)(h)).length?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[t[17]||(t[17]=(0,l.createElementVNode)('div',{class:'section-title grid-col-span-full'},'å·²å½’æ¡£',-1)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(h),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['master-grid-item',{selected:(0,l.unref)(n)?.name===e.name}]),key:t,onClick:a=>(0,l.unref)(o)(e,t,'archivedEntries')},(0,l.toDisplayString)(e.name),11,Ee))),128))],64)):(0,l.createCommentVNode)('v-if',!0)],64)):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',be,[(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Ne,[(0,l.unref)(u)?(0,l.unref)(m)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Me,[(0,l.createElementVNode)('div',$e,[t[25]||(t[25]=(0,l.createElementVNode)('label',null,'åç§°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':t[6]||(t[6]=e=>(0,l.unref)(m).name=e)},null,512),[[l.vModelText,(0,l.unref)(m).name]])]),'habitat'in(0,l.unref)(m)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)('div',Oe,[t[26]||(t[26]=(0,l.createElementVNode)('label',null,'æ –æ¯åœ°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':t[7]||(t[7]=e=>(0,l.unref)(m).habitat=e)},null,512),[[l.vModelText,(0,l.unref)(m).habitat]])]),(0,l.createElementVNode)('div',Te,[t[27]||(t[27]=(0,l.createElementVNode)('label',null,'å¼±ç‚¹',-1)),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{'onUpdate:modelValue':t[8]||(t[8]=e=>(0,l.unref)(m).weaknesses=e)},null,512),[[l.vModelText,(0,l.unref)(m).weaknesses]])]),(0,l.createElementVNode)('div',_e,[t[28]||(t[28]=(0,l.createElementVNode)('label',null,'å‡»æ€æ•°é‡',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'number','onUpdate:modelValue':t[9]||(t[9]=e=>(0,l.unref)(m).killCount=e)},null,512),[[l.vModelText,(0,l.unref)(m).killCount,void 0,{number:!0}]])])],64)):(0,l.createCommentVNode)('v-if',!0),'location'in(0,l.unref)(m)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createElementVNode)('div',Fe,[t[29]||(t[29]=(0,l.createElementVNode)('label',null,'å‘ç”Ÿåœ°ç‚¹',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':t[10]||(t[10]=e=>(0,l.unref)(m).location=e)},null,512),[[l.vModelText,(0,l.unref)(m).location]])]),(0,l.createElementVNode)('div',qe,[t[30]||(t[30]=(0,l.createElementVNode)('label',null,'ç›¸å…³äººç‰©',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':t[11]||(t[11]=e=>(0,l.unref)(m).charactersInvolved=e)},null,512),[[l.vModelText,(0,l.unref)(m).charactersInvolved]])])],64)):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',ze,[t[31]||(t[31]=(0,l.createElementVNode)('label',null,'æè¿°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{'onUpdate:modelValue':t[12]||(t[12]=e=>(0,l.unref)(m).description=e)},null,512),[[l.vModelText,(0,l.unref)(m).description]])]),(0,l.createElementVNode)('div',We,[t[32]||(t[32]=(0,l.createElementVNode)('label',null,'å·²çŸ¥ä¿¡æ¯',-1)),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{'onUpdate:modelValue':t[13]||(t[13]=e=>(0,l.unref)(m).knownInfo=e)},null,512),[[l.vModelText,(0,l.unref)(m).knownInfo]])]),(0,l.createElementVNode)('div',Le,[(0,l.createElementVNode)('button',{onClick:t[14]||(t[14]=(...e)=>(0,l.unref)(y)&&(0,l.unref)(y)(...e))},'ä¿å­˜'),(0,l.createElementVNode)('button',{onClick:t[15]||(t[15]=(...e)=>(0,l.unref)(f)&&(0,l.unref)(f)(...e))},'å–æ¶ˆ')])])):(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',Ve,[(0,l.createElementVNode)('div',Be,[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n).name)+' | '+(0,l.toDisplayString)((0,l.unref)(n).id)+' ',1),(0,l.createElementVNode)('div',Ce,[(0,l.createElementVNode)('i',{class:'fa-solid fa-pencil',onClick:t[2]||(t[2]=(...e)=>(0,l.unref)(p)&&(0,l.unref)(p)(...e)),style:{cursor:'pointer','margin-right':'8px'},title:'ç¼–è¾‘æ¡ç›®'}),(0,l.createElementVNode)('i',{class:'fa-solid fa-trash-can',onClick:t[3]||(t[3]=e=>(0,l.unref)(d)((0,l.unref)(n).id)),style:{cursor:'pointer','margin-right':'8px'},title:'åˆ é™¤æ¡ç›®'}),'archivedEntries'!=(0,l.unref)(r)?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:0,class:'fa-solid fa-box-archive',onClick:t[4]||(t[4]=e=>(0,l.unref)(k)((0,l.unref)(n).id)),style:{cursor:'pointer'},title:'å½’æ¡£æ¡ç›®'})):(0,l.createCommentVNode)('v-if',!0),'archivedEntries'==(0,l.unref)(r)?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:1,class:'fa-solid fa-arrow-up-from-bracket',onClick:t[5]||(t[5]=e=>(0,l.unref)(g)((0,l.unref)(n).id)),style:{cursor:'pointer'},title:'å…¬å¼€æ¡ç›®'})):(0,l.createCommentVNode)('v-if',!0)])]),'habitat'in(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',De,[t[18]||(t[18]=(0,l.createElementVNode)('strong',null,'æ –æ¯åœ°:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).habitat),1)])):(0,l.createCommentVNode)('v-if',!0),'weaknesses'in(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',xe,[t[19]||(t[19]=(0,l.createElementVNode)('strong',null,'å¼±ç‚¹:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).weaknesses),1)])):(0,l.createCommentVNode)('v-if',!0),'killCount'in(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',we,[t[20]||(t[20]=(0,l.createElementVNode)('strong',null,'å‡»æ€æ•°é‡:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).killCount),1)])):(0,l.createCommentVNode)('v-if',!0),'location'in(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Se,[t[21]||(t[21]=(0,l.createElementVNode)('strong',null,'å‘ç”Ÿåœ°ç‚¹:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).location),1)])):(0,l.createCommentVNode)('v-if',!0),'charactersInvolved'in(0,l.unref)(n)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Pe,[t[22]||(t[22]=(0,l.createElementVNode)('strong',null,'ç›¸å…³äººç‰©:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).charactersInvolved),1)])):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',Ie,[t[23]||(t[23]=(0,l.createElementVNode)('strong',null,'æè¿°:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).description),1)]),(0,l.createElementVNode)('div',Ae,[t[24]||(t[24]=(0,l.createElementVNode)('strong',null,'å·²çŸ¥ä¿¡æ¯:',-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)((0,l.unref)(n).knownInfo),1)])]))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',je,'é€‰æ‹©ä¸€ä¸ªæ¡ç›®æŸ¥çœ‹è¯¦æƒ…'))])])]))}}),Ue=(0,ue.A)(Qe,[['__scopeId','data-v-16573329']]);function Re(e,t,a){const n=(0,l.ref)({}),o=(0,l.computed)(()=>{const t=e.value.progressData.partyAttrPoints||{};return r().mapValues(t,e=>e>0)}),c=(0,l.computed)(()=>{const a={F0:{...e.value.playerData}},n=Object.keys(e.value.followerNPCData||{});for(const e of n){const n=t.value?.followerNPCData?.[e];n&&(a[e]=n)}return a});(0,l.watchEffect)(()=>{r().some(o.value)?Object.values(c.value).forEach(e=>{const t=e.character.name;n.value[t]||(n.value[t]={tempAttributes:r().cloneDeep(e.attributes),initialAttributes:r().cloneDeep(e.attributes)})}):n.value={}});function s(e){const t=100*e,a=5e3/(1+Math.exp(-.1*(e-40)));return Math.floor(t+a)}function i(e){return'F0'===e?'playerData':`followerNPCData.${e}`}function d(e){const t=n.value[e.character.name];return t?r().sum(Object.values(t.tempAttributes))-r().sum(Object.values(t.initialAttributes)):0}const u=(0,l.ref)(null),m=(0,l.ref)(null);const p=(0,l.computed)(()=>m.value?r().pickBy(e.value.wardrobe.ownedOutfits,e=>e.wearer===m.value):{});return{party:c,partyUpgradeState:n,characterLabels:{name:'å§“å',level:'ç­‰çº§',gender:'æ€§åˆ«',race:'ç§æ—',height:'èº«é«˜',build:'ä½“å‹',appearance:'å¤–è²Œ',personality:'æ€§æ ¼'},metaLabels:{relationship:'å…³ç³»',favorability:'å¥½æ„Ÿåº¦',favorabilityTowardsNPCs:'å¯¹NPCå¥½æ„Ÿåº¦',description:'æ¦‚è¦',title:'ç§°å·'},attributeLabels:{shooting:'å°„å‡»',melee:'æ ¼æ–—',construction:'å»ºé€ ',mining:'é‡‡çŸ¿',cooking:'çƒ¹é¥ª',planting:'ç§æ¤',animals:'é©¯å…½',crafting:'æ‰‹å·¥',artistic:'è‰ºæœ¯',medical:'åŒ»ç–—',social:'ç¤¾äº¤',intellectual:'æ™ºè¯†'},statusLabels:{health:'HP',mood:'å¿ƒæƒ…',arousal:'æ€§æ¬²',experience:'ç»éªŒ'},equipmentLabels:{leftHand:'å·¦æ‰‹',rightHand:'å³æ‰‹',outfit:'å¥—è£…Id',outfitContent:'å¥—è£…å†…å®¹'},isAssigningAttributes:o,getSpentPoints:d,levelUp:async function(t,n){if(!function(e){return!(e.status.experience.current<e.status.experience.max&&(toastr.warning(`${e.character.name} çš„ç»éªŒå€¼ä¸è¶³, æ— æ³•å‡çº§`),1))}(t))return;const{charName:l,newLevel:o,newExp:r,newMaxExp:c,levelsToGain:d,newAttrPointsForChar:u,newMaxHp:m}=function(t,a){const n=t.status.experience.current,l=t.status.experience.max,o=t.character.level+1;return{charName:t.character.name,newLevel:o,newExp:n-l,newMaxExp:s(o),levelsToGain:1,newAttrPointsForChar:(e.value.progressData.partyAttrPoints?.[a]||0)+1,newMaxHp:(t.status.health.max||10)+10}}(t,n),p=function(e,t,a,n,l,o,r){return[{event:'updateByPath',detail:{path:`${e}.character.level`,value:a}},{event:'updateByPath',detail:{path:`${e}.status.health.max`,value:r}},{event:'updateByPath',detail:{path:`${e}.status.health.current`,value:r}},{event:'updateByPath',detail:{path:`${e}.status.experience.current`,value:n}},{event:'updateByPath',detail:{path:`${e}.status.experience.max`,value:l}},{event:'updateByPath',detail:{path:`progressData.partyAttrPoints.${t}`,value:o}}]}(i(n),n,o,r,c,u,m);await a(p,()=>{toastr.success(`${l} å‡äº† ${d} çº§! ç­‰çº§ ${o}, è·å¾— ${d} å±æ€§ç‚¹.`)})},commitAttributes:async function(t,l){const o=t.character.name,c=n.value[o];if(!c)return;const s=d(t);if(s<0)return void toastr.error('å±æ€§ç‚¹å‡å°‘å¼‚å¸¸');if(0===s)return void toastr.info('å±æ€§æ²¡æœ‰å˜åŒ–');const u=e.value.progressData.partyAttrPoints?.[l]||0;if(s>u)return void toastr.error('å±æ€§ç‚¹ä¸è¶³');const m=u-s,p=function(e,t,a,n,l){const o=[];for(const t in a)a[t]!==n[t]&&o.push({event:'updateByPath',detail:{path:`${e}.attributes.${t}`,value:a[t]}});return o.length>0&&o.push({event:'updateByPath',detail:{path:`progressData.partyAttrPoints.${t}`,value:l}}),o}(i(l),l,c.tempAttributes,c.initialAttributes,m);0!==p.length&&await a(p,()=>{n.value[o].initialAttributes=r().cloneDeep(n.value[o].tempAttributes),toastr.success(`${o} å±æ€§å·²æ›´æ–°!`)})},incrementAttribute:function(t,a,l){const o=t.character.name,r=n.value[o];if(r){(e.value.progressData.partyAttrPoints?.[a]||0)>d(t)&&r.tempAttributes[l]++}},decrementAttribute:function(e,t,a){const l=e.character.name,o=n.value[l];o&&o.tempAttributes[a]>o.initialAttributes[a]&&o.tempAttributes[a]--},selectChar:function(e,t){m.value===t?(u.value=null,m.value=null):(u.value=e,m.value=t)},selectedChar:u,selectedCharKey:m,characterOutfits:p,updateOutfit:async function(t){if(!m.value)return;let n='';if(t&&e.value.wardrobe.ownedOutfits[t]){const a=e.value.wardrobe.ownedOutfits[t],l=e.value.playerDynamicData.inventory,o=[];for(const e in a.slots){const t=a.slots[e];if(!t)continue;const n=Array.isArray(t)?t:[t];for(const e of n)l[e]&&o.push(l[e].name)}n=o.join(',')}const l=i(m.value),o=[{event:'updateByPath',detail:{path:`archivedData.outfitIds.${m.value}`,value:t}},{event:'updateByPath',detail:{path:`${l}.equipment.outfitContent`,value:n}}];await a(o,()=>{toastr.success('å¥—è£…å·²æ›´æ–°!')})},getNPCNameByKey:t=>{const a=e.value.worldInfo.nearbyNPC,n=e.value.followerNPCData,l=e.value.archivedData.worldNPC;return a[t]?a[t].character.name:n[t]?n[t].character.name:l[t]?l[t].character.name:'æœªçŸ¥NPC'},getFavorabilityTowardsNPCs:e=>{if(!e)return'';return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(', ')},getHealthDescription:(e,t)=>e/t>=.75?'å¥åº·':e/t>=.5?'è‰¯å¥½':e/t>=.25?'å—ä¼¤':'æ€¥éœ€æ²»ç–—',getHealthColor:(e,t)=>e/t>=.75?'#4caf50':e/t>=.5?'#8bc34a':e/t>=.25?'#ffeb3b':'#f44336'}}const He={class:'party-container'},Ke={class:'master-detail-body'},Je={class:'character-card-pane'},Ge=['onClick'],Xe={class:'char-header'},Ye={class:'char-name'},Ze={class:'right-btns'},et={key:0},tt=['onClick'],at=['onClick','disabled'],nt={class:'column'},lt={class:'status'},ot={class:'bar'},rt={class:'attributes'},ct={key:0,class:'attr-value-controls'},st=['onClick','disabled'],it={class:'attr-value'},dt=['onClick','disabled'],ut={key:1,class:'attr-value'},mt={class:'detail-panel'},pt={key:0,class:'scene-detail-item'},ft={class:'column'},vt={class:'section-title'},yt={key:0},kt={key:1},gt={class:'column-content'},ht=['value'],Et=['value'],bt={key:0},Nt={key:1},Vt={key:1,class:'data-empty'},Bt=(0,l.defineComponent)({__name:'partyTab',setup(e){const{mvu:t,rawMvuData:a,handleMvuUpdate:n,initialize:o}=v(),{party:r,partyUpgradeState:c,characterLabels:s,metaLabels:i,attributeLabels:d,statusLabels:u,equipmentLabels:m,levelUp:p,commitAttributes:f,incrementAttribute:y,decrementAttribute:k,isAssigningAttributes:g,getSpentPoints:h,selectChar:E,selectedChar:b,selectedCharKey:N,characterOutfits:V,updateOutfit:B,getNPCNameByKey:C,getFavorabilityTowardsNPCs:D,getHealthDescription:x,getHealthColor:w}=Re(t,a,n);return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',He,[(0,l.createElementVNode)('div',Ke,[(0,l.createElementVNode)('div',Je,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(r),(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['character-card',{selected:(0,l.unref)(N)===n}]),key:n,onClick:t=>(0,l.unref)(E)(e,n)},[(0,l.createElementVNode)('div',Xe,[(0,l.createElementVNode)('span',Ye,(0,l.toDisplayString)(e.character.name)+' (Lv. '+(0,l.toDisplayString)(e.character.level)+')',1),(0,l.createElementVNode)('div',Ze,[(0,l.unref)(g)[n]?((0,l.openBlock)(),(0,l.createElementBlock)('div',et,[(0,l.createElementVNode)('span',null,'å±æ€§ç‚¹: '+(0,l.toDisplayString)(((0,l.unref)(t).progressData.partyAttrPoints[n]||0)-(0,l.unref)(h)(e)),1),(0,l.createElementVNode)('button',{onClick:t=>(0,l.unref)(f)(e,n)},'ä¿å­˜',8,tt)])):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('button',{onClick:t=>(0,l.unref)(p)(e,n),disabled:!e.status.experience||e.status.experience.current<e.status.experience.max},' å‡çº§ ',8,at)])]),(0,l.createElementVNode)('div',nt,[(0,l.createCommentVNode)(' çŠ¶æ€ '),(0,l.createElementVNode)('div',lt,[(0,l.createCommentVNode)(' <div class="stat grid-col-1">{{ charKey }} | {{ char.character.gender }} {{ char.character.race }}</div> '),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.status,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'stat',key:t},[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(u)[t])+' ',1),(0,l.createElementVNode)('div',ot,[(0,l.createElementVNode)('div',{class:'fill',style:(0,l.normalizeStyle)({width:`${Math.min(100,e.current/e.max*100)}%`})},null,4)]),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(e.current)+' / '+(0,l.toDisplayString)(e.max)+' ',1),a[1]||(a[1]=(0,l.createElementVNode)('div',null,null,-1)),'health'==t?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:0,class:'grid-col-1',style:(0,l.normalizeStyle)({color:(0,l.unref)(w)(e.current,e.max)})},' å½“å‰çŠ¶æ€: '+(0,l.toDisplayString)((0,l.unref)(x)(e.current,e.max)),5)):(0,l.createCommentVNode)('v-if',!0)]))),128))]),(0,l.createCommentVNode)(' å±æ€§ '),(0,l.createElementVNode)('div',rt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.attributes,(a,o)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'attr',key:o},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(d)[o]||o),1),(0,l.unref)(g)[n]?((0,l.openBlock)(),(0,l.createElementBlock)('div',ct,[(0,l.createElementVNode)('button',{class:'small',onClick:t=>(0,l.unref)(k)(e,n,o),disabled:(0,l.unref)(c)[e.character.name]?.tempAttributes[o]<=(0,l.unref)(c)[e.character.name]?.initialAttributes[o]},' - ',8,st),(0,l.createElementVNode)('span',it,(0,l.toDisplayString)((0,l.unref)(c)[e.character.name]?.tempAttributes[o]),1),(0,l.createElementVNode)('button',{class:'small',onClick:t=>(0,l.unref)(y)(e,n,o),disabled:((0,l.unref)(t).progressData.partyAttrPoints[n]||0)<=(0,l.unref)(h)(e)},' + ',8,dt)])):((0,l.openBlock)(),(0,l.createElementBlock)('span',ut,(0,l.toDisplayString)(a),1))]))),128))])])],10,Ge))),128))]),(0,l.createElementVNode)('div',mt,[(0,l.unref)(b)&&(0,l.unref)(N)?((0,l.openBlock)(),(0,l.createElementBlock)('div',pt,[(0,l.createElementVNode)('div',ft,[(0,l.createElementVNode)('div',vt,'åŸºç¡€ä¿¡æ¯ | '+(0,l.toDisplayString)((0,l.unref)(N)),1),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(b).character,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'column-content',key:t},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(s)[t]||t),1),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(e),1)]))),128)),a[4]||(a[4]=(0,l.createElementVNode)('div',{class:'section-title'},'å…ƒä¿¡æ¯',-1)),'meta'in(0,l.unref)(b)?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)((0,l.unref)(b).meta,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'column-content',key:t},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(i)[t]||t),1),'favorabilityTowardsNPCs'===t?((0,l.openBlock)(),(0,l.createElementBlock)('span',yt,(0,l.toDisplayString)((0,l.unref)(D)(e)),1)):((0,l.openBlock)(),(0,l.createElementBlock)('span',kt,(0,l.toDisplayString)(e),1))]))),128)):(0,l.createCommentVNode)('v-if',!0),a[5]||(a[5]=(0,l.createElementVNode)('div',{class:'section-title'},'ç©¿æˆ´ä¿¡æ¯',-1)),(0,l.createElementVNode)('div',gt,[a[3]||(a[3]=(0,l.createElementVNode)('span',null,'å¥—è£…ID',-1)),(0,l.createElementVNode)('select',{value:(0,l.unref)(t).archivedData.outfitIds[(0,l.unref)(N)],onChange:a[0]||(a[0]=e=>(0,l.unref)(B)(e.target.value))},[a[2]||(a[2]=(0,l.createElementVNode)('option',{value:''},'æ— ',-1)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(V),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('option',{key:t,value:t},(0,l.toDisplayString)(e.name),9,Et))),128))],40,ht)]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(b).equipment,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'column-content',key:t},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(m)[t]||t),1),e?((0,l.openBlock)(),(0,l.createElementBlock)('span',bt,(0,l.toDisplayString)(e),1)):((0,l.openBlock)(),(0,l.createElementBlock)('span',Nt,' -- '))]))),128))])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Vt,'é€‰æ‹©ä¸€ä¸ªè§’è‰²æŸ¥çœ‹è¯¦æƒ…'))])])]))}}),Ct=(0,ue.A)(Bt,[['__scopeId','data-v-11013fca']]);const Dt={class:'quest-container'},xt={class:'master-tabs'},wt={key:0,class:'data-empty'},St={key:1,class:'quest-item-container'},Pt={class:'quest-phase'},It={class:'quest-title'},At=['onClick'],Mt=['onClick'],$t={class:'quest-description'},Ot={key:0,class:'data-empty'},Tt={key:1,class:'quest-item-container'},_t={class:'quest-title'},Ft=['onClick'],qt=['onClick'],zt={class:'quest-description'},Wt={key:0,class:'data-empty'},Lt={key:1,class:'quest-item-container'},jt={class:'quest-title'},Qt=['onClick'],Ut={class:'quest-description'},Rt={key:0,class:'data-empty'},Ht={key:1,class:'quest-item-container'},Kt={class:'quest-title'},Jt=['onClick'],Gt={class:'quest-description'},Xt=(0,l.defineComponent)({__name:'questsTab',setup(e){const{mvu:t,handleMvuUpdate:a}=v(),{currentQuests:n,nextQuests:o,pendingQuests:r,completedQuests:c,activeQuestTab:s,activeQuest:i,completeQuest:d,deleteQuest:u}=function(e,t){return{currentQuests:(0,l.computed)(()=>e.value.progressData.currentQuest),nextQuests:(0,l.computed)(()=>e.value.progressData.nextQuest),pendingQuests:(0,l.computed)(()=>e.value.progressData.pendingQuest),completedQuests:(0,l.computed)(()=>e.value.progressData.completedQuest),activeQuestTab:(0,l.ref)('currentQuests'),activeQuest:a=>{const n=e.value.progressData.nextQuest[a];if(n){const e=_.cloneDeep(n);toastr.success(`æˆåŠŸæ¿€æ´» ${n.name} `),t([{event:'insertByPath',detail:{path:`progressData.currentQuest.${a}`,value:e}},{event:'deleteByPath',detail:{path:`progressData.nextQuest.${a}`}}])}},completeQuest:a=>{const n=e.value.progressData.currentQuest[a];if(n){const e=_.cloneDeep(n);toastr.success(`æˆåŠŸå®Œæˆ ${n.name} `),t([{event:'insertByPath',detail:{path:`progressData.completedQuest.${a}`,value:e}},{event:'deleteByPath',detail:{path:`progressData.currentQuest.${a}`}}])}},deleteQuest:(a,n)=>{const l=e.value.progressData[n]?.[a];l&&(toastr.success(`æˆåŠŸåˆ é™¤ ${l.name}`),t([{event:'deleteByPath',detail:{path:`progressData.${n}.${a}`}}]))}}}(t,a);return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Dt,[(0,l.createElementVNode)('div',xt,[(0,l.createElementVNode)('button',{onClick:a[0]||(a[0]=e=>s.value='currentQuests'),class:(0,l.normalizeClass)({active:'currentQuests'===(0,l.unref)(s)})},' è¿›è¡Œä¸­ä»»åŠ¡ ',2),(0,l.createElementVNode)('button',{onClick:a[1]||(a[1]=e=>s.value='nextQuests'),class:(0,l.normalizeClass)({active:'nextQuests'===(0,l.unref)(s)})},' å¯æ¥å–ä»»åŠ¡ ',2),(0,l.createElementVNode)('button',{onClick:a[2]||(a[2]=e=>s.value='pendingQuests'),class:(0,l.normalizeClass)({active:'pendingQuests'===(0,l.unref)(s)})},' æŒ‚èµ·ä»»åŠ¡ ',2),(0,l.createElementVNode)('button',{onClick:a[3]||(a[3]=e=>s.value='completedQuests'),class:(0,l.normalizeClass)({active:'completedQuests'===(0,l.unref)(s)})},' å·²å®Œæˆä»»åŠ¡ ',2)]),'currentQuests'===(0,l.unref)(s)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[0===Object.keys((0,l.unref)(n)).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',wt,'è‡ªç”±æ¢ç´¢ä¸­')):((0,l.openBlock)(),(0,l.createElementBlock)('div',St,[(0,l.createElementVNode)('div',Pt,'å½“å‰è¿›åº¦: '+(0,l.toDisplayString)((0,l.unref)(t).progressData.questPhase),1),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(n),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['quest-item',{'side-quest':!e.isMain,'main-quest':e.isMain}]),key:t},[(0,l.createElementVNode)('div',It,[(0,l.createTextVNode)((0,l.toDisplayString)(e.isMain?'ä¸»çº¿':'æ”¯çº¿')+' - '+(0,l.toDisplayString)(e.name)+' ',1),(0,l.createElementVNode)('div',null,[(0,l.createElementVNode)('button',{onClick:e=>(0,l.unref)(d)(t),style:{'margin-right':'6px'}},'å®Œæˆ',8,At),(0,l.createElementVNode)('button',{onClick:e=>(0,l.unref)(u)(t,'currentQuest')},'åˆ é™¤',8,Mt)])]),(0,l.createElementVNode)('div',$t,(0,l.toDisplayString)(e.description),1)],2))),128))]))],64)):(0,l.createCommentVNode)('v-if',!0),'nextQuests'===(0,l.unref)(s)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[0===Object.keys((0,l.unref)(o)).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',Ot,'è‡ªç”±æ¢ç´¢ä¸­')):((0,l.openBlock)(),(0,l.createElementBlock)('div',Tt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(o),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['quest-item',{'side-quest':!e.isMain,'main-quest':e.isMain}]),key:t},[(0,l.createElementVNode)('div',_t,[(0,l.createTextVNode)((0,l.toDisplayString)(e.isMain?'ä¸»çº¿':'æ”¯çº¿')+' - '+(0,l.toDisplayString)(e.name)+' ',1),(0,l.createElementVNode)('div',null,[(0,l.createElementVNode)('button',{onClick:e=>(0,l.unref)(i)(t),style:{'margin-right':'6px'}},'æ¿€æ´»',8,Ft),(0,l.createElementVNode)('button',{onClick:e=>(0,l.unref)(u)(t,'nextQuest')},'åˆ é™¤',8,qt)])]),(0,l.createElementVNode)('div',zt,(0,l.toDisplayString)(e.description),1)],2))),128))]))],64)):(0,l.createCommentVNode)('v-if',!0),'pendingQuests'===(0,l.unref)(s)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:2},[0===Object.keys((0,l.unref)(r)).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',Wt,'è‡ªç”±æ¢ç´¢ä¸­')):((0,l.openBlock)(),(0,l.createElementBlock)('div',Lt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(r),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['quest-item',{'side-quest':!e.isMain,'main-quest':e.isMain}]),key:t},[(0,l.createElementVNode)('div',jt,[(0,l.createTextVNode)((0,l.toDisplayString)(e.isMain?'ä¸»çº¿':'æ”¯çº¿')+' - '+(0,l.toDisplayString)(e.name)+' ',1),(0,l.createElementVNode)('button',{onClick:e=>(0,l.unref)(u)(t,'pendingQuest')},'åˆ é™¤',8,Qt)]),(0,l.createElementVNode)('div',Ut,(0,l.toDisplayString)(e.description),1)],2))),128))]))],64)):(0,l.createCommentVNode)('v-if',!0),'completedQuests'===(0,l.unref)(s)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:3},[0===Object.keys((0,l.unref)(c)).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',Rt,'è‡ªç”±æ¢ç´¢ä¸­')):((0,l.openBlock)(),(0,l.createElementBlock)('div',Ht,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(c),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['quest-item',{'side-quest':!e.isMain,'main-quest':e.isMain}]),key:t},[(0,l.createElementVNode)('div',Kt,[(0,l.createTextVNode)((0,l.toDisplayString)(e.isMain?'ä¸»çº¿':'æ”¯çº¿')+' - '+(0,l.toDisplayString)(e.name)+' ',1),(0,l.createElementVNode)('button',{onClick:e=>(0,l.unref)(u)(t,'completedQuest')},'åˆ é™¤',8,Jt)]),(0,l.createElementVNode)('div',Gt,(0,l.toDisplayString)(e.description),1)],2))),128))]))],64)):(0,l.createCommentVNode)('v-if',!0)]))}}),Yt=(0,ue.A)(Xt,[['__scopeId','data-v-5c545612']]),Zt=y.z.enum(['basic','light','medium','heavy']),ea=y.z.enum(['common','good','excellent','masterwork','legendary']),ta=y.z.enum(['head','bodyInner','bodyArmor','hands','legsInner','legsArmor','feet','cloak','neck','ring','belt']),aa=y.z.enum(['cloth','weapon','item']),na=(y.z.object({name:y.z.string().default(''),description:y.z.string().default(''),quality:ea.default('common'),type:aa.default('item'),tier:Zt.default('basic'),slot:ta.optional()}).extend({id:y.z.string()}),{TierSystem:{basic:{name:'åŸºç¡€',description:'æ—¥å¸¸ç©¿ç€,èˆ’é€‚ä½†é˜²æŠ¤åŠ›å¼±',defenseCoeff:.5,comfortCoeff:1.2,warmthCoeff:1,socialCoeff:.8,weightCoeff:.6},light:{name:'è½»å‹',description:'å¹³è¡¡é˜²æŠ¤ä¸èˆ’é€‚,é€‚åˆå†’é™©è€…',defenseCoeff:1,comfortCoeff:1,warmthCoeff:.9,socialCoeff:1,weightCoeff:1},medium:{name:'ä¸­å‹',description:'è¾ƒå¼ºé˜²æŠ¤,ç‰ºç‰²éƒ¨åˆ†èˆ’é€‚åº¦',defenseCoeff:1.5,comfortCoeff:.6,warmthCoeff:.7,socialCoeff:1.2,weightCoeff:1.8},heavy:{name:'é‡å‹',description:'æœ€å¼ºé˜²æŠ¤,ç¬¨é‡ä¸”ä¸èˆ’é€‚',defenseCoeff:2,comfortCoeff:.3,warmthCoeff:.5,socialCoeff:1.5,weightCoeff:2.5}},QualitySystem:{common:{name:'ä¸€èˆ¬',allAttributesCoeff:1,color:'#9d9d9d'},good:{name:'è‰¯å¥½',allAttributesCoeff:1.2,color:'#1eff00'},excellent:{name:'æä½³',allAttributesCoeff:1.5,color:'#0070dd'},masterwork:{name:'å¤§å¸ˆ',allAttributesCoeff:2,color:'#a335ee'},legendary:{name:'ä¼ å¥‡',allAttributesCoeff:3,color:'#ff8000'}},ClothingSlots:{head:{name:'å¤´éƒ¨',baseDefense:5,baseComfort:7,baseWarmth:4,baseSocial:5,baseWeight:1},bodyInner:{name:'å†…è¡¬',baseDefense:2,baseComfort:9,baseWarmth:5,baseSocial:4,baseWeight:.5},bodyArmor:{name:'èº«ä½“æŠ¤ç”²',baseDefense:12,baseComfort:5,baseWarmth:4,baseSocial:7,baseWeight:6},hands:{name:'æ‰‹éƒ¨',baseDefense:3,baseComfort:7,baseWarmth:5,baseSocial:4,baseWeight:.5},legsInner:{name:'è…¿éƒ¨å†…è¡¬',baseDefense:2,baseComfort:9,baseWarmth:4,baseSocial:4,baseWeight:.4},legsArmor:{name:'è…¿éƒ¨æŠ¤ç”²',baseDefense:10,baseComfort:5,baseWarmth:4,baseSocial:6,baseWeight:5},feet:{name:'è¶³éƒ¨',baseDefense:4,baseComfort:8,baseWarmth:6,baseSocial:5,baseWeight:1},cloak:{name:'æŠ«é£',baseDefense:1,baseComfort:8,baseWarmth:10,baseSocial:7,baseWeight:1.5},neck:{name:'é¢ˆéƒ¨',baseDefense:1,baseComfort:10,baseWarmth:3,baseSocial:6,baseWeight:.1},ring:{name:'æˆ’æŒ‡',baseDefense:0,baseComfort:10,baseWarmth:0,baseSocial:8,baseWeight:.02},belt:{name:'è…°å¸¦',baseDefense:1,baseComfort:8,baseWarmth:0,baseSocial:5,baseWeight:.3}}});Object.fromEntries(Object.entries(na.QualitySystem).map(([e,t])=>[e,t.name])),Object.fromEntries(Object.entries(na.TierSystem).map(([e,t])=>[e,t.name])),Object.fromEntries(Object.entries(na.ClothingSlots).map(([e,t])=>[e,t.name]));function la(e){const{tier:t,quality:a,slot:n}=e,l='light',o='common',r=na.TierSystem[t]||na.TierSystem[l],c=na.QualitySystem[a]||na.QualitySystem[o],s=na.ClothingSlots[n];if(!s)return{valid:!1,error:`æ— æ•ˆçš„è£…å¤‡éƒ¨ä½: ${n}`,defense:0,comfort:0,warmth:0,social:0,weight:0};const i={tier:!na.TierSystem[t],quality:!na.QualitySystem[a]},d=c.allAttributesCoeff,u=Math.round(s.baseDefense*r.defenseCoeff*d*10)/10,m=Math.round(s.baseComfort*r.comfortCoeff*d*10)/10,p=Math.round(s.baseWarmth*r.warmthCoeff*d*10)/10,f=Math.round(s.baseSocial*r.socialCoeff*d*10)/10,v=Math.round(s.baseWeight*r.weightCoeff*d*100)/100;return{valid:!0,usedDefaults:i,input:{tier:t||l,quality:a||o,slot:n},displayName:`${c.name}${r.name}${s.name}`,slotName:s.name,tierName:r.name,qualityName:c.name,qualityColor:c.color,attributes:{defense:u,comfort:m,warmth:p,social:f,weight:v},defense:u,comfort:m,warmth:p,social:f,weight:v}}function oa(e,t){const a=(0,l.ref)(''),n=(0,l.computed)(()=>(t=>{if(!t)return null;const a={},n=e.value.playerDynamicData.inventory;for(const e in t.slots){const l=e;if('extra'===l){const e=t.slots[l]||[];a[l]=e.map(e=>n[e]?{...n[e],id:e}:null).filter(Boolean)}else{const e=t.slots[l];e&&n[e]?a[l]={...n[e],id:e}:a[l]=null}}return{...t,slots:a}})(e.value.wardrobe.ownedOutfits[a.value])),o=(0,l.ref)({defense:0,comfort:0,warmth:0,social:0,weight:0});(0,l.watch)(n,e=>{const t={defense:0,comfort:0,warmth:0,social:0,weight:0};if(e)for(const a in e.slots){const n=e.slots[a];if(n&&!Array.isArray(n))try{const e=la({tier:n.tier,quality:n.quality,slot:n.slot});t.defense+=e.defense||0,t.comfort+=e.comfort||0,t.warmth+=e.warmth||0,t.social+=e.social||0,t.weight+=e.weight||0}catch(e){console.error(`è®¡ç®—${a}æœè£…å±æ€§å‡ºé”™:`,n,e)}}o.value=t},{immediate:!0});return{slotNames:{head:'å¤´éƒ¨',bodyInner:'å†…è¡¬',bodyArmor:'èº«ä½“',hands:'æ‰‹éƒ¨',legsInner:'å†…è£¤',legsArmor:'è…¿éƒ¨',feet:'è„šéƒ¨',cloak:'æŠ«é£',neck:'é¢ˆéƒ¨',ring:'æˆ’æŒ‡',belt:'è…°å¸¦',extra:'é¢å¤–'},selectedOutfitId:a,selectedOutfit:n,editOutfit:e=>{t('open-update',e)},openUpdateOutfit:()=>{t('open-update')},clothingAttributes:o}}const ra={class:'wardrobe-container'},ca={class:'outfit-list'},sa={class:'outfit-header'},ia=['onClick'],da={class:'outfit-details'},ua={class:'outfit-header'},ma={class:'section-title'},pa={class:'equipment-slots'},fa={key:0,class:'slot-item'},va={class:'slot-name'},ya={key:0,class:'item-name'},ka={class:'item-details'},ga={key:1,class:'item-name-empty'},ha={class:'slot-name'},Ea={class:'item-name'},ba={class:'item-details'},Na={class:'clothing-attributes'},Va={class:'attr'},Ba={class:'attr'},Ca={class:'attr'},Da={class:'attr'},xa={class:'attr'},wa={key:1,class:'data-empty'},Sa=(0,l.defineComponent)({__name:'wardTab',emits:['open-update'],setup(e,{emit:t}){const a=t,{mvu:n,rawMvuData:o,handleMvuUpdate:r,initialize:c}=v(),{slotNames:s,selectedOutfitId:i,selectedOutfit:d,editOutfit:u,openUpdateOutfit:m,clothingAttributes:p}=oa(n,a);return(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',ra,[(0,l.createElementVNode)('div',ca,[(0,l.createElementVNode)('div',sa,[t[2]||(t[2]=(0,l.createElementVNode)('div',{class:'section-title'},'å¯ç”¨å¥—è£…',-1)),(0,l.createElementVNode)('button',{onClick:t[0]||(t[0]=(...e)=>(0,l.unref)(m)&&(0,l.unref)(m)(...e))},'æ–°å¢')]),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(n).wardrobe.ownedOutfits,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:(0,l.normalizeClass)(['outfit-item',{selected:t===(0,l.unref)(i)}]),onClick:e=>i.value=t},(0,l.toDisplayString)(e.name),11,ia))),128))]),(0,l.createElementVNode)('div',da,[(0,l.unref)(d)?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)('div',ua,[(0,l.createElementVNode)('div',ma,(0,l.toDisplayString)((0,l.unref)(d).name),1),(0,l.createElementVNode)('button',{onClick:t[1]||(t[1]=e=>(0,l.unref)(u)((0,l.unref)(i)))},'ç¼–è¾‘')]),(0,l.createElementVNode)('div',pa,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(s),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:t},['extra'!==t?((0,l.openBlock)(),(0,l.createElementBlock)('div',fa,[(0,l.createElementVNode)('span',va,(0,l.toDisplayString)(e),1),(0,l.unref)(d).slots[t]?((0,l.openBlock)(),(0,l.createElementBlock)('span',ya,[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(d).slots[t].name)+' ',1),(0,l.createElementVNode)('span',ka,'('+(0,l.toDisplayString)((0,l.unref)(d).slots[t].quality)+')',1)])):((0,l.openBlock)(),(0,l.createElementBlock)('span',ga,'--'))])):(0,l.createCommentVNode)('v-if',!0)],64))),128)),(0,l.unref)(d).slots.extra&&(0,l.unref)(d).slots.extra.length>0?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)((0,l.unref)(d).slots.extra,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:`extra-${t}`,class:'slot-item'},[(0,l.createElementVNode)('span',ha,(0,l.toDisplayString)((0,l.unref)(s).extra||'é¢å¤–'),1),(0,l.createElementVNode)('span',Ea,[(0,l.createTextVNode)((0,l.toDisplayString)(e.name)+' ',1),(0,l.createElementVNode)('span',ba,'('+(0,l.toDisplayString)(e.quality)+')',1)])]))),128)):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',Na,[t[8]||(t[8]=(0,l.createElementVNode)('div',{class:'section-title'},'å½“å‰æ€»å±æ€§',-1)),(0,l.createElementVNode)('div',Va,[t[3]||(t[3]=(0,l.createElementVNode)('span',null,'é˜²å¾¡',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(p).defense.toFixed(1)),1)]),(0,l.createElementVNode)('div',Ba,[t[4]||(t[4]=(0,l.createElementVNode)('span',null,'èˆ’é€‚',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(p).comfort.toFixed(1)),1)]),(0,l.createElementVNode)('div',Ca,[t[5]||(t[5]=(0,l.createElementVNode)('span',null,'ä¿æš–',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(p).warmth.toFixed(1)),1)]),(0,l.createElementVNode)('div',Da,[t[6]||(t[6]=(0,l.createElementVNode)('span',null,'ç¤¾äº¤',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(p).social.toFixed(1)),1)]),(0,l.createElementVNode)('div',xa,[t[7]||(t[7]=(0,l.createElementVNode)('span',null,'é‡é‡',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(p).weight.toFixed(1)),1)])])],64)):((0,l.openBlock)(),(0,l.createElementBlock)('div',wa,'è¯·é€‰æ‹©ä¸€å¥—æœè£…æŸ¥çœ‹è¯¦æƒ…'))])]))}}),Pa=(0,ue.A)(Sa,[['__scopeId','data-v-4cc30906']]);const Ia={class:'world-container'},Aa={class:'section-title'},Ma={class:'master-detail-body reverse'},$a={class:'scene-detail-item',style:{border:'1px solid var(--border_color)'}},Oa=['onClick'],Ta=['onClick'],_a={class:'detail-panel'},Fa={key:0,class:'scene-detail-item'},qa={class:'column'},za={class:'section-title grid-col-span-full'},Wa={key:0},La={key:0},ja={key:1},Qa={class:'attributes'},Ua={class:'attr-value'},Ra={key:1,class:'data-empty'},Ha={class:'faction-header'},Ka={class:'faction-name'},Ja=['onClick'],Ga={class:'faction-content'},Xa={class:'faction-header'},Ya={class:'faction-name'},Za=['onClick'],en={class:'faction-content'},tn=(0,l.defineComponent)({__name:'worldTab',emits:['open-map'],setup(e,{emit:t}){const a=t,{mvu:n,rawMvuData:o,handleMvuUpdate:r}=v(),{archivedFlag:c,selectedNpc:s,selectNpc:i,openWorldMap:d,getPrestigeDescription:u,getPrestigeColor:m,archiveNPC:p,openNPC:f,archiveFaction:y,openFaction:k,getNPCNameByKey:g,getFavorabilityTowardsNPCs:h}=function(e,t,a){const n=(0,l.ref)(null),o=(0,l.ref)(!1);function r(e,t,a=!1){o.value=a,n.value?.id===t?n.value=null:n.value=e?{...e,id:t}:null}const c=(e,t)=>{if(!e)return`${t}1`;const a=Object.keys(e).map(e=>{const a=e.match(new RegExp(`^${t}(\\d+)$`));return a?parseInt(a[1],10):0}).filter(e=>!isNaN(e)),n=a.length>0?Math.max(...a):0;return`${t}${n+1}`};return{archivedFlag:o,selectedNpc:n,selectNpc:r,openWorldMap:()=>{a('open-map')},getPrestigeDescription:e=>e<=-75?'æ­»æ•Œ':e<=-25?'æ•Œå¯¹':e<25?'ä¸­ç«‹':e<75?'å‹å–„':'ç›Ÿå‹',getPrestigeColor:e=>e<=-75?'#c00':e<=-25?'#f44336':e<25?'#9e9e9e':e<75?'#4caf50':'#8bc34a',archiveNPC:a=>{const l=e.value.worldInfo.nearbyNPC[a];n.value&&l&&n.value.character.name===l.character.name&&r(null,'');const o=c(e.value.archivedData.worldNPC,'AC');t([{event:'deleteByPath',detail:{path:`worldInfo.nearbyNPC.${a}`}}]),t([{event:'insertByPath',detail:{path:`archivedData.worldNPC.${o}`,value:l}}])},openNPC:a=>{const l=e.value.archivedData.worldNPC[a];n.value&&l&&n.value.character.name===l.character.name&&r(null,'');const o=c(e.value.worldInfo.nearbyNPC,'C');t([{event:'deleteByPath',detail:{path:`archivedData.worldNPC.${a}`}}]),t([{event:'insertByPath',detail:{path:`worldInfo.nearbyNPC.${o}`,value:l}}])},archiveFaction:a=>{const n=e.value.worldInfo.factionPrestige[a];t([{event:'deleteByPath',detail:{path:`worldInfo.factionPrestige.${a}`}}]),t([{event:'insertByPath',detail:{path:`archivedData.factionPrestige.${a}`,value:n}}])},openFaction:a=>{const n=e.value.archivedData.factionPrestige[a];t([{event:'deleteByPath',detail:{path:`archivedData.factionPrestige.${a}`}}]),t([{event:'insertByPath',detail:{path:`worldInfo.factionPrestige.${a}`,value:n}}])},getNPCNameByKey:t=>{const a=e.value.worldInfo.nearbyNPC,n=e.value.followerNPCData,l=e.value.archivedData.worldNPC;return a[t]?a[t].character.name:n[t]?n[t].character.name:l[t]?l[t].character.name:'æœªçŸ¥NPC'},getFavorabilityTowardsNPCs:e=>e?Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(', '):''}}(n,r,a),{characterLabels:E,metaLabels:b,attributeLabels:N}=Re(n,o,r);return(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Ia,[(0,l.createElementVNode)('div',Aa,[t[4]||(t[4]=(0,l.createTextVNode)(' ä¸–ç•ŒNPC ',-1)),(0,l.createElementVNode)('button',{onClick:t[0]||(t[0]=(...e)=>(0,l.unref)(d)&&(0,l.unref)(d)(...e))},[...t[3]||(t[3]=[(0,l.createTextVNode)('ä¸–ç•Œåœ°å›¾ ',-1),(0,l.createElementVNode)('i',{class:'fa-solid fa-map-location-dot'},null,-1)])])]),(0,l.createElementVNode)('div',Ma,[(0,l.createElementVNode)('div',$a,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(n).worldInfo.nearbyNPC,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,onClick:a=>(0,l.unref)(i)(e,t,!1),class:(0,l.normalizeClass)([{selected:(0,l.unref)(s)?.id===t},'npc-name'])},(0,l.toDisplayString)(e.character?.name),11,Oa))),128)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(n).archivedData.worldNPC,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,onClick:a=>(0,l.unref)(i)(e,t,!0),class:(0,l.normalizeClass)([{selected:(0,l.unref)(s)?.id===t},'npc-name archived'])},(0,l.toDisplayString)(e.character?.name),11,Ta))),128))]),(0,l.createElementVNode)('div',_a,[(0,l.unref)(s)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Fa,[(0,l.unref)(c)?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:0,class:'fa-solid fa-trash-can',onClick:t[1]||(t[1]=e=>(0,l.unref)(p)((0,l.unref)(s).id)),style:{cursor:'pointer',position:'absolute',top:'15px',right:'15px'},title:'å½’æ¡£NPC'})),(0,l.unref)(c)?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:1,class:'fa-solid fa-arrow-up-from-bracket',onClick:t[2]||(t[2]=e=>(0,l.unref)(f)((0,l.unref)(s).id)),style:{cursor:'pointer',position:'absolute',top:'15px',right:'15px'},title:'æ¢å¤NPC'})):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',qa,[(0,l.createElementVNode)('div',za,'åŸºç¡€ä¿¡æ¯ | '+(0,l.toDisplayString)((0,l.unref)(s).id),1),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(s).character,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'column-content',key:t},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(E)[t]||t),1),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(e),1)]))),128)),t[5]||(t[5]=(0,l.createElementVNode)('div',{class:'section-title grid-col-span-full'},'å…ƒä¿¡æ¯',-1)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(s).meta,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'column-content grid-col-span-full',key:t},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(b)[t]||t),1),'favorabilityTowardsNPCs'===t?((0,l.openBlock)(),(0,l.createElementBlock)('span',Wa,['favorabilityTowardsNPCs'===t?((0,l.openBlock)(),(0,l.createElementBlock)('span',La,(0,l.toDisplayString)((0,l.unref)(h)(e)),1)):(0,l.createCommentVNode)('v-if',!0)])):((0,l.openBlock)(),(0,l.createElementBlock)('span',ja,(0,l.toDisplayString)(e),1))]))),128))]),t[6]||(t[6]=(0,l.createElementVNode)('div',{class:'section-title grid-col-span-full'},'å±æ€§',-1)),(0,l.createElementVNode)('div',Qa,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(s).attributes,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'attr',key:t},[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(N)[t]||t),1),(0,l.createElementVNode)('span',Ua,(0,l.toDisplayString)(e),1)]))),128))])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Ra,'é€‰æ‹©ä¸€ä¸ªè§’è‰²æŸ¥çœ‹è¯¦æƒ…'))])]),t[7]||(t[7]=(0,l.createElementVNode)('div',{class:'section-title',style:{'margin-top':'20px'}},'é˜µè¥å£°æœ›',-1)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(n).worldInfo.factionPrestige,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'faction-card'},[(0,l.createElementVNode)('div',Ha,[(0,l.createElementVNode)('div',Ka,(0,l.toDisplayString)(e.name),1),(0,l.createElementVNode)('div',{class:'faction-prestige',style:(0,l.normalizeStyle)({color:(0,l.unref)(m)(e.prestige)})},[(0,l.createTextVNode)((0,l.toDisplayString)(e.prestige)+' ('+(0,l.toDisplayString)((0,l.unref)(u)(e.prestige))+') ',1),(0,l.createElementVNode)('i',{class:'fa-solid fa-trash-can',onClick:e=>(0,l.unref)(y)(t),style:{cursor:'pointer'},title:'å½’æ¡£é˜µè¥'},null,8,Ja)],4)]),(0,l.createElementVNode)('div',Ga,[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(e.description),1)])]))),128)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(n).archivedData.factionPrestige,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'faction-card archived'},[(0,l.createElementVNode)('div',Xa,[(0,l.createElementVNode)('div',Ya,(0,l.toDisplayString)(e.name),1),(0,l.createElementVNode)('div',{class:'faction-prestige',style:(0,l.normalizeStyle)({color:(0,l.unref)(m)(e.prestige)})},[(0,l.createTextVNode)((0,l.toDisplayString)(e.prestige)+' ('+(0,l.toDisplayString)((0,l.unref)(u)(e.prestige))+') ',1),(0,l.createElementVNode)('i',{class:'fa-solid fa-arrow-up-from-bracket',onClick:e=>(0,l.unref)(k)(t),style:{cursor:'pointer'},title:'æ¢å¤é˜µè¥'},null,8,Za)],4)]),(0,l.createElementVNode)('div',en,[(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(e.description),1)])]))),128))]))}}),an=(0,ue.A)(tn,[['__scopeId','data-v-2865ebf0']]),nn={class:'map-selector-wrapper'},ln={class:'map-controls'},on={class:'selected-point-preview'},rn={key:0},cn={key:0,class:'helper-controls'},sn={key:0},dn=['checked'],un=(0,l.defineComponent)({__name:'MapSelector',props:{coordinateHelperMode:{type:Boolean,default:!1},showHelperCheckbox:{type:Boolean,default:!1}},emits:['point-selected','coordinates-clicked','update:coordinateHelperMode'],setup(e,{emit:t}){const a=e,n=t,o=(0,l.ref)(null),r=(0,l.ref)(null),c=(0,l.ref)(null),s=(0,l.ref)(null),i=(0,l.ref)(null),d=(0,l.ref)(null),u=new Image,m=(0,l.ref)(!1),p=(0,l.ref)(1),f=(0,l.ref)(1),v=[{name:'ç§‘é›·æ–¯å¸å›½',points:[{x:181,y:22},{x:194,y:64},{x:116,y:146},{x:96,y:172},{x:122,y:231},{x:97,y:239},{x:99,y:259},{x:122,y:270},{x:139,y:260},{x:151,y:288},{x:321,y:287},{x:328,y:226},{x:302,y:187},{x:338,y:148},{x:318,y:117},{x:260,y:101},{x:267,y:88},{x:234,y:46}],color:'rgba(60, 179, 113, 0.2)',cities:[{name:'è¿ˆæ—ä»£å°”',x:209,y:169},{name:'ç±³å…‹æ–¯å¡”',x:202,y:184},{name:'å·´æ‹‰å¾·é›·',x:242,y:195},{name:'å¸•å°”',x:206,y:209},{name:'å¾·æ²™æ—',x:260,y:265},{name:'å¿½å¯†è¾¾',x:195,y:112},{name:'å½±ç‰™è¦å¡',x:322,y:162},{name:'é²ä¼¯å¾·è¦å¡',x:317,y:236}]}],y=()=>{const e=o.value;if(!e)return;const t=e.getContext('2d');if(!t)return;const{width:n,height:l}=e,r=window.devicePixelRatio||1,d=n/r,y=l/r;if(t.clearRect(0,0,n,l),m.value?(t.globalAlpha=.8,t.drawImage(u,0,0,d,y),t.globalAlpha=1):(t.fillStyle='#EAE7DC',t.fillRect(0,0,d,y)),a.coordinateHelperMode)i.value&&(t.fillStyle='cyan',t.beginPath(),t.arc(i.value.x,i.value.y,5,0,2*Math.PI),t.fill(),t.strokeStyle='black',t.stroke());else{if(v.forEach(e=>{t.fillStyle=e.color,t.beginPath(),t.moveTo(e.points[0].x*p.value,e.points[0].y*f.value);for(let a=1;a<e.points.length;a++)t.lineTo(e.points[a].x*p.value,e.points[a].y*f.value);t.closePath(),t.fill()}),t.font='12px Arial',t.textAlign='center',t.textBaseline='middle',v.forEach(e=>{e.cities.forEach(e=>{const a=e.x*p.value,n=e.y*f.value;t.beginPath(),t.arc(a,n,5,0,2*Math.PI),t.fillStyle='white',t.fill(),t.strokeStyle='#333',t.stroke();const l=e.name,o=n+18,r=t.measureText(l).width+8,c=a-r/2,s=o-8;t.fillStyle='rgba(100, 100, 100, 0.7)',t.beginPath(),t.roundRect(c,s,r,16,[4]),t.fill(),t.fillStyle='white',t.fillText(l,a,o)})}),c.value){t.strokeStyle='pink',t.lineWidth=3,t.beginPath(),t.moveTo(c.value.points[0].x*p.value,c.value.points[0].y*f.value);for(let e=1;e<c.value.points.length;e++)t.lineTo(c.value.points[e].x*p.value,c.value.points[e].y*f.value);t.closePath(),t.stroke()}s.value&&(t.strokeStyle='yellow',t.lineWidth=2,t.beginPath(),t.arc(s.value.x*p.value,s.value.y*f.value,8,0,2*Math.PI),t.stroke())}},k=e=>{const t=o.value;if(!t)return;const l=t.getBoundingClientRect(),r={x:e.clientX-l.left,y:e.clientY-l.top};if(a.coordinateHelperMode){const e={x:Math.round(r.x/p.value),y:Math.round(r.y/f.value)};return console.log(`Coordinates: { x: ${e.x}, y: ${e.y} }`),n('coordinates-clicked',e),d.value=e,i.value=r,void y()}let u=null,m=null;for(const e of v){for(const t of e.cities){const a=t.x*p.value,n=t.y*f.value;if(Math.sqrt((r.x-a)**2+(r.y-n)**2)<8){u=t,m=e;break}}if(u)break}if(u&&m)s.value=u,c.value=m,n('point-selected',`${m.name}, ${u.name}`);else{const e=v.map(e=>({...e,points:e.points.map(e=>({x:e.x*p.value,y:e.y*f.value}))})).find(e=>((e,t)=>{let a=!1;for(let n=0,l=t.length-1;n<t.length;l=n++){const o=t[n].x,r=t[n].y,c=t[l].x,s=t[l].y;r>e.y!=s>e.y&&e.x<(c-o)*(e.y-r)/(s-r)+o&&(a=!a)}return a})(r,e.points));s.value=null,e?(c.value=v.find(t=>t.name===e.name)||null,n('point-selected',e.name)):(c.value=null,n('point-selected',''))}y()},g=()=>{const e=o.value,t=r.value;if(!e||!t)return;const a=t.getBoundingClientRect(),n=window.devicePixelRatio||1;e.width=a.width*n,e.height=a.height*n;const l=e.getContext('2d');if(!l)return;l.scale(n,n);p.value=a.width/500,f.value=a.height/300,y()};let h;return(0,l.onMounted)(()=>{u.crossOrigin='Anonymous',u.onload=()=>{m.value=!0,y()},u.src='https://raw.githubusercontent.com/neko-kyuu/the-tale-of-Ofoces/refs/heads/static-resources/public/static/vault/29A958DA-EF44-4C67-923E-1B4ECB5E6A90_1_105_c.jpeg';const e=r.value;e&&(h=new ResizeObserver(g),h.observe(e)),g()}),(0,l.onUnmounted)(()=>{h&&h.disconnect()}),(t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',nn,[(0,l.createElementVNode)('div',ln,[(0,l.createElementVNode)('div',on,[s.value||c.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',rn,' å·²é€‰æ‹©ï¼š'+(0,l.toDisplayString)(s.value?`${c.value?.name}, ${s.value.name}`:c.value?.name),1)):(0,l.createCommentVNode)('v-if',!0)]),e.showHelperCheckbox?((0,l.openBlock)(),(0,l.createElementBlock)('div',cn,[d.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',sn,' åæ ‡: { x: '+(0,l.toDisplayString)(d.value.x)+', y: '+(0,l.toDisplayString)(d.value.y)+' } ',1)):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('label',null,[(0,l.createElementVNode)('input',{type:'checkbox',checked:e.coordinateHelperMode,onChange:a[0]||(a[0]=e=>t.$emit('update:coordinateHelperMode',e.target.checked))},null,40,dn),a[1]||(a[1]=(0,l.createTextVNode)(' åæ ‡æ‹¾å–æ¨¡å¼ ',-1))])])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',{ref_key:'canvasContainer',ref:r,class:'canvas-container'},[(0,l.createElementVNode)('canvas',{ref_key:'mapCanvas',ref:o,onClick:k},null,512)],512)]))}}),mn=(0,ue.A)(un,[['__scopeId','data-v-df92daa8']]),pn={class:'modal-header'},fn={class:'header-buttons'},vn={class:'modal-body'},yn={class:'modal-footer'},kn=(0,l.defineComponent)({__name:'ModalDialog',props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:'å¼¹çª—'}},emits:['update:modelValue','confirm'],setup(t){const a=(0,l.ref)(null),{isFullscreen:n,toggle:o}=e(a);return(e,r)=>t.modelValue?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:0,class:'modal-overlay',onClick:r[3]||(r[3]=(0,l.withModifiers)(t=>e.$emit('update:modelValue',!1),['self']))},[(0,l.createElementVNode)('div',{class:'modal-container',ref_key:'modalContainerRef',ref:a},[(0,l.createElementVNode)('div',pn,[(0,l.renderSlot)(e.$slots,'header',{},()=>[(0,l.createElementVNode)('h3',null,(0,l.toDisplayString)(t.title),1)]),(0,l.createElementVNode)('div',fn,[(0,l.createElementVNode)('button',{class:'fullscreen-button',onClick:r[0]||(r[0]=(...e)=>(0,l.unref)(o)&&(0,l.unref)(o)(...e))},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)((0,l.unref)(n)?'fa-solid fa-compress':'fa-solid fa-expand')},null,2)]),(0,l.createElementVNode)('button',{class:'close-button',onClick:r[1]||(r[1]=t=>e.$emit('update:modelValue',!1))},[...r[4]||(r[4]=[(0,l.createElementVNode)('i',{class:'fa-regular fa-circle-xmark'},null,-1)])])])]),(0,l.createElementVNode)('div',vn,[(0,l.renderSlot)(e.$slots,'default',{},()=>[r[5]||(r[5]=(0,l.createElementVNode)('p',null,'è¿™æ˜¯é»˜è®¤çš„å¼¹çª—å†…å®¹ã€‚',-1))])]),(0,l.createElementVNode)('div',yn,[(0,l.renderSlot)(e.$slots,'footer',{},()=>[(0,l.createElementVNode)('button',{onClick:r[2]||(r[2]=t=>e.$emit('confirm'))},'ç¡®è®¤')])])],512)])):(0,l.createCommentVNode)('v-if',!0)}}),gn=(0,ue.A)(kn,[['__scopeId','data-v-7cce4ff6']]),hn={class:'outfit-editor-container'},En={class:'outfit-selector-container'},bn={class:'detail-panel'},Nn={class:'details-content'},Vn={class:'edit-form'},Bn={class:'form-group'},Cn={class:'form-group'},Dn={class:'form-group'},xn={class:'form-group'},wn=['value'],Sn={class:'outfit-grid'},Pn=['onClick'],In={key:1},An={class:'item-display-panel'},Mn={key:0,class:'item-list'},$n={class:'item-info'},On=['onClick'],Tn={class:'item-description'},_n={key:0,class:'empty-text'},Fn={key:1,class:'empty-text'},qn=(0,l.defineComponent)({__name:'outfitSelector',props:{outfitId:{}},setup(e,{expose:t}){const a=e,{mvu:n,rawMvuData:o,handleMvuUpdate:c}=v(),{party:s}=Re(n,o,c),i=(0,l.ref)(null),d={head:null,bodyInner:null,bodyArmor:null,hands:null,legsInner:null,legsArmor:null,feet:null,cloak:null,neck:null,ring:null,belt:null,extra:[]},u={name:'åˆå§‹å¥—è£…',type:'casual',description:'[å¥—è£…æè¿°]',wearer:null,slots:r().cloneDeep(d)},m=(0,l.ref)(r().cloneDeep(u));function p(e){if(!e.slot)return!1;const t=m.value.slots[e.slot];return!(!t||!('id'in t)||t.id!==e.id)}(0,l.watch)(()=>a.outfitId,e=>{const t=e?n.value.wardrobe.ownedOutfits[e]:null;if(t){const e=r().cloneDeep(d),a=n.value.playerDynamicData.inventory;for(const n in t.slots)if(Object.prototype.hasOwnProperty.call(t.slots,n)){const l=n;if('extra'===l){const n=t.slots[l];e[l]=n.map(e=>a[e]?{...a[e],id:e}:null).filter(Boolean)}else{const n=t.slots[l];'string'==typeof n&&a[n]?e[l]={...a[n],id:n}:e[l]=null}}m.value={...t,slots:e}}else m.value=r().cloneDeep(u)},{immediate:!0}),t({getOutfitData:()=>{const e=r().cloneDeep(m.value),t={};for(const a in e.slots){const n=a;if('extra'===n)t[n]=(e.slots[n]||[]).map(e=>e.id);else{const a=e.slots[n];t[n]=a?a.id:null}}return e.slots=t,e}});const f=(0,l.computed)(()=>{const e=Object.entries(n.value.playerDynamicData.inventory).map(([e,t])=>({...t,id:e})).filter(e=>!!e.slot);return r().groupBy(e,'slot')}),y=[[null,'neck','head',null],['cloak','bodyArmor','bodyInner',null],['ring',null,'belt','hands'],[null,'legsArmor','legsInner','feet']];return(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',hn,[(0,l.createElementVNode)('div',En,[(0,l.createElementVNode)('div',bn,[(0,l.createElementVNode)('div',Nn,[(0,l.createElementVNode)('div',Vn,[(0,l.createElementVNode)('div',Bn,[t[4]||(t[4]=(0,l.createElementVNode)('label',{for:'outfit-name'},'åç§°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{id:'outfit-name','onUpdate:modelValue':t[0]||(t[0]=e=>m.value.name=e),type:'text'},null,512),[[l.vModelText,m.value.name]])]),(0,l.createElementVNode)('div',Cn,[t[5]||(t[5]=(0,l.createElementVNode)('label',{for:'outfit-type'},'ç±»å‹',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{id:'outfit-type','onUpdate:modelValue':t[1]||(t[1]=e=>m.value.type=e),type:'text'},null,512),[[l.vModelText,m.value.type]])]),(0,l.createElementVNode)('div',Dn,[t[6]||(t[6]=(0,l.createElementVNode)('label',{for:'outfit-description'},'æè¿°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{id:'outfit-description','onUpdate:modelValue':t[2]||(t[2]=e=>m.value.description=e)},null,512),[[l.vModelText,m.value.description]])]),(0,l.createElementVNode)('div',xn,[t[7]||(t[7]=(0,l.createElementVNode)('label',{for:'outfit-wearer'},'ç©¿æˆ´è€…',-1)),(0,l.withDirectives)((0,l.createElementVNode)('select',{'onUpdate:modelValue':t[3]||(t[3]=e=>m.value.wearer=e)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(s),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('option',{key:t,value:t},(0,l.toDisplayString)(e.character.name),9,wn))),128))],512),[[l.vModelSelect,m.value.wearer]]),(0,l.createCommentVNode)(' <input id="outfit-wearer" v-model="editingOutfit.wearer" type="text" /> ')])])])]),(0,l.createElementVNode)('div',Sn,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(y,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:t},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:t},[e?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:0,class:(0,l.normalizeClass)(['outfit-slot',{selected:i.value===e}]),onClick:t=>{return a=e,void(i.value=a);var a}},(0,l.toDisplayString)(m.value.slots[e]?m.value.slots[e].name:(0,l.unref)(D)[e]),11,Pn)):((0,l.openBlock)(),(0,l.createElementBlock)('div',In))],64))),128))],64))),64))]),(0,l.createElementVNode)('div',An,[i.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',Mn,[(0,l.createElementVNode)('ul',null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(f.value[i.value],e=>((0,l.openBlock)(),(0,l.createElementBlock)('li',{key:e.id,class:(0,l.normalizeClass)(['item-card',{equipped:p(e)}])},[(0,l.createElementVNode)('div',$n,[(0,l.createElementVNode)('div',null,[(0,l.createTextVNode)((0,l.toDisplayString)(e.name)+' ('+(0,l.toDisplayString)((0,l.unref)(B)[e.quality])+') - '+(0,l.toDisplayString)((0,l.unref)(C)[e.tier])+' ',1),(0,l.createElementVNode)('button',{onClick:t=>function(e){if(!e.slot)return;const t=m.value.slots[e.slot];t&&'id'in t&&t.id===e.id?m.value.slots[e.slot]=null:m.value.slots[e.slot]=e}(e)},(0,l.toDisplayString)(p(e)?'å·²ç©¿ä¸Š':'ç©¿ä¸Š'),9,On)]),(0,l.createElementVNode)('div',Tn,(0,l.toDisplayString)(e.description),1)])],2))),128))]),f.value[i.value]&&0!==f.value[i.value].length?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',_n,' è¯¥éƒ¨ä½æ²¡æœ‰è¡£ç‰© '))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Fn,'ç‚¹å‡»ä¸€ä¸ªéƒ¨ä½æ¥æŸ¥çœ‹è¡£ç‰©'))])])]))}}),zn=(0,ue.A)(qn,[['__scopeId','data-v-0ea8379a']]),Wn={class:'settings-form'},Ln={class:'form-group'},jn={class:'form-group'},Qn={class:'form-group'},Un=(0,l.defineComponent)({__name:'tradeApiSettings',setup(e,{expose:t}){const{mvu:a}=v(),n=(0,l.ref)({apiurl:a.value.system.tradeCustomApi?.apiurl||'',key:a.value.system.tradeCustomApi?.key||'',model:a.value.system.tradeCustomApi?.model||''});return t({getApiConfig:()=>({...n.value})}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Wn,[(0,l.createElementVNode)('div',Ln,[t[3]||(t[3]=(0,l.createElementVNode)('label',null,'API åœ°å€',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':t[0]||(t[0]=e=>n.value.apiurl=e),placeholder:'https://api.openai.com/v1'},null,512),[[l.vModelText,n.value.apiurl]])]),(0,l.createElementVNode)('div',jn,[t[4]||(t[4]=(0,l.createElementVNode)('label',null,'API Key',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'password','onUpdate:modelValue':t[1]||(t[1]=e=>n.value.key=e),placeholder:'sk-...'},null,512),[[l.vModelText,n.value.key]])]),(0,l.createElementVNode)('div',Qn,[t[5]||(t[5]=(0,l.createElementVNode)('label',null,'æ¨¡å‹åç§°',-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'text','onUpdate:modelValue':t[2]||(t[2]=e=>n.value.model=e),placeholder:'gpt-3.5-turbo'},null,512),[[l.vModelText,n.value.model]])]),t[6]||(t[6]=(0,l.createElementVNode)('div',{class:'settings-tip'},'* è®¾ç½®åå°†ä½¿ç”¨è‡ªå®šä¹‰ API ç”Ÿæˆå•†å“ï¼Œç•™ç©ºåˆ™ä½¿ç”¨é…’é¦†é»˜è®¤é…ç½®ã€‚',-1))]))}}),Rn=(0,ue.A)(Un,[['__scopeId','data-v-1c36cbf4']]);const Hn=(0,l.ref)(''),Kn=(0,l.ref)([]),Jn=(0,l.ref)(null),Gn=(0,l.ref)(!1);function Xn(e,t){const a=(0,l.computed)(()=>e.value.system.tradeCustomApi);async function n(e,t){const n='<econoy_system>\n### ä¸€ã€ æ ¸å¿ƒè´§å¸ï¼šé‡‘å¸\n\næ ¸å¿ƒè®¾å®šï¼š 1 é‡‘å¸çš„è´­ä¹°åŠ›çº¦ç­‰äºç°å®ä¸–ç•Œä¸­çš„ 10-20 å…ƒäººæ°‘å¸ã€‚è´§å¸ä¸å¯åˆ†å‰²ï¼Œæ²¡æœ‰å°æ•°ã€‚\n*Â Â  è´­ä¹°åŠ›åŸºå‡†å‚è€ƒ:\n###æ—¥å¸¸æ¶ˆè´¹ä¸åŸºç¡€æœåŠ¡(1~50é‡‘å¸)\n1é‡‘å¸:\n- ä¸€ä»½è¡—è¾¹æ‘Šçš„é»‘é¢åŒ…æˆ–ä¸€ç¢—ç¨€æ±¤ã€‚\n- ä¸€å°è¢‹ç²—ç›ã€‚\n- æ”¯ä»˜ç»™é€ä¿¡å°å­©çš„è·‘è…¿è´¹ã€‚\n2-3é‡‘å¸:\n- åœ¨ä¹¡ä¸‹å°æ—…åº—æˆ–åŸå¸‚å¤§é€šé“ºä½ä¸€æ™šã€‚\n- åœ¨æ™®é€šé…’é¦†äº«ç”¨ä¸€æ¯éº¦é…’å’Œä¸€ä»½ç‚–è‚‰ã€‚\n5é‡‘å¸:\n- ä¸€æ†ç®­çŸ¢ï¼ˆ20æ”¯ï¼‰ã€‚\n- ä¸€æŠŠæ™®é€šçš„é“åˆ¶åŒ•é¦–ã€‚\n10é‡‘å¸:\n- åœ¨åŸå¸‚é‡Œæ™®é€šæ—…åº—å•äººæˆ¿é—´ä½ä¸€æ™šã€‚\n- ä¸€æœ¬ç©ºç™½çš„ç¾Šçš®çº¸ç¬”è®°ã€‚\n20-50é‡‘å¸:\n- 20:ä¸€é¡¿åœ¨ä½“é¢é¤å…çš„åŒäººæ™šé¤ã€‚\n- 30:ä¸€ä»¶åšå·¥å°šå¯çš„çš®ç”²æˆ–ä¸€æŠŠæ ‡å‡†çš„é’¢åˆ¶é•¿å‰‘ã€‚\n- 50:ä¸€ç“¶æ™®é€šçš„æ²»ç–—è¯æ°´ï¼ˆæ¢å¤å°‘é‡ç”Ÿå‘½ï¼‰ã€‚è˜è¯·ä¸€ä¸ªä½£å…µæŠ¤å«ä¸€å¤©çš„è´¹ç”¨ã€‚\n\n###å†’é™©è€…è£…å¤‡ä¸ä¸“ä¸šæœåŠ¡(51~500é‡‘å¸)\n80é‡‘å¸:\n- ä¸€å¥—å®Œæ•´çš„æ—…è¡Œè€…æœè£…ã€‚\n150é‡‘å¸:\n- ä¸€æŠŠç”±åŸå¸‚é“åŒ ç²¾å¿ƒæ‰“é€ çš„æ­¦å™¨ï¼ˆéé­”æ³•ï¼‰ã€‚\n- ä¸€å¥—åšå›ºçš„é”å­ç”²ã€‚\n250é‡‘å¸:\n- ä¸€åŒ¹å¥åº·çš„æ™®é€šæ—…è¡Œé©¬åŒ¹ï¼Œé™„å¸¦éå…·ã€‚\n- æ”¯ä»˜ç»™ä¸€ä¸ªä¸­çº§å†’é™©è€…å°é˜Ÿï¼ˆ2-3äººï¼‰æ‰§è¡Œç®€å•å§”æ‰˜çš„å®šé‡‘ã€‚\n400é‡‘å¸:\n- ä¸€å¼ ç»˜åˆ¶ç²¾è‰¯çš„åŒºåŸŸåœ°å›¾ã€‚\n- ä¸€æ¬¡ä¸­é˜¶ç‚¼é‡‘ææ–™çš„é‡‡è´­è´¹ç”¨ã€‚\n500é‡‘å¸:\n- ä¸€ä»¶é™„æœ‰ç®€å•ã€ä¸€æ¬¡æ€§é­”æ³•æ•ˆæœçš„è£…å¤‡ï¼ˆå¦‚â€œå¼ºæ•ˆå·è½´â€æˆ–â€œé—ªå…‰æˆ’æŒ‡â€ï¼‰ã€‚\n- ä¸€ä¸ªå°å‹å†’é™©è€…å›¢é˜Ÿå®Œæˆä¸€æ¬¡ä¸­ç­‰éš¾åº¦å§”æ‰˜çš„æ€»æŠ¥é…¬ã€‚\n\n###ä¸­äº§é˜¶çº§ä¸ç¨€æœ‰ç‰©å“ï¼Œååˆ†å°‘è§(501~5000é‡‘å¸)\n800é‡‘å¸:\n- ä¸€åŒ¹ç»è¿‡è®­ç»ƒçš„æˆ˜é©¬ã€‚\n- åœ¨å°é•‡ä¸Šç§Ÿç”¨ä¸€é—´å¸¦é™¢å­çš„æˆ¿å­ä¸€æ•´å¹´çš„ç§Ÿé‡‘ã€‚\n1200é‡‘å¸:\n- ä¸€å¥—å…¨èº«é’¢åˆ¶æ¿ç”²ã€‚\n- è˜è¯·ä¸€æ”¯ç»éªŒä¸°å¯Œçš„å†’é™©è€…å°é˜Ÿæ‰§è¡Œå±é™©ä»»åŠ¡ï¼ˆå¦‚æ·±å…¥åœ°åŸï¼‰çš„è´¹ç”¨ã€‚\n2000é‡‘å¸:\n- è´­ä¹°ä¸€è¾†åšå›ºçš„å››è½®è´§è¿é©¬è½¦ã€‚\n- ä¸€ä»¶é™„æœ‰å¾®å¼±ã€æ°¸ä¹…æ€§é­”æ³•æ•ˆæœçš„è£…å¤‡ï¼ˆä¾‹å¦‚ï¼šåŠ›é‡+1çš„è‡‚ç¯ï¼‰ã€‚\n3000é‡‘å¸:\n- åœ¨æ™®é€šåŸé•‡çš„å•†ä¸šåŒºè´­ä¹°ä¸€é—´å°åº—é“ºçš„æ‰€æœ‰æƒã€‚\n- ä¸€å¼ å»å¾€å¦ä¸€ä¸ªå›½å®¶æˆ–å¤§é™†çš„å¤´ç­‰èˆ¹ç¥¨ã€‚\n4000é‡‘å¸:\n- ä¸€ä»¶é™„æœ‰æ ‡å‡†ã€æ°¸ä¹…æ€§é­”æ³•æ•ˆæœçš„ç²¾è‰¯è£…å¤‡ï¼ˆä¾‹å¦‚ï¼šâ€œé”‹é”ä¹‹å‰‘â€æˆ–â€œå®ˆæŠ¤è€…ä¹‹ç›¾â€ï¼‰ã€‚\n- æ”¯ä»˜ç»™çŸ¥åç‚¼é‡‘å¤§å¸ˆæˆ–é™„é­”å¸ˆè¿›è¡Œä¸€æ¬¡å¤æ‚å®šåˆ¶çš„è´¹ç”¨ã€‚\n5000é‡‘å¸:\n- åœ¨ç‹éƒ½/ç¹ååŸå¸‚çš„å¹³æ°‘åŒºè´­ä¹°ä¸€å¤„å¸¦å°èŠ±å›­çš„ä½“é¢æˆ¿äº§ã€‚\n- ä¸€å°è¢‹ï¼ˆçº¦10é¢—ï¼‰ä½å“è´¨çš„é­”æ™¶çŸ³ã€‚\n\n###å·¨é¢è´¢å¯Œï¼Œæå…¶ç½•è§(5001+é‡‘å¸)\n10000é‡‘å¸:\n- ä¸€ä»¶å¼ºå¤§çš„ã€åœ¨æˆ˜åœºä¸Šèƒ½èµ·åˆ°å…³é”®ä½œç”¨çš„ç¨€æœ‰é­”æ³•è£…å¤‡ã€‚\n- åœ¨ç‹éƒ½/ç¹ååŸå¸‚è´µæ—åŒºè¾¹ç¼˜è´­ç½®ä¸€å¤„å°å‹åˆ«å¢…ã€‚\n25000é‡‘å¸:\n- è´­ä¹°ä¸€è‰˜å°å‹å•†èˆ¹çš„æ‰€æœ‰æƒã€‚\n- ä¸€é¢—é«˜å“è´¨çš„é­”æ™¶çŸ³ï¼Œè¶³ä»¥ä½œä¸ºå°å‹é­”å¯¼è£…ç½®çš„æ ¸å¿ƒã€‚\n50,000é‡‘å¸:\n- è¶³ä»¥ç»„å»ºä¸€æ”¯å°å‹ç§äººå†›é˜Ÿï¼ˆçº¦50åå£«å…µï¼‰å¹¶ç»´æŒå…¶ä¸€å¹´çš„å¼€é”€ã€‚\n- ä¸€ä»¶åœ¨å†å²ä¸Šç•™æœ‰åå·çš„â€œä¼ è¯´â€çº§è£…å¤‡çš„èµ·æ‹ä»·ã€‚\n250,000+é‡‘å¸:\n- èƒ½å¤Ÿå½±å“ä¸€ä¸ªå°å›½æ”¿æ²»æ ¼å±€çš„è´¢å¯Œã€‚\n- è´­ä¹°ä¸€åº§å°å‹åŸå ¡æˆ–èµ„åŠ©ä¸€ä¸ªå¤§å‹æ³•å¸ˆå¡”çš„å»ºè®¾ã€‚\n500,000+é‡‘å¸:\n- è¶³ä»¥ä¹°ä¸‹ä¸€ä¸ªå°å‹åŸé‚¦æˆ–è·å¾—ä¸€ä¸ªä¸–è¢­è´µæ—å¤´è¡”çš„å·¨æ¬¾ã€‚\n- åªæœ‰å·¨é¾™çš„å·¢ç©´æˆ–å›½åº“æ‰å¯èƒ½æ‹¥æœ‰å¦‚æ­¤è§„æ¨¡çš„è´¢å¯Œã€‚\n### äºŒã€ ä»·å€¼ä½“ç³»ä¸ç‰©ä»·æ³¢åŠ¨\n\nä¸‡ç‰©çš†æœ‰å…¶åŸºç¡€ä»·å€¼ï¼Œä½†å®é™…äº¤æ˜“ä»·æ ¼ä¼šå—åˆ°å¤šç§å› ç´ å½±å“ï¼Œå½¢æˆåŠ¨æ€çš„ç‰©ä»·ä½“ç³»ã€‚\n\n*Â Â  ç‰©å“å“è´¨ä¸é­”æ³•æ•ˆåº”: è¿™æ˜¯å†³å®šä»·å€¼çš„æ ¸å¿ƒã€‚ä¸€ä»¶ç‰©å“çš„ä»·å€¼ç”±å…¶æè´¨ã€å·¥è‰ºã€ç¨€æœ‰åº¦ä»¥åŠé™„å¸¦çš„é­”æ³•æ•ˆæœå†³å®šã€‚ä¸€ä»¶ç”±æ˜Ÿé™¨é“æ‰“é€ ã€é™„æœ‰â€œé”‹é”â€æ•ˆæœçš„é•¿å‰‘ï¼Œå…¶ä»·å€¼å¯èƒ½æ˜¯æ™®é€šé’¢å‰‘çš„æ•°åå€ã€‚\n*Â Â  åœ°åŒºå·®å¼‚:\nÂ Â Â  *Â Â  èµ„æºäº§åœ° vs æ¶ˆè´¹ä¸­å¿ƒ: åœ¨å±±åŸï¼ŒçŸ¿çŸ³å’Œé‡‘å±é”­çš„ä»·æ ¼ç›¸å¯¹ä½å»‰ï¼›è€Œåœ¨ç¹åçš„æ¸¯å£éƒ½å¸‚ï¼Œè¿™äº›åŸææ–™çš„ä»·æ ¼ä¼šå› è¿è¾“æˆæœ¬è€Œä¸Šæ¶¨ã€‚åä¹‹ï¼Œæ¥è‡ªå¼‚åŸŸçš„é¦™æ–™å’Œå¥¢ä¾ˆå“åœ¨æ¸¯å£æ›´ä¾¿å®œã€‚\nÂ Â Â  *Â Â  å®‰å…¨ç­‰çº§: åœ¨å’Œå¹³å®‰å®šçš„ä¸­å¿ƒåŸå¸‚ï¼Œç²®é£Ÿå’Œæ—¥ç”¨å“ä»·æ ¼ç¨³å®šã€‚è€Œåœ¨æ€ªç‰©è‚†è™ã€å¸¸å¹´æˆ˜ä¹±çš„è¾¹å¢ƒåœ°åŒºï¼Œç”±äºè¿è¾“é£é™©é«˜ï¼Œæ‰€æœ‰ç‰©èµ„çš„ä»·æ ¼éƒ½ä¼šå¤§å¹…ä¸Šæ¶¨ï¼Œå°¤å…¶æ˜¯æ­¦å™¨ã€æŠ¤ç”²å’Œæ²»ç–—è¯æ°´ã€‚\n*Â Â  åŠ¿åŠ›å…³ç³»ä¸å£°æœ›:\nÂ Â Â  *Â Â  å¥½æ„Ÿåº¦æŠ˜æ‰£: å½“ä½ ä¸æŸä¸ªåŠ¿åŠ›ï¼ˆå¦‚æŸä¸ªåŸé•‡ã€å•†ä¸šè¡Œä¼šã€æ•™ä¼šï¼‰çš„å…³ç³»è¾¾åˆ°â€œå‹å¥½â€æˆ–æ›´é«˜æ—¶ï¼Œä½ åœ¨å…¶æ§åˆ¶èŒƒå›´å†…çš„æ‰€æœ‰äº¤æ˜“éƒ½ä¼šäº«æœ‰æŠ˜æ‰£ï¼ˆé€šå¸¸ä¸º5%-15%ï¼‰ã€‚åä¹‹ï¼Œå…³ç³»æ¶åŠ£å¯èƒ½ä¼šå¯¼è‡´ç¦è¿æˆ–ä»·æ ¼æ¬ºè¯ˆã€‚\nÂ Â Â  *Â Â  ç©å®¶ç‰¹è´¨æˆ–é­…åŠ›:ç©å®¶å¯ä»¥è¿›è¡Œè®¨ä»·è¿˜ä»·æˆ–å› ç‰¹è´¨å’Œé­…åŠ›å¯¼è‡´çš„æŠ˜æ‰£ã€‚\nÂ Â Â  *Â Â  å†’é™©è€…ç­‰çº§: é«˜ç­‰çº§çš„å†’é™©è€…è¢«è§†ä¸ºå¯é çš„å•†ä¸šä¼™ä¼´å’Œå¼ºå¤§çš„æ¶ˆè´¹è€…ã€‚è¾¾åˆ°ç‰¹å®šç­‰çº§ï¼ˆå¦‚â€œç™½é‡‘çº§â€ï¼‰åï¼Œä½ å¯èƒ½ä¼šåœ¨æ‰€æœ‰éš¶å±äºå†’é™©è€…å…¬ä¼šçš„å•†åº—ä¸­è·å¾—æ°¸ä¹…æ€§çš„æŠ˜æ‰£ã€‚\n*Â Â  ä¾›éœ€å…³ç³»ï¼ˆç”±ä¸–ç•Œäº‹ä»¶é©±åŠ¨ï¼‰:\nÂ Â Â  *Â Â  æˆ˜äº‰çˆ†å‘: æ­¦å™¨ã€æŠ¤ç”²ã€æˆ˜ç•¥ç‰©èµ„ä»·æ ¼é£™å‡ï¼›å¥¢ä¾ˆå“ä»·æ ¼æš´è·Œã€‚\nÂ Â Â  *Â Â  é¾™ç¾/é­”ç‰©æ½®: æ²»ç–—è¯æ°´ã€è§£æ¯’å‰‚ã€é­”æ³•å·è½´ç­‰æ¶ˆè€—å“ä»·æ ¼é£æ¶¨ã€‚\nÂ Â Â  *Â Â  å‘ç°æ–°çŸ¿è„‰: å¯¹åº”çŸ¿çŸ³å’Œå®çŸ³çš„ä»·æ ¼ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…ä¸‹è·Œã€‚\nÂ Â Â  *Â Â  å•†è·¯ä¸­æ–­: æ¥è‡ªç‰¹å®šåœ°åŒºçš„å•†å“ä¼šå˜å¾—ç¨€ç¼ºä¸”æ˜‚è´µã€‚\n\n### ä¸‰ã€ ç‰¹æ®Šç»æµæ´»åŠ¨\n\n*Â Â  é‰´å®šæœåŠ¡: ç¥æ®¿æˆ–æ³•å¸ˆå¡”æä¾›å¯¹æœªçŸ¥é­”æ³•ç‰©å“çš„é‰´å®šæœåŠ¡ï¼Œéœ€è¦æ”¯ä»˜ä¸è²çš„è´¹ç”¨ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½é‰´å®šå‡ºä»·å€¼è¿åŸçš„ç¥å™¨ã€‚\n*Â Â  æ‹å–è¡Œ: åœ¨å¤§åŸå¸‚ï¼Œç¨€æœ‰å’Œä¼ å¥‡çº§åˆ«çš„ç‰©å“é€šå¸¸ä¼šé€šè¿‡æ‹å–è¡Œè¿›è¡Œäº¤æ˜“ï¼Œä»·é«˜è€…å¾—ã€‚\n*Â Â  é»‘å¸‚: åœ¨æ³•å¾‹æ— æ³•è§¦åŠçš„è§’è½ï¼Œå­˜åœ¨ç€äº¤æ˜“è¿ç¦å“ï¼ˆå¦‚å¼ºæ•ˆæ¯’è¯ã€ç¦å¿Œé­”æ³•å·è½´ã€å¥´éš¶ï¼‰çš„é»‘å¸‚ï¼Œä»·æ ¼æ˜‚è´µä¸”é£é™©æé«˜ã€‚\n</econoy_system>\n\n# å•†åº—ç”ŸæˆæŒ‡ä»¤\n\nä½ ç°åœ¨æ˜¯ ERA ç³»ç»Ÿçš„åœ°ä¸‹åŸä¸»ï¼ˆDMï¼‰ã€‚ç©å®¶å½“å‰ä½ç½®åœ¨ **{{locationName}}** ï¼ˆå¦‚æœ‰ç”¨æˆ·è¾“å…¥ï¼Œä»¥ç”¨æˆ·è¾“å…¥ä¸ºå‡†ï¼‰ã€‚\n\n**ä»»åŠ¡ç›®æ ‡ï¼š**\nè¯·æ ¹æ®è¯¥åœ°ç‚¹çš„èƒŒæ™¯å’Œç¹è£ç¨‹åº¦ï¼Œç”Ÿæˆ 3-5 ä»¶ç¬¦åˆè¯¥åœ°ç‰¹è‰²çš„å•†å“ã€‚\n\n**ç”Ÿæˆè§„åˆ™ï¼š**\n1. **æè¿°é£æ ¼**ï¼šç‰©å“æè¿°ï¼ˆdescriptionï¼‰å¿…é¡»ä¿æŒæç®€å¹²ç»ƒï¼Œå¼ºè°ƒåŠŸèƒ½æˆ–è´¨æ„Ÿé‡ç‚¹ï¼Œé¿å…å†—é•¿ã€‚\n2. **æ•°å€¼å¹³è¡¡**ï¼š\n   - **é‡‘å¸ (price)**ï¼šå‚è€ƒä¸Šæ–¹ã€Šç»æµä½“ç³»ã€‹ä¸­çš„ç‰©ä»·æ ‡å‡†ã€‚æ™®é€šæ¶ˆè€—å“åº”åœ¨ 5-50g ä¹‹é—´ï¼Œç²¾è‰¯è£…å¤‡åº”åœ¨ 100-500g ä¹‹é—´ï¼Œæ›´é«˜å“è´¨åˆ™æ›´è´µã€‚\n   - **å“è´¨ (quality)**ï¼šä¸¥æ ¼ä½¿ç”¨æšä¸¾å€¼ï¼š\'common\' | \'good\' | \'excellent\' | \'masterwork\' | \'legendary\'ã€‚\n3. **æ•°æ®ç»“æ„**ï¼šæ¯ä»¶å•†å“å¿…é¡»ä¸¥æ ¼ç¬¦åˆ `InventoryItem` æ ¼å¼ï¼š\n   - `name`: ç‰©å“åç§°ã€‚\n   - `description`: æç®€æè¿°ã€‚\n   - `quality`: å“è´¨æšä¸¾ã€‚\n   - `type`: ç±»å‹æšä¸¾ (\'cloth\' | \'weapon\' | \'item\' | \'consumable\')ã€‚\n   - `tier`: é‡é‡é˜¶æ¢¯ (\'basic\' | \'light\' | \'medium\' | \'heavy\')ã€‚\n   - `slot`: è‹¥ç±»å‹ä¸º \'cloth\'ï¼Œå¿…é¡»æä¾›éƒ¨ä½ (\'head\' | \'bodyInner\' | \'bodyArmor\' | \'hands\' | \'legsInner\' | \'legsArmor\' | \'feet\' | \'cloak\' | \'neck\' | \'ring\' | \'belt\')ã€‚\n   - `price`: é”€å”®ä»·æ ¼ï¼ˆNumberï¼‰ã€‚\n\n**è¾“å‡ºæ ¼å¼ï¼š**\nè¯·ç›´æ¥è¾“å‡ºåŒ…å«å•†å“åˆ—è¡¨çš„ JSON æ•°æ®ï¼ŒåŒ…è£¹åœ¨ <ShopInventory> æ ‡ç­¾å†…ã€‚ä¸éœ€è¦ä»»ä½•å‰§æƒ…æè¿°æˆ–å¼€åœºç™½ã€‚\n\n<ShopInventory>\n[\n  {\n    "name": "...",\n    "description": "...",\n    "quality": "...",\n    "type": "...",\n    "tier": "...",\n    "slot": "...", // ä»…é™ cloth\n    "price": 100\n  },\n  ...\n]\n</ShopInventory>'.replace('{{locationName}}',e),l=(await generateRaw({user_input:t,ordered_prompts:['world_info_before','world_info_after','chat_history',{role:'system',content:n},'user_input'],overrides:{chat_history:{with_depth_entries:!1}},...a.value?.apiurl&&{custom_api:{apiurl:a.value.apiurl,key:a.value.key,model:a.value.model,source:'openai'}}})).match(/<ShopInventory>([\s\S]*?)<\/ShopInventory>/);let o=[];if(l)try{const e=JSON.parse(l[1].trim());Array.isArray(e)&&(o=e.map(e=>({...e,id:'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(e){const t=16*Math.random()|0;return('x'===e?t:3&t|8).toString(16)})})))}catch(e){console.error('è§£æå•†åº—ç‰©å“å¤±è´¥:',e)}return{items:o}}async function o(a){const n=e.value.playerDynamicData.gold;if(n<a.price)throw new Error(`é‡‘å¸ä¸è¶³ï¼éœ€è¦ ${a.price}gï¼Œå½“å‰ä»…æœ‰ ${n}gã€‚`);const l=e.value.playerDynamicData.inventory,o=`I${Object.keys(l).filter(e=>e.startsWith('I')).map(e=>parseInt(e.substring(1))).filter(e=>!isNaN(e)).reduce((e,t)=>Math.max(e,t),-1)+1}`,{price:r,...c}=a;return c.id=o,await t([{event:'updateByPath',detail:{path:'playerDynamicData.gold',value:n-a.price}},{event:'insertByPath',detail:{path:`playerDynamicData.inventory.${o}`,value:c}}]),`æˆåŠŸè´­ä¹°äº† ${a.name}ï¼èŠ±è´¹äº† ${a.price} é‡‘å¸ã€‚`}return{refreshUserInput:Hn,shopItems:Kn,selectedItem:Jn,isGenerating:Gn,tradeCustomApi:a,refreshShop:async function(t){Gn.value=!0,Jn.value=null;try{const a=e.value.worldInfo.currentLocation||e.value.worldInfo.currentRegion||'æœªåä¹‹åœ°',l=await n(a,t);Kn.value=l.items}catch(e){console.error('åˆ·æ–°å•†åº—å¤±è´¥:',e),toastr.error('æ— æ³•è·å–å•†å“ä¿¡æ¯')}finally{Gn.value=!1}},handleBuy:async function(){if(Jn.value)try{const e=await o(Jn.value);toastr.success(e),Kn.value=Kn.value.filter(e=>e.id!==Jn.value?.id),Jn.value=null}catch(e){toastr.error(e.message||'è´­ä¹°å¤±è´¥')}},requestShopItems:n,buyItem:o}}const Yn={class:'trade-container'},Zn={class:'inventory-mini'},el={class:'gold'},tl={class:'trade-controls'},al=['disabled'],nl=['disabled'],ll={class:'master-detail-body'},ol={key:0,class:'master-grid trade-grid'},rl=['onClick'],cl={class:'item-main'},sl={key:0,class:'fa-solid fa-box'},il={key:1,class:'fa-solid fa-plate-wheat'},dl={key:2,class:'fa-solid fa-shirt'},ul={key:3,class:'fa-solid fa-wand-sparkles'},ml={class:'item-price'},pl={key:1,class:'data-empty',style:{background:'var(--blur_tint_color)'}},fl={key:2,class:'data-empty',style:{background:'var(--blur_tint_color)'}},vl={class:'detail-panel'},yl={key:0,class:'details-content'},kl={class:'item-name flex-between'},gl={class:'item-type-tier'},hl={key:0,class:'item-slot'},El={class:'item-description'},bl={class:'trade-actions'},Nl={class:'price-tag'},Vl=['disabled'],Bl={key:1,class:'data-empty'},Cl=(0,l.defineComponent)({__name:'tradeTab',emits:['open-settings'],setup(e){const{mvu:t,handleMvuUpdate:a}=v(),{refreshUserInput:n,shopItems:o,selectedItem:r,isGenerating:c,refreshShop:s,handleBuy:i}=Xn(t,a);return(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Yn,[(0,l.createElementVNode)('div',Zn,[(0,l.createElementVNode)('div',el,'ğŸ’° '+(0,l.toDisplayString)((0,l.unref)(t).playerDynamicData.gold)+'é‡‘å¸',1),(0,l.createElementVNode)('div',tl,[(0,l.withDirectives)((0,l.createElementVNode)('textarea',{'onUpdate:modelValue':a[0]||(a[0]=e=>(0,l.isRef)(n)?n.value=e:null),placeholder:'è¾“å…¥åˆ·æ–°è¦æ±‚ (å¯é€‰)...',class:'refresh-textarea',disabled:(0,l.unref)(c)},null,8,al),[[l.vModelText,(0,l.unref)(n)]]),(0,l.createElementVNode)('div',null,[(0,l.createElementVNode)('button',{onClick:a[1]||(a[1]=t=>e.$emit('open-settings')),title:'API è®¾ç½®',style:{'margin-right':'6px'}},[...a[4]||(a[4]=[(0,l.createElementVNode)('i',{class:'fa-solid fa-gear'},null,-1)])]),(0,l.createElementVNode)('button',{onClick:a[2]||(a[2]=e=>(0,l.unref)(s)((0,l.unref)(n))),disabled:(0,l.unref)(c)},[a[5]||(a[5]=(0,l.createTextVNode)(' åˆ·æ–°è´§æ¶ ',-1)),(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fa-solid fa-rotate',{'fa-spin':(0,l.unref)(c)}])},null,2)],8,nl)])])]),(0,l.createElementVNode)('div',ll,[(0,l.unref)(o).length?((0,l.openBlock)(),(0,l.createElementBlock)('div',ol,[a[6]||(a[6]=(0,l.createElementVNode)('div',{class:'section-title grid-col-span-full'},'ä»Šæ—¥ä¾›åº”',-1)),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(o),e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:(0,l.normalizeClass)(['master-grid-item',{selected:(0,l.unref)(r)?.id===e.id}]),key:e.id,onClick:t=>r.value=e},[(0,l.createElementVNode)('div',cl,['item'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',sl)):(0,l.createCommentVNode)('v-if',!0),'consumable'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',il)):(0,l.createCommentVNode)('v-if',!0),'cloth'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',dl)):(0,l.createCommentVNode)('v-if',!0),'weapon'==e.type?((0,l.openBlock)(),(0,l.createElementBlock)('i',ul)):(0,l.createCommentVNode)('v-if',!0),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(e.name),1)]),(0,l.createElementVNode)('div',ml,(0,l.toDisplayString)(e.price)+'g',1)],10,rl))),128))])):(0,l.unref)(c)?((0,l.openBlock)(),(0,l.createElementBlock)('div',pl,[...a[7]||(a[7]=[(0,l.createElementVNode)('i',{class:'fa-solid fa-spinner fa-spin'},null,-1),(0,l.createTextVNode)(' æ­£åœ¨è”ç»œå•†äºº... ',-1)])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',fl,'è´§æ¶ç©ºç©ºå¦‚ä¹Ÿï¼Œç‚¹å‡»åˆ·æ–°å°è¯•ç”Ÿæˆ')),(0,l.createElementVNode)('div',vl,[(0,l.unref)(r)?((0,l.openBlock)(),(0,l.createElementBlock)('div',yl,[(0,l.createElementVNode)('div',kl,(0,l.toDisplayString)((0,l.unref)(r).name),1),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['item-quality',(0,l.unref)(r).quality])},(0,l.toDisplayString)((0,l.unref)(B)[(0,l.unref)(r).quality]),3),(0,l.createElementVNode)('div',gl,(0,l.toDisplayString)((0,l.unref)(x)[(0,l.unref)(r).type])+' / '+(0,l.toDisplayString)((0,l.unref)(C)[(0,l.unref)(r).tier]),1),(0,l.unref)(r).slot?((0,l.openBlock)(),(0,l.createElementBlock)('div',hl,'éƒ¨ä½: '+(0,l.toDisplayString)((0,l.unref)(D)[(0,l.unref)(r).slot]),1)):(0,l.createCommentVNode)('v-if',!0),(0,l.createElementVNode)('div',El,(0,l.toDisplayString)((0,l.unref)(r).description),1),(0,l.createElementVNode)('div',bl,[(0,l.createElementVNode)('div',Nl,'ä»·æ ¼: '+(0,l.toDisplayString)((0,l.unref)(r).price)+' é‡‘å¸',1),(0,l.createElementVNode)('button',{class:'buy-button',disabled:(0,l.unref)(t).playerDynamicData.gold<(0,l.unref)(r).price,onClick:a[3]||(a[3]=(...e)=>(0,l.unref)(i)&&(0,l.unref)(i)(...e))},' è´­ä¹° ',8,Vl)])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Bl,'é€‰æ‹©ä¸€ä¸ªå•†å“æŸ¥çœ‹è¯¦æƒ…'))])])]))}}),Dl=(0,ue.A)(Cl,[['__scopeId','data-v-2849c3dc']]),xl={class:'status-bar'},wl={class:'scene-section'},Sl={class:'scene-details'},Pl={class:'scene-left'},Il={class:'location'},Al={class:'scene-right'},Ml={class:'meta-info'},$l={class:'meta-info'},Ol={class:'tabs'},Tl={class:'tab-content'},_l=(0,l.defineComponent)({__name:'App',setup(e){const t=(0,l.ref)('party'),a=(0,l.ref)(!1),n=(0,l.ref)(''),o=(0,l.shallowRef)(null),r=(0,l.ref)(''),c=(0,l.ref)(null),s=(0,l.ref)(null),i=()=>{n.value='ä¸–ç•Œåœ°å›¾',o.value=mn,r.value='',a.value=!0},d=e=>{s.value=e||null,n.value=e?'ç¼–è¾‘å¥—è£…':'æ–°å¢å¥—è£…',o.value=zn,a.value=!0},u=()=>{n.value='äº¤æ˜“æ‰€ API è®¾ç½®',o.value=Rn,a.value=!0},m=e=>{r.value=e},p=()=>{if(o.value===mn&&r.value){const[e,t]=r.value.split(', ');console.log('å·²ç¡®è®¤é€‰æ‹©åœ°ç‚¹:',e,t)}else if(o.value===zn){const e=c.value?.getOutfitData();let t;if(e){let a=s.value;if(t=a?'updateByObject':'insertByObject',!a){a=`O${Object.keys(f.value.wardrobe.ownedOutfits).reduce((e,t)=>{const a=parseInt(t.slice(1),10);return a>e?a:e},0)+1}`}k([{event:t,detail:{wardrobe:{ownedOutfits:{[a]:e}}}}])}}else if(o.value===Rn){const e=c.value?.getApiConfig();if(e){const t=!!f.value.system.tradeCustomApi;k([{event:t?'updateByPath':'insertByPath',detail:{path:'system.tradeCustomApi',value:e}}]),toastr.success('API é…ç½®å·²ä¿å­˜')}}else console.log('ç¡®è®¤æŒ‰é’®è¢«ç‚¹å‡»');a.value=!1},{mvu:f,rawMvuData:y,handleMvuUpdate:k,initialize:g}=v();return(0,l.onMounted)(async()=>{await g()}),(e,r)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',xl,[r[10]||(r[10]=(0,l.createElementVNode)('div',{class:'corner left-top'},null,-1)),r[11]||(r[11]=(0,l.createElementVNode)('div',{class:'corner right-top'},null,-1)),r[12]||(r[12]=(0,l.createElementVNode)('div',{class:'corner left-bottom'},null,-1)),r[13]||(r[13]=(0,l.createElementVNode)('div',{class:'corner right-bottom'},null,-1)),(0,l.createCommentVNode)(' åœºæ™¯ä¿¡æ¯ - é¡¶éƒ¨æ¨ªæ  '),(0,l.createElementVNode)('div',wl,[(0,l.createElementVNode)('div',Sl,[(0,l.createElementVNode)('div',Pl,[(0,l.createElementVNode)('div',Il,'ğŸ° '+(0,l.toDisplayString)((0,l.unref)(f).worldInfo.currentRegion)+' - '+(0,l.toDisplayString)((0,l.unref)(f).worldInfo.currentLocation),1)]),(0,l.createElementVNode)('div',Al,[(0,l.createElementVNode)('div',Ml,[r[8]||(r[8]=(0,l.createTextVNode)(' æ—¶é—´: ',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(f).worldInfo.date)+' '+(0,l.toDisplayString)((0,l.unref)(f).worldInfo.time),1)]),(0,l.createElementVNode)('div',$l,[r[9]||(r[9]=(0,l.createTextVNode)(' å¤©æ°”: ',-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)((0,l.unref)(f).worldInfo.weather),1)])])])]),(0,l.createElementVNode)('div',Ol,[(0,l.createCommentVNode)(' <button @click="testFunc">æµ‹è¯•</button> '),(0,l.createElementVNode)('button',{onClick:r[0]||(r[0]=e=>t.value='world'),class:(0,l.normalizeClass)({active:'world'===t.value})},'ä¸–ç•Œ',2),(0,l.createElementVNode)('button',{onClick:r[1]||(r[1]=e=>t.value='party'),class:(0,l.normalizeClass)({active:'party'===t.value})},'é˜Ÿä¼',2),(0,l.createElementVNode)('button',{onClick:r[2]||(r[2]=e=>t.value='wardrobe'),class:(0,l.normalizeClass)({active:'wardrobe'===t.value})},'è¡£æŸœ',2),(0,l.createElementVNode)('button',{onClick:r[3]||(r[3]=e=>t.value='quests'),class:(0,l.normalizeClass)({active:'quests'===t.value})},'ä»»åŠ¡æ—¥å¿—',2),(0,l.createElementVNode)('button',{onClick:r[4]||(r[4]=e=>t.value='bag'),class:(0,l.normalizeClass)({active:'bag'===t.value})},'å°é˜ŸèƒŒåŒ…',2),(0,l.createElementVNode)('button',{onClick:r[5]||(r[5]=e=>t.value='trade'),class:(0,l.normalizeClass)({active:'trade'===t.value})},'äº¤æ˜“æ‰€',2),(0,l.createElementVNode)('button',{onClick:r[6]||(r[6]=e=>t.value='codex'),class:(0,l.normalizeClass)({active:'codex'===t.value})},'å›¾é‰´',2)]),(0,l.createElementVNode)('div',Tl,[(0,l.createCommentVNode)(' ä¸–ç•Œ '),'world'===t.value?((0,l.openBlock)(),(0,l.createBlock)(an,{key:0,onOpenMap:i})):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' é˜Ÿä¼ '),'party'===t.value?((0,l.openBlock)(),(0,l.createBlock)(Ct,{key:1})):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' è¡£æŸœ '),'wardrobe'===t.value?((0,l.openBlock)(),(0,l.createBlock)(Pa,{key:2,onOpenUpdate:d})):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' ä»»åŠ¡ä¸æ¢ç´¢ '),'quests'===t.value?((0,l.openBlock)(),(0,l.createBlock)(Yt,{key:3})):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' èƒŒåŒ… '),'bag'===t.value?((0,l.openBlock)(),(0,l.createBlock)(me,{key:4})):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' äº¤æ˜“ '),'trade'===t.value?((0,l.openBlock)(),(0,l.createBlock)(Dl,{key:5,onOpenSettings:u})):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' å›¾é‰´ '),'codex'===t.value?((0,l.openBlock)(),(0,l.createBlock)(Ue,{key:6})):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createVNode)(gn,{modelValue:a.value,'onUpdate:modelValue':r[7]||(r[7]=e=>a.value=e),title:n.value,onConfirm:p},{default:(0,l.withCtx)(()=>[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(o.value),{ref_key:'modalComponentRef',ref:c,'outfit-id':s.value,onPointSelected:m},null,40,['outfit-id']))]),footer:(0,l.withCtx)(()=>[(0,l.createCommentVNode)(' <button @click="showModal = false">å…³é—­</button> '),(0,l.createElementVNode)('button',{onClick:p},'ç¡®è®¤')]),_:1},8,['modelValue','title'])]))}}),Fl=_l;$(()=>{(0,l.createApp)(Fl).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>.bag-container[data-v-0fca49fe]{padding:10px 40px;display:flex;flex-direction:column;gap:10px}.bag-container .bag-grid[data-v-0fca49fe]{grid-template-columns:repeat(auto-fill,minmax(80px,1fr))}.bag-container .bag-grid .master-grid-item[data-v-0fca49fe]{aspect-ratio:1/1;display:flex;flex-direction:column;align-items:center;justify-content:space-between;gap:4px;padding:12px 8px}.bag-container .bag-grid .master-grid-item i[data-v-0fca49fe]{font-size:20px;color:var(--italics_text_color)}.inventory-mini[data-v-0fca49fe]{font-size:var(--font-size-small);color:var(--italics_text_color);line-height:1.5;padding:10px;display:flex;justify-content:space-between;align-items:center}.inventory-mini .gold[data-v-0fca49fe]{color:var(--quote_text_color);font-weight:bold}
.codex-container[data-v-16573329]{padding:10px 20px;display:flex;gap:10px;height:100%}.codex-container .codex-grid[data-v-16573329]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.codex-container .codex-grid .master-grid-item[data-v-16573329]{padding:10px}
.party-container .character-card[data-v-11013fca]{background:var(--blur_tint_color);border:1px solid var(--border_color);border-radius:4px;margin-bottom:10px;cursor:pointer}.party-container .character-card .char-header[data-v-11013fca]{padding:10px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border_color)}.party-container .character-card .char-header .char-name[data-v-11013fca]{font-size:var(--font-size-medium);font-weight:bold;color:var(--main_text_color)}.party-container .character-card .char-header .right-btns[data-v-11013fca]{display:flex;justify-content:flex-end;align-items:center;gap:4px}.party-container .character-card .char-header .right-btns span[data-v-11013fca]{font-size:var(--font-size-small);color:var(--italics_text_color)}.party-container .character-card .char-header .right-btns span+button[data-v-11013fca]{margin-left:4px}.party-container .character-card .column[data-v-11013fca]{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:10px 40px}.party-container .character-card.selected[data-v-11013fca]{border-color:var(--quote_text_color);box-shadow:0 0 5px var(--quote_text_color)}.party-container .character-card[data-v-11013fca]:last-child{margin-bottom:0}.party-container .scene-detail-item[data-v-11013fca]{display:flex;flex-direction:column;gap:4px}.party-container .scene-detail-item .column[data-v-11013fca]{display:grid;grid-template-columns:1fr;gap:10px}.party-container .scene-detail-item .column .column-content[data-v-11013fca]{display:grid;grid-template-columns:60px 1fr;color:var(--main_text_color);font-size:var(--font-size-small)}
.quest-container[data-v-5c545612]{padding:10px 20px;display:flex;gap:10px;height:100%}.quest-container .quest-item-container[data-v-5c545612]{width:100%;max-height:360px;overflow-y:auto}.quest-container .quest-phase[data-v-5c545612]{font-size:var(--font-size-small);color:var(--main_text_color);margin-bottom:6px}.quest-container .quest-item[data-v-5c545612]{margin-bottom:6px;padding:8px;background:var(--blur_tint_color);border-left:3px solid var(--quote_text_color);border-radius:2px}.quest-container .quest-item.side-quest[data-v-5c545612]{border-left-color:#563989}.quest-container .quest-item.main-quest[data-v-5c545612]{border-left-color:#898839}.quest-container .quest-item .quest-title[data-v-5c545612]{font-size:var(--font-size-small);font-weight:bold;color:var(--main_text_color);margin-bottom:4px;display:flex;justify-content:space-between;align-items:center}.quest-container .quest-item .quest-description[data-v-5c545612]{font-size:var(--font-size-extra-small);color:var(--quote_text_color);line-height:1.5}
.wardrobe-container[data-v-4cc30906]{display:flex;gap:16px;height:100%;width:100%;padding:0 40px}.wardrobe-container .outfit-list[data-v-4cc30906]{width:180px;border-right:1px solid var(--border_color);padding-right:16px;flex-shrink:0;overflow-y:auto}.wardrobe-container .outfit-list .outfit-item[data-v-4cc30906]{padding:8px 12px;border-radius:4px;cursor:pointer;margin:4px 0;transition:all .2s ease;font-size:var(--font-size-small);display:flex;justify-content:space-between;align-items:center}.wardrobe-container .outfit-list .outfit-item[data-v-4cc30906]:hover{background-color:var(--blur_tint_color_less)}.wardrobe-container .outfit-list .outfit-item.selected[data-v-4cc30906]{background-color:var(--blur_tint_color);border-color:var(--border_color)}.wardrobe-container .outfit-list .outfit-item.active[data-v-4cc30906]{font-weight:bold;color:var(--main_text_color)}.wardrobe-container .outfit-list .outfit-item .current-tag[data-v-4cc30906]{font-size:var(--font-size-extra-small);color:var(--quote_text_color);font-weight:normal}.wardrobe-container .outfit-details[data-v-4cc30906]{flex-grow:1;display:flex;flex-direction:column;gap:12px}.wardrobe-container .outfit-details .equipment-slots[data-v-4cc30906]{display:grid;grid-template-columns:repeat(2,1fr);-moz-column-gap:10px;column-gap:10px}.wardrobe-container .outfit-details .equipment-slots .slot-item[data-v-4cc30906]{display:flex;justify-content:space-between;padding:5px 0;font-size:var(--font-size-small);border-bottom:1px solid var(--bot_mes_blur_tint_color)}.wardrobe-container .outfit-details .equipment-slots .slot-item .slot-name[data-v-4cc30906]{color:var(--quote_text_color);text-transform:capitalize;font-weight:bold}.wardrobe-container .outfit-details .equipment-slots .slot-item .item-name .item-details[data-v-4cc30906]{color:var(--italics_text_color);font-size:var(--font-size-extra-small)}.wardrobe-container .outfit-details .equipment-slots .slot-item .item-name-empty[data-v-4cc30906]{color:var(--italics_text_color)}.wardrobe-container .outfit-details .clothing-attributes[data-v-4cc30906]{margin-top:auto;padding-top:10px}.wardrobe-container .outfit-details .clothing-attributes .attr[data-v-4cc30906]{display:flex;justify-content:space-between;font-size:var(--font-size-small);padding:3px 0}.wardrobe-container .outfit-header[data-v-4cc30906]{display:flex;justify-content:space-between;align-items:center;padding-bottom:6px;border-bottom:1px solid var(--border_color)}.wardrobe-container .outfit-header .section-title[data-v-4cc30906]{margin-bottom:0;border-bottom:none;padding-bottom:0}
.world-container[data-v-2865ebf0]{padding:10px 40px}.world-container .scene-detail-item[data-v-2865ebf0]{display:flex;flex-direction:column;gap:4px;padding:4px;background:var(--blur_tint_color);border-radius:4px}.world-container .scene-detail-item .column[data-v-2865ebf0]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.world-container .scene-detail-item .column .column-content[data-v-2865ebf0]{display:grid;grid-template-columns:60px 1fr;color:var(--main_text_color);font-size:var(--font-size-small)}.world-container .scene-detail-item .npc-name[data-v-2865ebf0]{background:var(--blur_tint_color);border-radius:3px;border:1px solid var(--border_color);color:var(--main_text_color);font-size:var(--font-size-small);cursor:pointer;padding:2px 5px;border-radius:3px;transition:background-color .3s}.world-container .scene-detail-item .npc-name.archived[data-v-2865ebf0]{background-color:var(--underline_text_color)}.world-container .scene-detail-item .npc-name[data-v-2865ebf0]:hover{background:var(--user_mes_blur_tint_color)}.world-container .scene-detail-item .npc-name.selected[data-v-2865ebf0]{background-color:var(--quote_text_color);color:#fff}.world-container .faction-card[data-v-2865ebf0]{background:var(--blur_tint_color);border:1px solid var(--border_color);border-radius:4px;margin-bottom:4px}.world-container .faction-card.archived[data-v-2865ebf0]{background-color:var(--underline_text_color)}.world-container .faction-card .faction-header[data-v-2865ebf0]{padding:6px 5px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border_color)}.world-container .faction-card .faction-header .faction-name[data-v-2865ebf0]{font-size:var(--font-size-small);font-weight:bold;color:var(--main_text_color)}.world-container .faction-card .faction-header .faction-prestige[data-v-2865ebf0]{padding:0 4px;font-size:var(--font-size-small);border:1px solid var(--border_color);border-radius:4px}.world-container .faction-card .faction-content[data-v-2865ebf0]{padding:6px 5px}.world-container .faction-card .faction-content span[data-v-2865ebf0]{font-size:var(--font-size-small);color:var(--italics_text_color)}.world-container .faction-card[data-v-2865ebf0]:last-child{margin-bottom:0}
.map-selector-wrapper[data-v-df92daa8]{display:flex;flex-direction:column;gap:6px}.map-controls[data-v-df92daa8]{display:flex;justify-content:space-between;align-items:center;min-height:24px;background-color:rgba(0,0,0,0.1);border-radius:4px}.selected-point-preview[data-v-df92daa8]{text-align:left;font-weight:bold;padding:0 0.5rem;flex-grow:1}.helper-controls[data-v-df92daa8]{display:flex;align-items:center;gap:8px;white-space:nowrap}.helper-controls label[data-v-df92daa8]{display:flex;align-items:center;gap:4px}.canvas-container[data-v-df92daa8]{min-width:450px;width:100%;position:relative;aspect-ratio:500/300}canvas[data-v-df92daa8]{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid #ccc;cursor:pointer}

.modal-overlay[data-v-7cce4ff6]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(30,30,30,.6);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[data-v-7cce4ff6]{background-color:var(--blur_tint_color);color:var(--main_text_color);border-radius:8px;box-shadow:0 5px 15px rgba(30,30,30,.5);max-width:95%;display:flex;flex-direction:column;border:1px solid var(--border_color)}.modal-header[data-v-7cce4ff6]{display:flex;justify-content:space-between;align-items:center;padding:6px 12px;border-bottom:1px solid var(--border_color)}.header-buttons[data-v-7cce4ff6]{display:flex;align-items:center;gap:6px}.modal-header h3[data-v-7cce4ff6]{margin:0;font-size:var(--font-size-large)}.close-button[data-v-7cce4ff6],.fullscreen-button[data-v-7cce4ff6]{background:rgba(0,0,0,0);border:none;line-height:1;color:var(--italics_text_color);cursor:pointer;padding:0}.close-button[data-v-7cce4ff6]{font-size:var(--font-size-large)}.fullscreen-button[data-v-7cce4ff6]{font-size:var(--font-size-large)}.close-button[data-v-7cce4ff6]:hover,.fullscreen-button[data-v-7cce4ff6]:hover{color:var(--main_text_color)}.modal-body[data-v-7cce4ff6]{padding:16px 12px;flex-grow:1;overflow-y:auto}.modal-footer[data-v-7cce4ff6]{padding:6px 12px;border-top:1px solid var(--border_color);display:flex;justify-content:flex-end;gap:6px}
[data-v-0ea8379a]:root{--main_text_color:rgba(38,20,50,1);--italics_text_color:rgba(108,108,108,1);--underline_text_color:rgba(223,223,223,1);--quote_text_color:rgb(86,57,137);--blur_tint_color:rgba(238,234,231,1);--blur_tint_color_fill:rgba(238,234,231,0.65);--chat_tint_color:rgba(238,234,231,0);--user_mes_blur_tint_color:rgba(38,38,41,0.3);--bot_mes_blur_tint_color:rgba(250,247,246,0.05);--shadow_color:rgba(30,30,30,1);--border_color:rgba(198,198,198,0.82);--quality-common-color:#9d9d9d;--quality-good-color:#14a700;--quality-excellent-color:#0070dd;--quality-masterwork-color:#a335ee;--quality-legendary-color:#ff8000;--font-size-large:16px;--font-size-medium:14px;--font-size-small:12px;--font-size-extra-small:11px}.outfit-editor-container[data-v-0ea8379a]{padding:6px}.outfit-meta-editor[data-v-0ea8379a]{display:flex;flex-direction:column;gap:12px;margin-bottom:4px;border:1px solid var(--border_color);border-radius:4px;padding:6px}.outfit-selector-container[data-v-0ea8379a]{display:flex;gap:16px}.outfit-grid[data-v-0ea8379a]{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;width:321px;flex-shrink:0}.outfit-slot[data-v-0ea8379a]{display:flex;align-items:center;justify-content:center;aspect-ratio:1/1;border:1px dashed var(--border_color);color:var(--italics_text_color);cursor:pointer;transition:all .2s ease-in-out;font-size:var(--font-size-small)}.outfit-slot[data-v-0ea8379a]:hover{border-style:solid;color:var(--main_text_color)}.outfit-slot.selected[data-v-0ea8379a]{border-style:solid;border-color:var(--quote_text_color);color:var(--quote_text_color);font-weight:bold}.item-display-panel[data-v-0ea8379a]{flex:1;border:1px solid var(--border_color);border-radius:4px;padding:16px;min-width:200px;max-height:300px;overflow-y:auto}.item-display-panel .item-list ul[data-v-0ea8379a]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.item-display-panel .item-card[data-v-0ea8379a]{display:flex;justify-content:space-between;align-items:center;border:1px solid var(--border_color);border-radius:4px;padding:8px;color:var(--main_text_color);transition:all .2s ease-in-out}.item-display-panel .item-card.equipped[data-v-0ea8379a]{border-color:var(--quote_text_color);background-color:rgba(86,57,137,.05)}.item-display-panel .item-card button[data-v-0ea8379a]{background-color:var(--blur_tint_color);border:1px solid var(--border_color);border-radius:4px;padding:4px 8px;cursor:pointer;flex-shrink:0;margin-left:8px}.item-display-panel .item-card button[data-v-0ea8379a]:hover{background-color:var(--underline_text_color)}.item-display-panel .item-info[data-v-0ea8379a]{font-size:var(--font-size-medium)}.item-display-panel .item-description[data-v-0ea8379a]{font-size:var(--font-size-small);color:var(--italics_text_color);margin-top:4px}.item-display-panel .empty-text[data-v-0ea8379a]{display:flex;height:100%;align-items:center;justify-content:center;color:var(--italics_text_color);font-size:var(--font-size-small)}
.settings-form[data-v-1c36cbf4]{padding:10px;display:flex;flex-direction:column;gap:15px;min-width:300px}.settings-form .form-group[data-v-1c36cbf4]{display:flex;flex-direction:column;gap:5px}.settings-form .form-group label[data-v-1c36cbf4]{font-size:var(--font-size-small);color:var(--italics_text_color);font-weight:bold}.settings-form .form-group input[data-v-1c36cbf4]{background:var(--bot_mes_blur_tint_color);border:1px solid var(--border_color);color:var(--main_text_color);padding:8px 12px;border-radius:4px;font-size:var(--font-size-medium)}.settings-form .form-group input[data-v-1c36cbf4]:focus{border-color:var(--quote_text_color);outline:none}.settings-form .settings-tip[data-v-1c36cbf4]{font-size:var(--font-size-extra-small);color:var(--italics_text_color);font-style:italic}
.trade-container[data-v-2849c3dc]{padding:10px 40px;display:flex;flex-direction:column}.trade-container .trade-grid .master-grid-item[data-v-2849c3dc]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end;padding:8px 12px}.trade-container .trade-grid .master-grid-item .item-main[data-v-2849c3dc]{text-align:right}.trade-container .trade-grid .master-grid-item .item-price[data-v-2849c3dc]{font-weight:bold;color:var(--quote_text_color);font-size:var(--font-size-small)}.trade-container .trade-actions[data-v-2849c3dc]{margin-top:20px;padding-top:15px;border-top:1px solid var(--border_color);display:flex;justify-content:space-between;align-items:center}.trade-container .trade-actions .price-tag[data-v-2849c3dc]{font-size:var(--font-size-medium);font-weight:bold}.trade-container .trade-actions .buy-button[data-v-2849c3dc]{background:var(--quote_text_color);color:#fff;border:none;padding:8px 20px;border-radius:4px;cursor:pointer;transition:background .2s}.inventory-mini[data-v-2849c3dc]{font-size:var(--font-size-small);color:var(--italics_text_color);line-height:1.5;padding:10px;display:flex;justify-content:space-between;align-items:center}.inventory-mini .gold[data-v-2849c3dc]{color:var(--quote_text_color);font-weight:bold}.inventory-mini .trade-controls[data-v-2849c3dc]{display:flex;align-items:stretch;gap:8px}.inventory-mini .trade-controls .refresh-textarea[data-v-2849c3dc]{width:200px;height:28px;background:var(--input_background_color);color:var(--main_text_color);border:1px solid var(--border_color);border-radius:4px;padding:4px 8px;font-size:var(--font-size-small);resize:none;font-family:inherit}.inventory-mini .trade-controls .refresh-textarea[data-v-2849c3dc]:focus{outline:none;border-color:var(--quote_text_color)}.inventory-mini .trade-controls .refresh-textarea[data-v-2849c3dc]:disabled{opacity:.6;cursor:not-allowed}
.status-bar{width:100%;min-height:450px;max-height:580px;background-color:var(--blur_tint_color);background-image:url("https://www.transparenttextures.com/patterns/cartographer.png");color:var(--main_text_color);border:2px solid var(--border_color);border-radius:8px;display:flex;flex-direction:column;overflow:hidden;position:relative}.status-bar .scene-section{grid-column:1/-1;padding:20px 80px 14px 50px;border-bottom:1px solid var(--border_color)}.status-bar .scene-section .location{font-size:var(--font-size-large);color:var(--main_text_color);font-weight:bold;margin-bottom:8px}.status-bar .scene-section .scene-details{display:flex;justify-content:space-between;align-items:center;gap:16px;font-size:var(--font-size-small)}.status-bar .scene-section .scene-details .scene-left{display:flex;gap:16px;flex:1}.status-bar .scene-section .scene-details .scene-right{font-size:var(--font-size-small)}.status-bar .scene-section .scene-details .meta-info{color:var(--italics_text_color)}.status-bar .scene-section .scene-details .meta-info span{color:var(--quote_text_color);font-weight:bold}.status-bar .tabs{display:flex;border-bottom:1px solid var(--border_color);background-color:var(--blur_tint_color_fill);gap:4px}.status-bar .tabs button{flex:1;padding:10px;font-weight:bold;border-radius:0}.status-bar .tab-content{flex:1;overflow-y:auto;display:flex;flex-direction:column;padding:16px;background-color:var(--blur_tint_color_fill);min-height:200px}.status-bar .tab-content::-webkit-scrollbar{width:6px}.status-bar .tab-content::-webkit-scrollbar-track{background:var(--bot_mes_blur_tint_color)}.status-bar .tab-content::-webkit-scrollbar-thumb{background:var(--border_color);border-radius:3px}.status-bar .section-title{font-size:var(--font-size-small);font-weight:bold;color:var(--quote_text_color);margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid var(--border_color);text-transform:uppercase;letter-spacing:1px;display:flex;justify-content:space-between;align-items:center}
.corner{z-index:1;width:97px;height:94px;background-size:97px 94px;background-image:url(data:image/png;base64,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)}.corner.left-top,.corner.left-bottom,.corner.right-top,.corner.right-bottom{position:absolute;pointer-events:none}.corner.left-top{left:0;top:0}.corner.left-bottom{left:0;bottom:0;transform:rotate(270deg)}.corner.right-top{right:0;top:0;transform:rotate(90deg)}.corner.right-bottom{right:0;bottom:0;transform:rotate(180deg)}button.small{padding:0 6px}button{padding:4px 12px;background:var(--blur_tint_color);border:1px solid var(--border_color);color:var(--main_text_color);cursor:pointer;border-radius:4px;font-weight:bold;font-size:var(--font-size-small);transition:all .2s ease}button:hover:not(:disabled){background:var(--user_mes_blur_tint_color)}button:hover:not(.active){background:var(--blur_tint_color_less)}button:disabled{opacity:.5;cursor:not-allowed}button.active{background:var(--quote_text_color);color:#fff;border-color:var(--quote_text_color)}.master-tabs{width:96px;display:flex;flex-direction:column;flex-shrink:0;gap:4px;padding-right:8px;border-right:1px solid var(--border_color)}.master-tabs button:not(.active){background:rgba(0,0,0,0);border:none;text-align:right}.master-detail-body{display:grid;grid-template-columns:2fr 1fr;gap:10px;flex-grow:1;overflow:hidden}.master-detail-body .section-title{margin-top:12px;margin-bottom:0}.master-detail-body .section-title:first-child{margin-top:0}.master-detail-body.reverse{grid-template-columns:1fr 2fr}.master-grid{display:grid;gap:10px;padding:10px;border-radius:4px;background:var(--blur_tint_color);overflow-y:auto;max-height:360px;grid-template-columns:repeat(auto-fit,minmax(120px,0.33fr));grid-auto-rows:min-content;border:1px solid var(--border_color)}.master-grid-item{background-color:var(--blur_tint_color_fill);border:1px solid var(--border_color);border-radius:4px;text-align:center;font-size:var(--font-size-small);color:var(--main_text_color);cursor:pointer;transition:all .2s ease-in-out;overflow:hidden;max-width:1/3fr}.master-grid-item:hover{background-color:var(--blur_tint_color_less);transform:scale(1.05)}.master-grid-item.selected{border-color:var(--quote_text_color);box-shadow:0 0 5px var(--quote_text_color)}.detail-panel{position:relative;background:var(--blur_tint_color);padding:15px;border-radius:4px;color:var(--main_text_color);overflow-y:auto;border:1px solid var(--border_color)}.detail-panel .details-content{display:flex;flex-direction:column;gap:8px}.detail-panel .details-content .edit-form .form-group{margin-bottom:8px;display:flex;flex-direction:column}.detail-panel .details-content .edit-form label{font-weight:bold;margin-bottom:4px;font-size:var(--font-size-medium)}.detail-panel .details-content .edit-form input,.detail-panel .details-content .edit-form select,.detail-panel .details-content .edit-form textarea{width:100%;padding:4px;border:1px solid var(--primary_color);border-radius:4px;background-color:var(--blur_tint_color);color:var(--italics_text_color);font-size:var(--font-size-small)}.detail-panel .details-content .edit-form textarea{min-height:80px;resize:vertical}.detail-panel .details-content .edit-buttons{margin-top:12px;text-align:right}.detail-panel .details-content .edit-buttons button{margin-left:8px;padding:4px 8px;cursor:pointer}.detail-panel .item-name{font-size:var(--font-size-medium);font-weight:bold;margin-bottom:8px}.detail-panel .item-quality{font-weight:bold}.detail-panel .item-quality.common{color:var(--quality-common-color)}.detail-panel .item-quality.good{color:var(--quality-good-color)}.detail-panel .item-quality.excellent{color:var(--quality-excellent-color)}.detail-panel .item-quality.masterwork{color:var(--quality-masterwork-color)}.detail-panel .item-quality.legendary{color:var(--quality-legendary-color)}.detail-panel .item-type-tier,.detail-panel .item-slot,.detail-panel .detail-item{font-size:var(--font-size-small);color:var(--italics_text_color)}.detail-panel .item-description{margin-top:10px;font-size:var(--font-size-small);line-height:1.4}.attr-points{grid-column:1/-1}.stat,.attr{font-size:var(--font-size-small);color:var(--italics_text_color)}.attr{display:flex;justify-content:space-between}.stat{display:grid;grid-template-columns:.3fr 1fr .8fr;align-items:center;-moz-column-gap:4px;column-gap:4px;min-height:20px}.stat .bar{height:12px;border:1px solid var(--border_color)}.stat .bar .fill{height:100%;background-color:var(--quote_text_color)}.attributes{display:grid;grid-template-columns:1fr 1fr;-moz-column-gap:10px;column-gap:10px}.attributes .attr-value{display:inline-block;width:20px;text-align:center}.data-empty{font-size:12px;color:#6c6c6c;font-style:italic;padding:20px 0;display:flex;justify-content:center;align-items:center;border-radius:4px;width:100%;height:100%}.flex-between{display:flex;justify-content:space-between;align-items:center}.grid-col-span-full{grid-column:1/-1}.grid-col-1{grid-template-columns:1fr}
:root{--main_text_color:rgba(38,20,50,1);--italics_text_color:rgba(108,108,108,1);--underline_text_color:rgba(223,223,223,1);--quote_text_color:rgb(86,57,137);--blur_tint_color:rgba(238,234,231,1);--blur_tint_color_fill:rgba(238,234,231,0.65);--chat_tint_color:rgba(238,234,231,0);--user_mes_blur_tint_color:rgba(38,38,41,0.3);--bot_mes_blur_tint_color:rgba(250,247,246,0.05);--shadow_color:rgba(30,30,30,1);--border_color:rgba(198,198,198,0.82);--quality-common-color:#9d9d9d;--quality-good-color:#14a700;--quality-excellent-color:#0070dd;--quality-masterwork-color:#a335ee;--quality-legendary-color:#ff8000;--font-size-large:16px;--font-size-medium:14px;--font-size-small:12px;--font-size-extra-small:11px}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>