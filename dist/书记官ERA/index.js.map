{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/external var \"_\"","src://tavern_helper_template/src/ERA/hooks/useMvuData.ts","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/ERA/itemConstants.ts","src://tavern_helper_template/src/ERA/components/bagTab.vue","src://tavern_helper_template/src/ERA/hooks/useInventory.ts","webpack://tavern_helper_template/src/ERA/components/bagTab.vue?9a3d","src://tavern_helper_template/src/ERA/hooks/useCodex.ts","src://tavern_helper_template/src/ERA/components/codexTab.vue","webpack://tavern_helper_template/src/ERA/components/codexTab.vue?1b8a","src://tavern_helper_template/src/ERA/hooks/useParty.ts","src://tavern_helper_template/src/ERA/components/partyTab.vue","webpack://tavern_helper_template/src/ERA/components/partyTab.vue?b16f","src://tavern_helper_template/src/ERA/components/questsTab.vue","src://tavern_helper_template/src/ERA/hooks/useQuests.ts","webpack://tavern_helper_template/src/ERA/components/questsTab.vue?7142","src://tavern_helper_template/src/ERA/clothingConstants.ts","src://tavern_helper_template/src/ERA/components/wardTab.vue","src://tavern_helper_template/src/ERA/hooks/useWardrobe.ts","webpack://tavern_helper_template/src/ERA/components/wardTab.vue?3657","src://tavern_helper_template/src/ERA/components/worldTab.vue","src://tavern_helper_template/src/ERA/hooks/useWorld.ts","webpack://tavern_helper_template/src/ERA/components/worldTab.vue?3d14","webpack://tavern_helper_template/./src/ERA/components/MapSelector.vue?4d5f","webpack://tavern_helper_template/src/ERA/components/MapSelector.vue?a9b5","webpack://tavern_helper_template/./src/ERA/components/ModalDialog.vue?bf90","webpack://tavern_helper_template/src/ERA/components/ModalDialog.vue?1852","webpack://tavern_helper_template/./src/ERA/components/outfitSelector.vue?1aa1","webpack://tavern_helper_template/src/ERA/components/outfitSelector.vue?1a80","src://tavern_helper_template/src/ERA/App.vue","src://tavern_helper_template/src/ERA/hooks/useTest.ts","webpack://tavern_helper_template/src/ERA/App.vue?0071","src://tavern_helper_template/src/ERA/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","const __WEBPACK_NAMESPACE_OBJECT__ = _;","// hooks/useMvuData.ts\nimport _ from 'lodash';\nimport { ref, watch } from 'vue';\nimport { InventoryItem } from '../itemConstants';\nimport { NpcData, OutfitData } from '../types';\n\n//  MVU \nconst defaultMvuData = {\n  PlayerData: {\n    character: {\n      name: '',\n      level: 1,\n      gender: '',\n      race: '',\n      height: '',\n      build: '',\n      appearance: '',\n      personality: '',\n    },\n    status: {\n      health: {\n        current: 12,\n        max: 12,\n      },\n      mood: {\n        current: 0,\n        max: 100,\n      },\n      arousal: {\n        current: 50,\n        max: 100,\n      },\n    },\n    attributes: {\n      shooting: 0,\n      melee: 0,\n      construction: 0,\n      mining: 0,\n      cooking: 0,\n      planting: 0,\n      animals: 0,\n      crafting: 0,\n      artistic: 0,\n      medical: 0,\n      social: 0,\n      intellectual: 0,\n    },\n    progress: {\n      questPhase: '',\n      partyExperience: {\n        current: 0,\n        max: 100,\n      },\n      partyAttrPoints: 0,\n      currentQuest: {},\n      nextQuest: {},\n      pendingQuest: {},\n      completedQuest: {},\n    },\n    settings: {\n      date: '',\n      time: '',\n      weather: '',\n      currentRegion: '',\n      currentLocation: '',\n      nearbyNPC: {} as Record<string, NpcData>,\n      factionPrestige: {},\n      bestiary: {},\n      anecdotes: {},\n    },\n  },\n  PlayerDynamicData: {\n    inventory: {} as Record<string, InventoryItem>,\n    equipment: {\n      leftHand: 'none',\n      rightHand: 'none',\n      body: 'none',\n    },\n    clothingAttributes: {\n      defense: 0,\n      comfort: 0,\n      warmth: 0,\n      social: 0,\n      weight: 0,\n    },\n    gold: 100,\n  },\n  FollowerNPCData: {},\n  Wardrobe: {\n    ownedOutfits: {} as Record<string, OutfitData>,\n    currentOutfit: 'none',\n    //todo outfit\n  },\n  ArchivedData: {\n    factionPrestige: {},\n    bestiary: {},\n    anecdotes: {},\n  },\n  System: {\n    mainStoryMode: true,\n  },\n};\n\nconst ERA_EVENT = {\n  insertByObject: 'era:insertByObject',\n  updateByObject: 'era:updateByObject',\n  insertByPath: 'era:insertByPath',\n  updateByPath: 'era:updateByPath',\n  deleteByObject: 'era:deleteByObject',\n  deleteByPath: 'era:deleteByPath',\n};\ninterface Command {\n  event: string;\n  detail: any;\n}\n\nconst rawMvuData = ref<any | null>(null);\nconst currentMessageId = ref(0);\nconst mvu = ref(_.cloneDeep(defaultMvuData));\n\nexport function useMvuData() {\n  /**\n   *  MVU \n   * @param messageId  ID\n   */\n  const refreshMvuData = async (messageId?: number | 'latest') => {\n    try {\n      eventEmit('era:requestWriteDone');\n    } catch (error) {\n      console.error(` ${messageId}  MVU :`, error);\n      rawMvuData.value = null;\n    }\n  };\n\n  // MVU\n  const handleMvuUpdate = async (commands: Command[], successCallback?: () => void) => {\n    if (!rawMvuData.value) {\n      console.warn(' MVU , ');\n      toastr.error(': ');\n      return;\n    }\n    try {\n      commands.forEach((command: Command) => {\n        const event = command.event;\n        if (event in ERA_EVENT) {\n          //  detail \n          eventEmit(ERA_EVENT[event as keyof typeof ERA_EVENT], command.detail);\n        } else {\n          console.warn(`Invalid ERA event received: ${event}`);\n        }\n      });\n\n      // await refreshMvuData('latest');\n      successCallback?.();\n    } catch (error) {\n      console.error(' MVU :', error);\n      toastr.error(': ');\n    }\n  };\n\n  //  MVU ,  UI\n  watch(rawMvuData, newData => {\n    if (!newData) {\n      mvu.value = _.cloneDeep(defaultMvuData);\n      console.warn('MVU , ');\n      return;\n    }\n\n    // : \n    const baseState = _.cloneDeep(defaultMvuData);\n    mvu.value = _.merge(baseState, newData);\n  });\n\n  const initialize = async () => {\n    try {\n      currentMessageId.value = getCurrentMessageId();\n      refreshMvuData();\n    } catch (error) {\n      console.error(':', error);\n    }\n  };\n\n  eventOn('era:writeDone', detail => {\n    //  API \n    // if (detail.actions.apiWrite) {\n    //   console.log(' API UI ');\n    //   // return;\n    // }\n\n    if (!detail || !detail.statWithoutMeta) return;\n\n    //  statWithoutMeta  UI ERA \n    rawMvuData.value = detail.statWithoutMeta;\n    const currentRegion = rawMvuData.value?.PlayerData?.settings?.currentRegion;\n    let currentQuests: string[] = [];\n\n    if (mvu.value.System.mainStoryMode) {\n      // \n      const quest = rawMvuData.value?.PlayerData?.progress?.currentQuest || {};\n      // const currentQuests:string[] = Object.values(quest)\n      //   .filter((item:any) => item.name)\n      //   .map((item:any) => item.name);\n      currentQuests = Object.keys(quest);\n    }\n\n    updateWorldbookWith('', worldbook => {\n      const MAP_KEYWORD = '';\n      const QUEST_KEYWORDS = ['', ''];\n      const STRATEGY_TYPE = {\n        CONSTANT: 'constant' as const,\n        SELECTIVE: 'selective' as const,\n      };\n\n      return worldbook.map(entry => {\n        const isQuestEntry = QUEST_KEYWORDS.some(keyword => entry.name.includes(keyword));\n        const isMapEntry = entry.name.includes(MAP_KEYWORD);\n\n        //  strategy \n        if ((!isMapEntry && !isQuestEntry) || !entry.strategy) {\n          return entry;\n        }\n\n        // \n        const isQuestActive = currentQuests.some(quest => entry.strategy.keys.includes(quest));\n        const isMapActive = entry.strategy.keys.includes(currentRegion);\n        const newStrategyType = isQuestActive || isMapActive ? STRATEGY_TYPE.CONSTANT : STRATEGY_TYPE.SELECTIVE;\n\n        // \n        if (entry.strategy.type === newStrategyType) {\n          return entry;\n        }\n\n        //  strategy\n        return {\n          ...entry,\n          strategy: {\n            ...entry.strategy, //  strategy \n            type: newStrategyType, //  type \n          },\n        };\n      });\n    });\n  });\n\n  return {\n    mvu,\n    rawMvuData,\n    currentMessageId,\n    refreshMvuData,\n    handleMvuUpdate,\n    initialize,\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = z;","import { z } from 'zod';\n\n// ============  ============\n\nexport const TierTypeSchema = z.enum(['basic', 'light', 'medium', 'heavy']);\nexport type TierType = z.infer<typeof TierTypeSchema>;\nexport const QualityTypeSchema = z.enum(['common', 'good', 'excellent', 'masterwork', 'legendary']);\nexport type QualityType = z.infer<typeof QualityTypeSchema>;\nexport const SlotTypeSchema = z.enum([\n  'head',\n  'bodyInner',\n  'bodyArmor',\n  'hands',\n  'legsInner',\n  'legsArmor',\n  'feet',\n  'cloak',\n  'neck',\n  'ring',\n  'belt',\n]);\nexport type SlotType = z.infer<typeof SlotTypeSchema>;\nexport const ItemTypeSchema = z.enum(['cloth', 'weapon', 'item']);\nexport type ItemType = z.infer<typeof ItemTypeSchema>;\n\nexport const BaseInventoryItemSchema = z.object({\n  name: z.string().default(''),\n  description: z.string().default(''),\n  quality: QualityTypeSchema.default('common'),\n  type: ItemTypeSchema.default('item'),\n  tier: TierTypeSchema.default('basic'),\n  slot: SlotTypeSchema.optional(),\n});\nexport type BaseInventoryItem = z.infer<typeof BaseInventoryItemSchema>;\n\nexport const InventoryItemSchema = BaseInventoryItemSchema.extend({\n  id: z.string(),\n});\nexport type InventoryItem = z.infer<typeof InventoryItemSchema>;\n\nexport interface TierData {\n  name: string;\n  description?: string;\n  defenseCoeff: number;\n  comfortCoeff: number;\n  warmthCoeff: number;\n  socialCoeff: number;\n  weightCoeff: number;\n}\n\nexport interface QualityData {\n  name: string;\n  color: string;\n  allAttributesCoeff: number;\n}\n\nexport interface SlotData {\n  name: string;\n  baseDefense: number;\n  baseComfort: number;\n  baseWarmth: number;\n  baseSocial: number;\n  baseWeight: number;\n}\n\n// ============  ============\n\nconst ClothingSystemData = {\n  TierSystem: {\n    basic: {\n      name: '',\n      description: ',',\n      defenseCoeff: 0.5,\n      comfortCoeff: 1.2,\n      warmthCoeff: 1.0,\n      socialCoeff: 0.8,\n      weightCoeff: 0.6,\n    },\n    light: {\n      name: '',\n      description: ',',\n      defenseCoeff: 1.0,\n      comfortCoeff: 1.0,\n      warmthCoeff: 0.9,\n      socialCoeff: 1.0,\n      weightCoeff: 1.0,\n    },\n    medium: {\n      name: '',\n      description: ',',\n      defenseCoeff: 1.5,\n      comfortCoeff: 0.6,\n      warmthCoeff: 0.7,\n      socialCoeff: 1.2,\n      weightCoeff: 1.8,\n    },\n    heavy: {\n      name: '',\n      description: ',',\n      defenseCoeff: 2.0,\n      comfortCoeff: 0.3,\n      warmthCoeff: 0.5,\n      socialCoeff: 1.5,\n      weightCoeff: 2.5,\n    },\n  } as Record<TierType, TierData>,\n\n  QualitySystem: {\n    common: { name: '', allAttributesCoeff: 1.0, color: '#9d9d9d' },\n    good: { name: '', allAttributesCoeff: 1.2, color: '#1eff00' },\n    excellent: { name: '', allAttributesCoeff: 1.5, color: '#0070dd' },\n    masterwork: { name: '', allAttributesCoeff: 2.0, color: '#a335ee' },\n    legendary: { name: '', allAttributesCoeff: 3.0, color: '#ff8000' },\n  } as Record<QualityType, QualityData>,\n\n  ClothingSlots: {\n    head: { name: '', baseDefense: 5, baseComfort: 7, baseWarmth: 4, baseSocial: 5, baseWeight: 1.0 },\n    bodyInner: { name: '', baseDefense: 2, baseComfort: 9, baseWarmth: 5, baseSocial: 4, baseWeight: 0.5 },\n    bodyArmor: { name: '', baseDefense: 12, baseComfort: 5, baseWarmth: 4, baseSocial: 7, baseWeight: 6.0 },\n    hands: { name: '', baseDefense: 3, baseComfort: 7, baseWarmth: 5, baseSocial: 4, baseWeight: 0.5 },\n    legsInner: { name: '', baseDefense: 2, baseComfort: 9, baseWarmth: 4, baseSocial: 4, baseWeight: 0.4 },\n    legsArmor: { name: '', baseDefense: 10, baseComfort: 5, baseWarmth: 4, baseSocial: 6, baseWeight: 5.0 },\n    feet: { name: '', baseDefense: 4, baseComfort: 8, baseWarmth: 6, baseSocial: 5, baseWeight: 1.0 },\n    cloak: { name: '', baseDefense: 1, baseComfort: 8, baseWarmth: 10, baseSocial: 7, baseWeight: 1.5 },\n    neck: { name: '', baseDefense: 1, baseComfort: 10, baseWarmth: 3, baseSocial: 6, baseWeight: 0.1 },\n    ring: { name: '', baseDefense: 0, baseComfort: 10, baseWarmth: 0, baseSocial: 8, baseWeight: 0.02 },\n    belt: { name: '', baseDefense: 1, baseComfort: 8, baseWarmth: 0, baseSocial: 5, baseWeight: 0.3 },\n  } as Record<SlotType, SlotData>,\n};\n\n// ============  ============\n\nexport const qualityLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.QualitySystem).map(([key, value]) => [key, value.name]),\n) as Record<QualityType, string>;\n\nexport const tierLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.TierSystem).map(([key, value]) => [key, value.name]),\n) as Record<TierType, string>;\n\nexport const slotLabels = Object.fromEntries(\n  Object.entries(ClothingSystemData.ClothingSlots).map(([key, value]) => [key, value.name]),\n) as Record<SlotType, string>;\n\nexport const typeLabels: Record<ItemType, string> = {\n  cloth: '',\n  weapon: '',\n  item: '',\n};\n\nexport { ClothingSystemData };\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = { class: \"bag-container\" };\nconst _hoisted_2 = { class: \"inventory-mini\" };\nconst _hoisted_3 = { class: \"gold\" };\nconst _hoisted_4 = { class: \"master-detail-body\" };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"master-grid bag-grid\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n    key: 0,\n    class: \"fa-solid fa-box\"\n};\nconst _hoisted_8 = {\n    key: 1,\n    class: \"fa-solid fa-shirt\"\n};\nconst _hoisted_9 = {\n    key: 2,\n    class: \"fa-solid fa-wand-sparkles\"\n};\nconst _hoisted_10 = {\n    key: 1,\n    class: \"data-empty\",\n    style: { \"background\": \"var(--blur_tint_color)\" }\n};\nconst _hoisted_11 = { class: \"detail-panel\" };\nconst _hoisted_12 = {\n    key: 0,\n    class: \"details-content\"\n};\nconst _hoisted_13 = { key: 0 };\nconst _hoisted_14 = { class: \"item-name flex-between\" };\nconst _hoisted_15 = { class: \"item-type-tier\" };\nconst _hoisted_16 = {\n    key: 0,\n    class: \"item-slot\"\n};\nconst _hoisted_17 = { class: \"item-description\" };\nconst _hoisted_18 = {\n    key: 1,\n    class: \"edit-form\"\n};\nconst _hoisted_19 = { class: \"form-group\" };\nconst _hoisted_20 = { class: \"form-group\" };\nconst _hoisted_21 = [\"value\"];\nconst _hoisted_22 = { class: \"form-group\" };\nconst _hoisted_23 = [\"value\"];\nconst _hoisted_24 = { class: \"form-group\" };\nconst _hoisted_25 = [\"value\"];\nconst _hoisted_26 = {\n    key: 0,\n    class: \"form-group\"\n};\nconst _hoisted_27 = [\"value\"];\nconst _hoisted_28 = { class: \"form-group\" };\nconst _hoisted_29 = { class: \"edit-buttons\" };\nconst _hoisted_30 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useInventory } from '../hooks/useInventory';\nimport { useMvuData } from '../hooks/useMvuData';\nimport { qualityLabels, slotLabels, tierLabels, typeLabels } from '../itemConstants';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'bagTab',\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { selectedItem, selectItem, deleteItem, isEditing, editableItem, startEditing, cancelEditing, saveChanges } = useInventory(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, \" \" + _toDisplayString(_unref(mvu).PlayerDynamicData.gold) + \"\", 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    (Object.keys(_unref(mvu).PlayerDynamicData.inventory).length)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).PlayerDynamicData.inventory, (item, index) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                    class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedItem)?.name === item.name }]),\n                                    key: index,\n                                    onClick: ($event) => (_unref(selectItem)(item, index))\n                                }, [\n                                    (item.type == 'item')\n                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_7))\n                                        : _createCommentVNode(\"v-if\", true),\n                                    (item.type == 'cloth')\n                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_8))\n                                        : _createCommentVNode(\"v-if\", true),\n                                    (item.type == 'weapon')\n                                        ? (_openBlock(), _createElementBlock(\"i\", _hoisted_9))\n                                        : _createCommentVNode(\"v-if\", true),\n                                    _createTextVNode(\" \" + _toDisplayString(item.name), 1 /* TEXT */)\n                                ], 10 /* CLASS, PROPS */, _hoisted_6));\n                            }), 128 /* KEYED_FRAGMENT */))\n                        ]))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \"\")),\n                    _createElementVNode(\"div\", _hoisted_11, [\n                        (_unref(selectedItem))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                                (!_unref(isEditing))\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                                        _createElementVNode(\"div\", _hoisted_14, [\n                                            _createTextVNode(_toDisplayString(_unref(selectedItem).name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"div\", null, [\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-pencil\",\n                                                    onClick: _cache[0] || (_cache[0] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(startEditing) && _unref(startEditing)(...args))),\n                                                    style: { \"cursor\": \"pointer\", \"margin-right\": \"8px\" },\n                                                    title: \"\"\n                                                }),\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-trash-can\",\n                                                    onClick: _cache[1] || (_cache[1] = ($event) => (_unref(deleteItem)(_unref(selectedItem).id))),\n                                                    style: { \"cursor\": \"pointer\" },\n                                                    title: \"\"\n                                                })\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", {\n                                            class: _normalizeClass([\"item-quality\", _unref(selectedItem).quality])\n                                        }, _toDisplayString(_unref(qualityLabels)[_unref(selectedItem).quality]), 3 /* TEXT, CLASS */),\n                                        _createElementVNode(\"div\", _hoisted_15, _toDisplayString(_unref(typeLabels)[_unref(selectedItem).type]) + \" / \" + _toDisplayString(_unref(tierLabels)[_unref(selectedItem).tier]), 1 /* TEXT */),\n                                        (_unref(selectedItem).slot)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, \": \" + _toDisplayString(_unref(slotLabels)[_unref(selectedItem).slot]), 1 /* TEXT */))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createElementVNode(\"div\", _hoisted_17, _toDisplayString(_unref(selectedItem).description), 1 /* TEXT */)\n                                    ]))\n                                    : (_unref(editableItem))\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                                            _createElementVNode(\"div\", _hoisted_19, [\n                                                _cache[10] || (_cache[10] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((_unref(editableItem).name) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableItem).name]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_20, [\n                                                _cache[11] || (_cache[11] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((_unref(editableItem).quality) = $event))\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(qualityLabels), (label, key) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: key,\n                                                            value: key\n                                                        }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_21));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 512 /* NEED_PATCH */), [\n                                                    [_vModelSelect, _unref(editableItem).quality]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_22, [\n                                                _cache[12] || (_cache[12] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => ((_unref(editableItem).type) = $event))\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(typeLabels), (label, key) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: key,\n                                                            value: key\n                                                        }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_23));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 512 /* NEED_PATCH */), [\n                                                    [_vModelSelect, _unref(editableItem).type]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_24, [\n                                                _cache[13] || (_cache[13] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => ((_unref(editableItem).tier) = $event))\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tierLabels), (label, key) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: key,\n                                                            value: key\n                                                        }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_25));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 512 /* NEED_PATCH */), [\n                                                    [_vModelSelect, _unref(editableItem).tier]\n                                                ])\n                                            ]),\n                                            (_unref(editableItem).slot)\n                                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [\n                                                    _cache[14] || (_cache[14] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                    _withDirectives(_createElementVNode(\"select\", {\n                                                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => ((_unref(editableItem).slot) = $event))\n                                                    }, [\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(slotLabels), (label, key) => {\n                                                            return (_openBlock(), _createElementBlock(\"option\", {\n                                                                key: key,\n                                                                value: key\n                                                            }, _toDisplayString(label), 9 /* TEXT, PROPS */, _hoisted_27));\n                                                        }), 128 /* KEYED_FRAGMENT */))\n                                                    ], 512 /* NEED_PATCH */), [\n                                                        [_vModelSelect, _unref(editableItem).slot]\n                                                    ])\n                                                ]))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            _createElementVNode(\"div\", _hoisted_28, [\n                                                _cache[15] || (_cache[15] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(editableItem).description) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableItem).description]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_29, [\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[8] || (_cache[8] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(saveChanges) && _unref(saveChanges)(...args)))\n                                                }, \"\"),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[9] || (_cache[9] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(cancelEditing) && _unref(cancelEditing)(...args)))\n                                                }, \"\")\n                                            ])\n                                        ]))\n                                        : _createCommentVNode(\"v-if\", true)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_30, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","import { ref, watch } from 'vue';\nimport type { BaseInventoryItem, InventoryItem } from '../itemConstants';\nimport { MvuData } from '../types';\n\nexport function useInventory(mvu: Ref<MvuData>, handleMvuUpdate: Function) {\n  const selectedItem = ref<InventoryItem | null>(null);\n  const isEditing = ref(false);\n  const editableItem = ref<InventoryItem | null>(null);\n\n  function selectItem(item: BaseInventoryItem | null, index: string) {\n    if (selectedItem.value?.id === index) {\n      selectedItem.value = null;\n    } else {\n      selectedItem.value = item\n        ? {\n            ...item,\n            id: index,\n          }\n        : null;\n    }\n  }\n\n  const deleteItem = (itemKey: string) => {\n    const itemToDelete = mvu.value.PlayerDynamicData.inventory[itemKey];\n    if (selectedItem.value && itemToDelete && selectedItem.value.name === itemToDelete.name) {\n      selectItem(null, '');\n    }\n    handleMvuUpdate([\n      {\n        event: 'deleteByObject',\n        detail: {\n          PlayerDynamicData: {\n            inventory: {\n              [itemKey]: {},\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  const editItem = (itemKey: string, item: BaseInventoryItem) => {\n    handleMvuUpdate([\n      {\n        event: 'updateByObject',\n        detail: {\n          PlayerDynamicData: {\n            inventory: {\n              [itemKey]: item,\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  const startEditing = () => {\n    if (selectedItem.value) {\n      editableItem.value = JSON.parse(JSON.stringify(selectedItem.value));\n      isEditing.value = true;\n    }\n  };\n\n  const cancelEditing = () => {\n    isEditing.value = false;\n    editableItem.value = null;\n  };\n\n  const saveChanges = () => {\n    if (selectedItem.value && editableItem.value) {\n      const { id } = selectedItem.value;\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { id: _, ...itemData } = editableItem.value;\n      editItem(id, itemData);\n      isEditing.value = false;\n      // Manually update selectedItem to reflect changes immediately\n      selectedItem.value = { ...selectedItem.value, ...itemData };\n    }\n  };\n\n  watch(selectedItem, (newItem, oldItem) => {\n    if (newItem?.id !== oldItem?.id) {\n      cancelEditing();\n    }\n  });\n\n  return {\n    selectedItem,\n    selectItem,\n    deleteItem,\n    editItem,\n    isEditing,\n    editableItem,\n    startEditing,\n    cancelEditing,\n    saveChanges,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./bagTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./bagTab.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import type { Ref } from 'vue';\nimport { computed, ref, watch } from 'vue';\nimport type { MvuData } from '../types';\n\n// \nexport interface BaseBestiaryEntry {\n  name: string;\n  description: string;\n  habitat: string;\n  weaknesses: string;\n  knownInfo: string;\n  killCount: number;\n}\n\nexport interface BaseAnecdoteEntry {\n  name: string;\n  description: string;\n  location: string;\n  charactersInvolved: string;\n  knownInfo: string;\n}\n\nexport type CodexEntry = (BaseBestiaryEntry | BaseAnecdoteEntry) & { id: string };\n\nexport function useCodex(mvu: Ref<MvuData>, handleMvuUpdate: Function) {\n  const selectedEntry = ref<CodexEntry | null>(null);\n  const activeCodexTab = ref('bestiary'); // 'bestiary' or 'anecdotes'\n  const isEditing = ref(false);\n  const editableEntry = ref<CodexEntry | null>(null);\n\n  const bestiaryEntries = computed(() => {\n    return mvu.value.PlayerData.settings.bestiary || {};\n  });\n\n  const anecdoteEntries = computed(() => {\n    return mvu.value.PlayerData.settings.anecdotes || {};\n  });\n\n  const selectedTab = ref('');\n  function selectEntry(entry: BaseBestiaryEntry | BaseAnecdoteEntry | null, key: string, tabName: string) {\n    if (selectedEntry.value?.id === key) {\n      selectedEntry.value = null;\n    } else {\n      selectedEntry.value = entry\n        ? {\n            ...entry,\n            id: key,\n          }\n        : null;\n      selectedTab.value = tabName;\n    }\n  }\n\n  const deleteEntry = (entryKey: string) => {\n    const entryToDelete =\n      activeCodexTab.value === 'bestiary'\n        ? mvu.value.PlayerData.settings.bestiary[entryKey]\n        : mvu.value.PlayerData.settings.anecdotes[entryKey];\n\n    if (selectedEntry.value && entryToDelete && selectedEntry.value.name === entryToDelete.name) {\n      selectEntry(null, '', '');\n    }\n\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n\n    handleMvuUpdate([\n      {\n        event: 'deleteByObject',\n        detail: {\n          PlayerData: {\n            settings: {\n              [path]: {\n                [entryKey]: {},\n              },\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  const editEntry = (entryKey: string, entry: BaseBestiaryEntry | BaseAnecdoteEntry) => {\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n    handleMvuUpdate([\n      {\n        event: 'updateByObject',\n        detail: {\n          PlayerData: {\n            settings: {\n              [path]: {\n                [entryKey]: entry,\n              },\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  const startEditing = () => {\n    if (selectedEntry.value) {\n      editableEntry.value = JSON.parse(JSON.stringify(selectedEntry.value));\n      isEditing.value = true;\n    }\n  };\n\n  const cancelEditing = () => {\n    isEditing.value = false;\n    editableEntry.value = null;\n  };\n\n  const saveChanges = () => {\n    if (selectedEntry.value && editableEntry.value) {\n      const { id } = selectedEntry.value;\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { id: _, ...entryData } = editableEntry.value;\n      editEntry(id, entryData);\n      isEditing.value = false;\n      // Manually update selectedEntry to reflect changes immediately\n      selectedEntry.value = { ...selectedEntry.value, ...entryData };\n    }\n  };\n\n  watch(selectedEntry, (newEntry, oldEntry) => {\n    if (newEntry?.id !== oldEntry?.id) {\n      cancelEditing();\n    }\n  });\n\n  watch(activeCodexTab, () => {\n    selectEntry(null, '', '');\n  });\n\n  const archivedEntries = computed(() => {\n    return mvu.value.ArchivedData.anecdotes || {};\n  });\n\n  const archiveEntry = (entryKey: string) => {\n    const entryToDelete =\n      activeCodexTab.value === 'bestiary'\n        ? mvu.value.PlayerData.settings.bestiary[entryKey]\n        : mvu.value.PlayerData.settings.anecdotes[entryKey];\n\n    if (selectedEntry.value && entryToDelete && selectedEntry.value.name === entryToDelete.name) {\n      selectEntry(null, '', '');\n    }\n\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n\n    handleMvuUpdate([\n      {\n        event: 'insertByObject',\n        detail: {\n          ArchivedData: {\n            [path]: {\n              [entryKey]: entryToDelete,\n            },\n          },\n        },\n      },\n    ]);\n\n    handleMvuUpdate([\n      {\n        event: 'deleteByObject',\n        detail: {\n          PlayerData: {\n            settings: {\n              [path]: {\n                [entryKey]: {},\n              },\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  const openEntry = (entryKey: string) => {\n    const entryToDelete =\n      activeCodexTab.value === 'bestiary'\n        ? mvu.value.ArchivedData.bestiary[entryKey]\n        : mvu.value.ArchivedData.anecdotes[entryKey];\n\n    if (selectedEntry.value && entryToDelete && selectedEntry.value.name === entryToDelete.name) {\n      selectEntry(null, '', '');\n    }\n\n    const path = activeCodexTab.value === 'bestiary' ? 'bestiary' : 'anecdotes';\n\n    handleMvuUpdate([\n      {\n        event: 'insertByObject',\n        detail: {\n          PlayerData: {\n            settings: {\n              [path]: {\n                [entryKey]: entryToDelete,\n              },\n            },\n          },\n        },\n      },\n    ]);\n\n    handleMvuUpdate([\n      {\n        event: 'deleteByObject',\n        detail: {\n          ArchivedData: {\n            [path]: {\n              [entryKey]: {},\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  return {\n    selectedEntry,\n    selectEntry,\n    selectedTab,\n    activeCodexTab,\n    bestiaryEntries,\n    anecdoteEntries,\n    deleteEntry,\n    isEditing,\n    editableEntry,\n    startEditing,\n    cancelEditing,\n    saveChanges,\n    archiveEntry,\n    openEntry,\n    archivedEntries,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = { class: \"codex-container\" };\nconst _hoisted_2 = { class: \"master-tabs\" };\nconst _hoisted_3 = { class: \"master-detail-body\" };\nconst _hoisted_4 = { class: \"master-grid codex-grid\" };\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = { class: \"detail-panel\" };\nconst _hoisted_9 = {\n    key: 0,\n    class: \"details-content\"\n};\nconst _hoisted_10 = { key: 0 };\nconst _hoisted_11 = { class: \"item-name flex-between\" };\nconst _hoisted_12 = { style: { \"flex-shrink\": \"0\" } };\nconst _hoisted_13 = {\n    key: 0,\n    class: \"detail-item\"\n};\nconst _hoisted_14 = {\n    key: 1,\n    class: \"detail-item\"\n};\nconst _hoisted_15 = {\n    key: 2,\n    class: \"detail-item\"\n};\nconst _hoisted_16 = {\n    key: 3,\n    class: \"detail-item\"\n};\nconst _hoisted_17 = {\n    key: 4,\n    class: \"detail-item\"\n};\nconst _hoisted_18 = { class: \"item-description\" };\nconst _hoisted_19 = { class: \"item-description\" };\nconst _hoisted_20 = {\n    key: 1,\n    class: \"edit-form\"\n};\nconst _hoisted_21 = { class: \"form-group\" };\nconst _hoisted_22 = { class: \"form-group\" };\nconst _hoisted_23 = { class: \"form-group\" };\nconst _hoisted_24 = { class: \"form-group\" };\nconst _hoisted_25 = { class: \"form-group\" };\nconst _hoisted_26 = { class: \"form-group\" };\nconst _hoisted_27 = { class: \"form-group\" };\nconst _hoisted_28 = { class: \"form-group\" };\nconst _hoisted_29 = { class: \"edit-buttons\" };\nconst _hoisted_30 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useCodex } from '../hooks/useCodex';\nimport { useMvuData } from '../hooks/useMvuData';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'codexTab',\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { selectedEntry, selectEntry, selectedTab, activeCodexTab, bestiaryEntries, anecdoteEntries, deleteEntry, isEditing, editableEntry, startEditing, cancelEditing, saveChanges, archiveEntry, openEntry, archivedEntries, } = useCodex(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeCodexTab.value = 'bestiary')),\n                        class: _normalizeClass({ active: _unref(activeCodexTab) === 'bestiary' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeCodexTab.value = 'anecdotes')),\n                        class: _normalizeClass({ active: _unref(activeCodexTab) === 'anecdotes' })\n                    }, \"  \", 2 /* CLASS */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        (_unref(activeCodexTab) === 'bestiary')\n                            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(bestiaryEntries), (entry, index) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                    class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedEntry)?.name === entry.name }]),\n                                    key: index,\n                                    onClick: ($event) => (_unref(selectEntry)(entry, index, 'bestiaryEntries'))\n                                }, _toDisplayString(entry.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_5));\n                            }), 128 /* KEYED_FRAGMENT */))\n                            : _createCommentVNode(\"v-if\", true),\n                        (_unref(activeCodexTab) === 'anecdotes')\n                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(anecdoteEntries), (entry, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedEntry)?.name === entry.name }]),\n                                        key: index,\n                                        onClick: ($event) => (_unref(selectEntry)(entry, index, 'anecdoteEntries'))\n                                    }, _toDisplayString(entry.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_6));\n                                }), 128 /* KEYED_FRAGMENT */)),\n                                _cache[16] || (_cache[16] = _createElementVNode(\"div\", { style: { \"grid-column\": \"1 / -1\" } }, null, -1 /* CACHED */)),\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(archivedEntries), (entry, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"master-grid-item\", { selected: _unref(selectedEntry)?.name === entry.name }]),\n                                        key: index,\n                                        onClick: ($event) => (_unref(selectEntry)(entry, index, 'archivedEntries'))\n                                    }, _toDisplayString(entry.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_7));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ], 64 /* STABLE_FRAGMENT */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_8, [\n                        (_unref(selectedEntry))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                (!_unref(isEditing))\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                                        _createElementVNode(\"div\", _hoisted_11, [\n                                            _createTextVNode(_toDisplayString(_unref(selectedEntry).name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"div\", _hoisted_12, [\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-pencil\",\n                                                    onClick: _cache[2] || (_cache[2] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(startEditing) && _unref(startEditing)(...args))),\n                                                    style: { \"cursor\": \"pointer\", \"margin-right\": \"8px\" },\n                                                    title: \"\"\n                                                }),\n                                                _createElementVNode(\"i\", {\n                                                    class: \"fa-solid fa-trash-can\",\n                                                    onClick: _cache[3] || (_cache[3] = ($event) => (_unref(deleteEntry)(_unref(selectedEntry).id))),\n                                                    style: { \"cursor\": \"pointer\", \"margin-right\": \"8px\" },\n                                                    title: \"\"\n                                                }),\n                                                (_unref(selectedTab) != 'archivedEntries')\n                                                    ? (_openBlock(), _createElementBlock(\"i\", {\n                                                        key: 0,\n                                                        class: \"fa-solid fa-box-archive\",\n                                                        onClick: _cache[4] || (_cache[4] = ($event) => (_unref(archiveEntry)(_unref(selectedEntry).id))),\n                                                        style: { \"cursor\": \"pointer\" },\n                                                        title: \"\"\n                                                    }))\n                                                    : _createCommentVNode(\"v-if\", true),\n                                                (_unref(selectedTab) == 'archivedEntries')\n                                                    ? (_openBlock(), _createElementBlock(\"i\", {\n                                                        key: 1,\n                                                        class: \"fa-solid fa-arrow-up-from-bracket\",\n                                                        onClick: _cache[5] || (_cache[5] = ($event) => (_unref(openEntry)(_unref(selectedEntry).id))),\n                                                        style: { \"cursor\": \"pointer\" },\n                                                        title: \"\"\n                                                    }))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ]),\n                                        ('habitat' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                                                _cache[17] || (_cache[17] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).habitat), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('weaknesses' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                                                _cache[18] || (_cache[18] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).weaknesses), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('killCount' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                                _cache[19] || (_cache[19] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).killCount), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('location' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                                                _cache[20] || (_cache[20] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).location), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        ('charactersInvolved' in _unref(selectedEntry))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                                                _cache[21] || (_cache[21] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                                _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).charactersInvolved), 1 /* TEXT */)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createElementVNode(\"div\", _hoisted_18, [\n                                            _cache[22] || (_cache[22] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).description), 1 /* TEXT */)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_19, [\n                                            _cache[23] || (_cache[23] = _createElementVNode(\"strong\", null, \":\", -1 /* CACHED */)),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(selectedEntry).knownInfo), 1 /* TEXT */)\n                                        ])\n                                    ]))\n                                    : (_unref(editableEntry))\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [\n                                            _createElementVNode(\"div\", _hoisted_21, [\n                                                _cache[24] || (_cache[24] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => ((_unref(editableEntry).name) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableEntry).name]\n                                                ])\n                                            ]),\n                                            ('habitat' in _unref(editableEntry))\n                                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                                    _createElementVNode(\"div\", _hoisted_22, [\n                                                        _cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"text\",\n                                                            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(editableEntry).habitat) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).habitat]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_23, [\n                                                        _cache[26] || (_cache[26] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => ((_unref(editableEntry).weaknesses) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).weaknesses]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_24, [\n                                                        _cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"number\",\n                                                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => ((_unref(editableEntry).killCount) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(editableEntry).killCount,\n                                                                void 0,\n                                                                { number: true }\n                                                            ]\n                                                        ])\n                                                    ])\n                                                ], 64 /* STABLE_FRAGMENT */))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            ('location' in _unref(editableEntry))\n                                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                    _createElementVNode(\"div\", _hoisted_25, [\n                                                        _cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"text\",\n                                                            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => ((_unref(editableEntry).location) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).location]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_26, [\n                                                        _cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            type: \"text\",\n                                                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((_unref(editableEntry).charactersInvolved) = $event))\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(editableEntry).charactersInvolved]\n                                                        ])\n                                                    ])\n                                                ], 64 /* STABLE_FRAGMENT */))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            _createElementVNode(\"div\", _hoisted_27, [\n                                                _cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event) => ((_unref(editableEntry).description) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableEntry).description]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_28, [\n                                                _cache[31] || (_cache[31] = _createElementVNode(\"label\", null, \"\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event) => ((_unref(editableEntry).knownInfo) = $event))\n                                                }, null, 512 /* NEED_PATCH */), [\n                                                    [_vModelText, _unref(editableEntry).knownInfo]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_29, [\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[14] || (_cache[14] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(saveChanges) && _unref(saveChanges)(...args)))\n                                                }, \"\"),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: _cache[15] || (_cache[15] =\n                                                        //@ts-ignore\n                                                        (...args) => (_unref(cancelEditing) && _unref(cancelEditing)(...args)))\n                                                }, \"\")\n                                            ])\n                                        ]))\n                                        : _createCommentVNode(\"v-if\", true)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_30, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./codexTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./codexTab.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","// hooks/useParty.ts\nimport _ from 'lodash';\nimport { computed, ref, Ref, watchEffect } from 'vue';\nimport { MvuData, PartyMember } from '../types';\n\ntype UpgradeState = {\n  tempAttributes: Record<string, number>;\n  initialAttributes: Record<string, number>;\n};\n\nexport function useParty(mvu: Ref<MvuData>, rawMvuData: Ref<any>, handleMvuUpdate: Function) {\n  const partyUpgradeState = ref<{ [charName: string]: UpgradeState }>({});\n\n  const isAssigningAttributes = computed(() => (mvu.value.PlayerData.progress.partyAttrPoints || 0) > 0);\n\n  const party = computed(() => {\n    const followerNPCs = Object.keys(mvu.value.FollowerNPCData || {}).map((name: string) => {\n      // const defaultNpcData = { ...npcConst.get(name) };\n      const mvuNpcData = rawMvuData.value?.FollowerNPCData?.[name];\n      return mvuNpcData;\n\n      // return mvuNpcData ? _.merge(defaultNpcData, mvuNpcData) : defaultNpcData;\n    });\n    return [{ ...mvu.value.PlayerData }, ...followerNPCs];\n  });\n\n  const totalSpentPoints = computed(() => {\n    if (!isAssigningAttributes.value) return 0;\n    return _.sum(\n      party.value.map(char => {\n        const state = partyUpgradeState.value[char.character.name];\n        if (!state) return 0;\n        return _.sum(Object.values(state.tempAttributes)) - _.sum(Object.values(state.initialAttributes));\n      }),\n    );\n  });\n\n  watchEffect(() => {\n    if (isAssigningAttributes.value) {\n      party.value.forEach(char => {\n        const charName = char.character.name;\n        if (!partyUpgradeState.value[charName]) {\n          partyUpgradeState.value[charName] = {\n            tempAttributes: _.cloneDeep(char.attributes),\n            initialAttributes: _.cloneDeep(char.attributes),\n          };\n        }\n      });\n    } else {\n      partyUpgradeState.value = {};\n    }\n  });\n\n  const characterLabels: { [key: string]: string } = {\n    name: '',\n    level: '',\n    gender: '',\n    race: '',\n    height: '',\n    build: '',\n    appearance: '',\n    personality: '',\n  };\n  const metaLabels: { [key: string]: string } = {\n    relationship: '',\n    favorability: '',\n    favorabilityTowardsNPCs: 'NPC',\n    description: '',\n    title: '',\n  };\n\n  const attributeLabels: { [key: string]: string } = {\n    shooting: '',\n    melee: '',\n    construction: '',\n    mining: '',\n    cooking: '',\n    planting: '',\n    animals: '',\n    crafting: '',\n    artistic: '',\n    medical: '',\n    social: '',\n    intellectual: '',\n  };\n\n  const statusLabels: { [key: string]: string } = {\n    health: 'HP',\n    mood: '',\n    arousal: '',\n  };\n\n  // \n  function validateExperience(): boolean {\n    if (mvu.value.PlayerData.progress.partyExperience.current < mvu.value.PlayerData.progress.partyExperience.max) {\n      toastr.warning(', ');\n      return false;\n    }\n    return true;\n  }\n\n  // \n  function calculateLevelUpData(char: any) {\n    const currentExp = mvu.value.PlayerData.progress.partyExperience.current;\n    const maxExp = mvu.value.PlayerData.progress.partyExperience.max;\n    const levelsToGain = Math.floor(currentExp / maxExp);\n    const pointsToGain = levelsToGain;\n\n    return {\n      charName: char.character.name,\n      newLevel: char.character.level + levelsToGain,\n      newExp: currentExp % maxExp,\n      levelsToGain,\n      newPartyAttrPoints: (mvu.value.PlayerData.progress.partyAttrPoints || 0) + pointsToGain,\n    };\n  }\n\n  // \n  function getCharacterPath(index: number): string {\n    if (index === 0) {\n      return 'PlayerData';\n    }\n    const followerIds = Object.keys(mvu.value.FollowerNPCData || {});\n    const npcId = followerIds[index - 1];\n    return `FollowerNPCData.${npcId}`;\n  }\n\n  // \n  function generateLevelUpCommand(\n    basePath: string,\n    newLevel: number,\n    newExp: number,\n    newPartyAttrPoints: number,\n  ): any[] {\n    return [\n      { event: 'updateByPath', detail: { path: `${basePath}.character.level`, value: newLevel } },\n      { event: 'updateByPath', detail: { path: 'PlayerData.progress.partyExperience.current', value: newExp } },\n      { event: 'updateByPath', detail: { path: 'PlayerData.progress.partyAttrPoints', value: newPartyAttrPoints } },\n    ];\n  }\n\n  // \n  async function levelUp(char: any, index: number) {\n    if (!validateExperience()) return;\n\n    const { charName, newLevel, newExp, levelsToGain, newPartyAttrPoints } = calculateLevelUpData(char);\n    const basePath = getCharacterPath(index);\n    const commands = generateLevelUpCommand(basePath, newLevel, newExp, newPartyAttrPoints);\n\n    await handleMvuUpdate(commands, () => {\n      toastr.success(`${charName}  ${levelsToGain} !  ${newLevel},  ${levelsToGain} .`);\n    });\n  }\n\n  // \n  function generateAttributeCommands(\n    basePath: string,\n    tempAttributes: any,\n    initialAttributes: any,\n    newPartyAttrPoints: number,\n  ): any[] {\n    const commands: any[] = [];\n    for (const key in tempAttributes) {\n      if (tempAttributes[key] !== initialAttributes[key]) {\n        // commands.push(`_.set('${basePath}.attributes.${key}', ${tempAttributes[key]});`);\n        commands.push({\n          event: 'updateByPath',\n          detail: { path: `${basePath}.attributes.${key}`, value: tempAttributes[key] },\n        });\n      }\n    }\n    if (commands.length > 0) {\n      // commands.push(`_.set('PlayerData.progress.partyAttrPoints', ${newPartyAttrPoints});`);\n      commands.push({\n        event: 'updateByPath',\n        detail: { path: 'PlayerData.progress.partyAttrPoints', value: newPartyAttrPoints },\n      });\n    }\n    return commands;\n  }\n\n  function getSpentPoints(char: any): number {\n    const state = partyUpgradeState.value[char.character.name];\n    if (!state) return 0;\n    return _.sum(Object.values(state.tempAttributes)) - _.sum(Object.values(state.initialAttributes));\n  }\n\n  // \n  async function commitAttributes(char: any, index: number) {\n    const charName = char.character.name;\n    const state = partyUpgradeState.value[charName];\n    if (!state) return;\n\n    const pointsSpent = getSpentPoints(char);\n\n    if (pointsSpent < 0) {\n      toastr.error('');\n      return;\n    }\n\n    if (pointsSpent === 0) {\n      toastr.info('');\n      return;\n    }\n\n    const newPartyAttrPoints = (mvu.value.PlayerData.progress.partyAttrPoints || 0) - pointsSpent;\n    const basePath = getCharacterPath(index);\n    const commands = generateAttributeCommands(\n      basePath,\n      state.tempAttributes,\n      state.initialAttributes,\n      newPartyAttrPoints,\n    );\n\n    if (commands.length === 0) return;\n\n    // const command = commands.join('\\n');\n\n    await handleMvuUpdate(commands, () => {\n      partyUpgradeState.value[charName].initialAttributes = _.cloneDeep(\n        partyUpgradeState.value[charName].tempAttributes,\n      );\n      // const freshChar = party.value.find(p => p.character.name === charName);\n      // if (freshChar && partyUpgradeState.value[charName]) {\n      //   partyUpgradeState.value[charName].initialAttributes = _.cloneDeep(freshChar.attributes);\n      // }\n      toastr.success(`${charName} !`);\n    });\n  }\n\n  function incrementAttribute(char: any, index: number, attrKey: string) {\n    const charName = char.character.name;\n    const state = partyUpgradeState.value[charName];\n    if (state) {\n      if ((mvu.value.PlayerData.progress.partyAttrPoints || 0) > totalSpentPoints.value) {\n        state.tempAttributes[attrKey]++;\n      }\n    }\n  }\n\n  function decrementAttribute(char: any, index: number, attrKey: string) {\n    const charName = char.character.name;\n    const state = partyUpgradeState.value[charName];\n    if (state && state.tempAttributes[attrKey] > state.initialAttributes[attrKey]) {\n      state.tempAttributes[attrKey]--;\n    }\n  }\n\n  const selectedChar = ref<PartyMember | null>(null);\n  const selectedCharIndex = ref<number | null>(null);\n\n  function selectChar(char: any, index: number) {\n    if (selectedCharIndex.value === index) {\n      selectedChar.value = null;\n      selectedCharIndex.value = null;\n    } else {\n      selectedChar.value = char;\n      selectedCharIndex.value = index;\n    }\n  }\n\n  return {\n    party,\n    partyUpgradeState,\n    characterLabels,\n    metaLabels,\n    attributeLabels,\n    statusLabels,\n    isAssigningAttributes,\n    totalSpentPoints,\n    levelUp,\n    commitAttributes,\n    incrementAttribute,\n    decrementAttribute,\n    selectChar,\n    selectedChar,\n    selectedCharIndex,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"party-container\" };\nconst _hoisted_2 = { class: \"master-detail-body\" };\nconst _hoisted_3 = { class: \"character-card-pane\" };\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = { class: \"char-header\" };\nconst _hoisted_6 = { class: \"char-name\" };\nconst _hoisted_7 = { class: \"right-btns\" };\nconst _hoisted_8 = { key: 0 };\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\", \"disabled\"];\nconst _hoisted_11 = { class: \"column\" };\nconst _hoisted_12 = { class: \"status\" };\nconst _hoisted_13 = { class: \"stat\" };\nconst _hoisted_14 = { class: \"bar\" };\nconst _hoisted_15 = { class: \"stat\" };\nconst _hoisted_16 = { class: \"bar\" };\nconst _hoisted_17 = { class: \"attributes\" };\nconst _hoisted_18 = {\n    key: 0,\n    class: \"attr-value-controls\"\n};\nconst _hoisted_19 = [\"onClick\", \"disabled\"];\nconst _hoisted_20 = { class: \"attr-value\" };\nconst _hoisted_21 = [\"onClick\", \"disabled\"];\nconst _hoisted_22 = {\n    key: 1,\n    class: \"attr-value\"\n};\nconst _hoisted_23 = { class: \"detail-panel\" };\nconst _hoisted_24 = {\n    key: 0,\n    class: \"scene-detail-item\"\n};\nconst _hoisted_25 = { class: \"column\" };\nconst _hoisted_26 = { key: 0 };\nconst _hoisted_27 = { key: 1 };\nconst _hoisted_28 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useParty } from '../hooks/useParty';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'partyTab',\n    setup(__props) {\n        const { mvu, rawMvuData, handleMvuUpdate, initialize } = useMvuData();\n        const { party, partyUpgradeState, characterLabels, metaLabels, attributeLabels, statusLabels, levelUp, commitAttributes, incrementAttribute, decrementAttribute, isAssigningAttributes, totalSpentPoints, selectChar, selectedChar, selectedCharIndex, } = useParty(mvu, rawMvuData, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(party), (char, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                class: _normalizeClass([\"character-card\", { selected: _unref(selectedCharIndex) === index }]),\n                                key: index,\n                                onClick: ($event) => (_unref(selectChar)(char, index))\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_5, [\n                                    _createElementVNode(\"span\", _hoisted_6, _toDisplayString(char.character.name) + \" (Lv. \" + _toDisplayString(char.character.level) + \")\", 1 /* TEXT */),\n                                    _createElementVNode(\"div\", _hoisted_7, [\n                                        (_unref(isAssigningAttributes))\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                                                _createElementVNode(\"span\", null, \": \" + _toDisplayString(_unref(mvu).PlayerData.progress.partyAttrPoints - _unref(totalSpentPoints)), 1 /* TEXT */),\n                                                _createElementVNode(\"button\", {\n                                                    onClick: ($event) => (_unref(commitAttributes)(char, index))\n                                                }, \"\", 8 /* PROPS */, _hoisted_9)\n                                            ]))\n                                            : _createCommentVNode(\"v-if\", true),\n                                        _createElementVNode(\"button\", {\n                                            onClick: ($event) => (_unref(levelUp)(char, index)),\n                                            disabled: _unref(mvu).PlayerData.progress.partyExperience.current < _unref(mvu).PlayerData.progress.partyExperience.max\n                                        }, \"  \", 8 /* PROPS */, _hoisted_10)\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_11, [\n                                    _createCommentVNode(\"  \"),\n                                    _createElementVNode(\"div\", _hoisted_12, [\n                                        _createElementVNode(\"div\", _hoisted_13, _toDisplayString(char.character.gender) + \" \" + _toDisplayString(char.character.race), 1 /* TEXT */),\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(char.status, (stat, key) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: \"stat\",\n                                                key: key\n                                            }, [\n                                                _createTextVNode(_toDisplayString(_unref(statusLabels)[key]) + \" \", 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_14, [\n                                                    _createElementVNode(\"div\", {\n                                                        class: \"fill\",\n                                                        style: _normalizeStyle({ width: `${Math.min(100, (stat.current / stat.max) * 100)}%` })\n                                                    }, null, 4 /* STYLE */)\n                                                ]),\n                                                _createTextVNode(\" \" + _toDisplayString(stat.current) + \" / \" + _toDisplayString(stat.max), 1 /* TEXT */)\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */)),\n                                        _createElementVNode(\"div\", _hoisted_15, [\n                                            _cache[0] || (_cache[0] = _createTextVNode(\"  \", -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_16, [\n                                                _createElementVNode(\"div\", {\n                                                    class: \"fill\",\n                                                    style: _normalizeStyle({\n                                                        width: `${Math.min(100, (_unref(mvu).PlayerData.progress.partyExperience.current / _unref(mvu).PlayerData.progress.partyExperience.max) * 100)}%`,\n                                                    })\n                                                }, null, 4 /* STYLE */)\n                                            ]),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(mvu).PlayerData.progress.partyExperience.current) + \" / \" + _toDisplayString(_unref(mvu).PlayerData.progress.partyExperience.max), 1 /* TEXT */)\n                                        ])\n                                    ]),\n                                    _createCommentVNode(\"  \"),\n                                    _createElementVNode(\"div\", _hoisted_17, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(char.attributes, (value, key) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: \"attr\",\n                                                key: key\n                                            }, [\n                                                _createElementVNode(\"span\", null, _toDisplayString(_unref(attributeLabels)[key] || key), 1 /* TEXT */),\n                                                (_unref(isAssigningAttributes))\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"small\",\n                                                            onClick: ($event) => (_unref(decrementAttribute)(char, index, key)),\n                                                            disabled: _unref(partyUpgradeState)[char.character.name]?.tempAttributes[key] <=\n                                                                _unref(partyUpgradeState)[char.character.name]?.initialAttributes[key]\n                                                        }, \" - \", 8 /* PROPS */, _hoisted_19),\n                                                        _createElementVNode(\"span\", _hoisted_20, _toDisplayString(_unref(partyUpgradeState)[char.character.name]?.tempAttributes[key]), 1 /* TEXT */),\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"small\",\n                                                            onClick: ($event) => (_unref(incrementAttribute)(char, index, key)),\n                                                            disabled: _unref(mvu).PlayerData.progress.partyAttrPoints <= _unref(totalSpentPoints)\n                                                        }, \" + \", 8 /* PROPS */, _hoisted_21)\n                                                    ]))\n                                                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_22, _toDisplayString(value), 1 /* TEXT */))\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                    ])\n                                ])\n                            ], 10 /* CLASS, PROPS */, _hoisted_4));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_23, [\n                        (_unref(selectedChar))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                                _createElementVNode(\"div\", _hoisted_25, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedChar).character, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(characterLabels)[key] || key), 1 /* TEXT */),\n                                            _createTextVNode(\" \" + _toDisplayString(value), 1 /* TEXT */)\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */)),\n                                    ('meta' in _unref(selectedChar))\n                                        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(_unref(selectedChar).meta, (value, key) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                class: \"column-content\",\n                                                key: key\n                                            }, [\n                                                _createElementVNode(\"span\", null, _toDisplayString(_unref(metaLabels)[key] || key), 1 /* TEXT */),\n                                                (key === 'favorabilityTowardsNPCs')\n                                                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_26, [\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(value, (fav, npcName) => {\n                                                            return (_openBlock(), _createElementBlock(\"div\", { key: npcName }, _toDisplayString(npcName) + \": \" + _toDisplayString(fav), 1 /* TEXT */));\n                                                        }), 128 /* KEYED_FRAGMENT */))\n                                                    ]))\n                                                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_27, _toDisplayString(value), 1 /* TEXT */))\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */))\n                                        : _createCommentVNode(\"v-if\", true)\n                                ])\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_28, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./partyTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./partyTab.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"quest-container\" };\nconst _hoisted_2 = { class: \"master-tabs\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_4 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_5 = { class: \"quest-title\" };\nconst _hoisted_6 = { class: \"quest-description\" };\nconst _hoisted_7 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_8 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_9 = { class: \"quest-title\" };\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = { class: \"quest-description\" };\nconst _hoisted_12 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_13 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_14 = { class: \"quest-title\" };\nconst _hoisted_15 = { class: \"quest-description\" };\nconst _hoisted_16 = {\n    key: 0,\n    class: \"data-empty\"\n};\nconst _hoisted_17 = {\n    key: 1,\n    class: \"quest-item-container\"\n};\nconst _hoisted_18 = { class: \"quest-title\" };\nconst _hoisted_19 = { class: \"quest-description\" };\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useQuests } from '../hooks/useQuests';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'questsTab',\n    setup(__props) {\n        const { mvu, handleMvuUpdate } = useMvuData();\n        const { currentQuests, nextQuests, pendingQuests, completedQuests, activeQuestTab, activeQuest } = useQuests(mvu, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeQuestTab.value = 'currentQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'currentQuests' })\n                    }, \"  \", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeQuestTab.value = 'nextQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'nextQuests' })\n                    }, \"  \", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[2] || (_cache[2] = ($event) => (activeQuestTab.value = 'pendingQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'pendingQuests' })\n                    }, \"  \", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[3] || (_cache[3] = ($event) => (activeQuestTab.value = 'completedQuests')),\n                        class: _normalizeClass({ active: _unref(activeQuestTab) === 'completedQuests' })\n                    }, \"  \", 2 /* CLASS */)\n                ]),\n                (_unref(activeQuestTab) === 'currentQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        (Object.keys(_unref(currentQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(currentQuests), (quest, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain }]),\n                                        key: index\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_5, _toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_6, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                (_unref(activeQuestTab) === 'nextQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        (Object.keys(_unref(nextQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(nextQuests), (quest, questId) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain }]),\n                                        key: questId\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_9, [\n                                            _createTextVNode(_toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(activeQuest)(questId))\n                                            }, \"\", 8 /* PROPS */, _hoisted_10)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_11, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                (_unref(activeQuestTab) === 'pendingQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                        (Object.keys(_unref(pendingQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(pendingQuests), (quest, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain }]),\n                                        key: index\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_14, _toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_15, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                (_unref(activeQuestTab) === 'completedQuests')\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                        (Object.keys(_unref(completedQuests)).length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, \"\"))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(completedQuests), (quest, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"quest-item\", { 'side-quest': !quest.isMain }]),\n                                        key: index\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_18, _toDisplayString(quest.isMain ? '' : '') + \" - \" + _toDisplayString(quest.name), 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_19, _toDisplayString(quest.description), 1 /* TEXT */)\n                                    ], 2 /* CLASS */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]))\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true)\n            ]));\n        };\n    }\n});\n","// hooks/useQuests.ts\nimport { computed, ref } from 'vue';\n\nexport function useQuests(mvu: any, handleMvuUpdate: any) {\n  const currentQuests = computed(() => {\n    return mvu.value.PlayerData.progress.currentQuest;\n  });\n\n  const nextQuests = computed(() => {\n    return mvu.value.PlayerData.progress.nextQuest;\n  });\n\n  const pendingQuests = computed(() => {\n    return mvu.value.PlayerData.progress.pendingQuest;\n  });\n\n  const completedQuests = computed(() => {\n    return mvu.value.PlayerData.progress.completedQuest;\n  });\n\n  const activeQuestTab = ref('currentQuests');\n\n  const activeQuest = (questId: string) => {\n    const questToActivate = mvu.value.PlayerData.progress.nextQuest[questId];\n\n    if (questToActivate) {\n      const quest = _.cloneDeep(questToActivate);\n      toastr.success(` ${questToActivate.name} `);\n      handleMvuUpdate([\n        {\n          event: 'insertByObject',\n          detail: {\n            PlayerData: {\n              progress: {\n                currentQuest: {\n                  [questId]: quest,\n                },\n              },\n            },\n          },\n        },\n      ]);\n      handleMvuUpdate([\n        {\n          event: 'deleteByObject',\n          detail: {\n            PlayerData: {\n              progress: {\n                nextQuest: {\n                  [questId]: {},\n                },\n              },\n            },\n          },\n        },\n      ]);\n    }\n  };\n\n  return {\n    currentQuests,\n    nextQuests,\n    pendingQuests,\n    completedQuests,\n    activeQuestTab,\n    activeQuest,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./questsTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./questsTab.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ClothingSystemData, type QualityType, type SlotType, type TierType } from '../ERA/itemConstants';\n\n// ============  ============\n\nexport interface ClothingAttributes {\n  defense: number;\n  comfort: number;\n  warmth: number;\n  social: number;\n  weight: number;\n}\n\nexport interface CalculationResult {\n  valid: boolean;\n  error?: string;\n  usedDefaults?: {\n    tier: boolean;\n    quality: boolean;\n  };\n  input?: {\n    tier: TierType;\n    quality: QualityType;\n    slot: SlotType;\n  };\n  displayName?: string;\n  slotName?: string;\n  tierName?: string;\n  qualityName?: string;\n  qualityColor?: string;\n  attributes?: ClothingAttributes;\n  defense: number;\n  comfort: number;\n  warmth: number;\n  social: number;\n  weight: number;\n}\n\nexport interface ClothingInput {\n  tier: TierType;\n  quality: QualityType;\n  slot: SlotType;\n}\n\nexport interface GeneratedClothing {\n  tier: TierType;\n  quality: QualityType;\n  slot: SlotType;\n  material: string;\n  name: string;\n}\n\nexport interface GenerateOptions {\n  slot?: SlotType;\n  tier?: TierType;\n  quality?: QualityType;\n}\n\n// ============  ============\n\n// \nconst MATERIALS: readonly string[] = [\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n] as const;\n\n// \nconst CLOTHING_NAMES: Record<SlotType, readonly string[]> = {\n  head: [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ],\n  bodyInner: ['', '', '', '', '', '', '', '', '', ''],\n  bodyArmor: [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ],\n  hands: ['', '', '', '', '', '', '', '', '', ''],\n  legsInner: ['', '', '', '', '', '', '', ''],\n  legsArmor: ['', '', '', '', '', '', '', '', ''],\n  feet: [\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n  ],\n  cloak: ['', '', '', '', '', '', '', '', '', ''],\n  neck: ['', '', '', '', '', '', '', '', '', ''],\n  ring: ['', '', '', '', '', '', '', '', ''],\n  belt: ['', '', '', '', '', '', '', '', ''],\n} as const;\n\n// ============  ============\n\n/**\n * \n */\nfunction calculateClothingAttributes(input: ClothingInput): CalculationResult {\n  const { tier, quality, slot } = input;\n\n  // \n  const defaultTier: TierType = 'light';\n  const defaultQuality: QualityType = 'common';\n\n  // \n  const tierData = ClothingSystemData.TierSystem[tier] || ClothingSystemData.TierSystem[defaultTier];\n  const qualityData = ClothingSystemData.QualitySystem[quality] || ClothingSystemData.QualitySystem[defaultQuality];\n  const slotData = ClothingSystemData.ClothingSlots[slot];\n\n  // slot0\n  if (!slotData) {\n    return {\n      valid: false,\n      error: `: ${slot}`,\n      defense: 0,\n      comfort: 0,\n      warmth: 0,\n      social: 0,\n      weight: 0,\n    };\n  }\n\n  // \n  const usedDefaults = {\n    tier: !ClothingSystemData.TierSystem[tier],\n    quality: !ClothingSystemData.QualitySystem[quality],\n  };\n\n  //     \n  const qCoeff = qualityData.allAttributesCoeff;\n\n  const defense = Math.round(slotData.baseDefense * tierData.defenseCoeff * qCoeff * 10) / 10;\n  const comfort = Math.round(slotData.baseComfort * tierData.comfortCoeff * qCoeff * 10) / 10;\n  const warmth = Math.round(slotData.baseWarmth * tierData.warmthCoeff * qCoeff * 10) / 10;\n  const social = Math.round(slotData.baseSocial * tierData.socialCoeff * qCoeff * 10) / 10;\n  const weight = Math.round(slotData.baseWeight * tierData.weightCoeff * qCoeff * 100) / 100;\n\n  return {\n    valid: true,\n    usedDefaults,\n    input: {\n      tier: tier || defaultTier,\n      quality: quality || defaultQuality,\n      slot,\n    },\n    displayName: `${qualityData.name}${tierData.name}${slotData.name}`,\n    slotName: slotData.name,\n    tierName: tierData.name,\n    qualityName: qualityData.name,\n    qualityColor: qualityData.color,\n    attributes: {\n      defense,\n      comfort,\n      warmth,\n      social,\n      weight,\n    },\n    defense,\n    comfort,\n    warmth,\n    social,\n    weight,\n  };\n}\n\n/**\n * \n */\nfunction randomChoice<T>(arr: readonly T[]): T {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\n/**\n * \n */\nfunction generateRandomClothing(options: GenerateOptions = {}): GeneratedClothing {\n  // \n  const validTiers = Object.keys(ClothingSystemData.TierSystem) as TierType[];\n  const validQualities = Object.keys(ClothingSystemData.QualitySystem) as QualityType[];\n  const validSlots = Object.keys(ClothingSystemData.ClothingSlots) as SlotType[];\n\n  // \n  const tier = options.tier && validTiers.includes(options.tier) ? options.tier : randomChoice(validTiers);\n\n  const quality =\n    options.quality && validQualities.includes(options.quality) ? options.quality : randomChoice(validQualities);\n\n  const slot = options.slot && validSlots.includes(options.slot) ? options.slot : randomChoice(validSlots);\n\n  // \n  const material = randomChoice(MATERIALS);\n  const name = randomChoice(CLOTHING_NAMES[slot]);\n\n  return {\n    tier,\n    quality,\n    slot,\n    material,\n    name,\n  };\n}\n\n/**\n * \n */\nfunction generateRandomClothingBatch(count: number, options: GenerateOptions = {}): GeneratedClothing[] {\n  const items: GeneratedClothing[] = [];\n  for (let i = 0; i < count; i++) {\n    items.push(generateRandomClothing(options));\n  }\n  return items;\n}\n\n// ============  ============\n\nexport {\n  // \n  calculateClothingAttributes,\n  // \n  CLOTHING_NAMES,\n  generateRandomClothing,\n  generateRandomClothingBatch,\n  MATERIALS,\n  randomChoice,\n};\n\n/** ============  ============\n\n// \nconsole.log(\"=== TypeScript  ===\\n\");\n\nconst item1 = generateRandomClothing();\nconsole.log(\":\", item1);\nconsole.log(\":\", calculateClothingAttributes(item1));\n\nconst legendaryItems = generateRandomClothingBatch(3, { quality: \"legendary\" });\nconsole.log(\"\\n:\", legendaryItems);\n */\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"wardrobe-container\" };\nconst _hoisted_2 = { class: \"outfit-list\" };\nconst _hoisted_3 = { class: \"outfit-header\" };\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n    key: 0,\n    class: \"current-tag\"\n};\nconst _hoisted_6 = { class: \"outfit-details\" };\nconst _hoisted_7 = { class: \"outfit-header\" };\nconst _hoisted_8 = { class: \"section-title\" };\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = { class: \"equipment-slots\" };\nconst _hoisted_11 = {\n    key: 0,\n    class: \"slot-item\"\n};\nconst _hoisted_12 = { class: \"slot-name\" };\nconst _hoisted_13 = { class: \"item-name\" };\nconst _hoisted_14 = { class: \"item-details\" };\nconst _hoisted_15 = {\n    key: 1,\n    class: \"slot-item\"\n};\nconst _hoisted_16 = { class: \"slot-name\" };\nconst _hoisted_17 = { class: \"slot-name\" };\nconst _hoisted_18 = { class: \"item-name\" };\nconst _hoisted_19 = { class: \"item-details\" };\nconst _hoisted_20 = { class: \"clothing-attributes\" };\nconst _hoisted_21 = { class: \"attr\" };\nconst _hoisted_22 = { class: \"attr\" };\nconst _hoisted_23 = { class: \"attr\" };\nconst _hoisted_24 = { class: \"attr\" };\nconst _hoisted_25 = { class: \"attr\" };\nconst _hoisted_26 = {\n    key: 1,\n    class: \"data-empty\"\n};\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useWardrobe } from '../hooks/useWardrobe';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'wardTab',\n    emits: ['open-update'],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const { mvu, rawMvuData, handleMvuUpdate, initialize } = useMvuData();\n        const { slotNames, selectedOutfitId, selectedOutfit, currentEquippedOutfit, equipOutfit, openUpdateOutfit } = useWardrobe(mvu, emit);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"section-title\" }, \"\", -1 /* CACHED */)),\n                        _createElementVNode(\"button\", {\n                            onClick: _cache[0] || (_cache[0] =\n                                //@ts-ignore\n                                (...args) => (_unref(openUpdateOutfit) && _unref(openUpdateOutfit)(...args)))\n                        }, \"\")\n                    ]),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).Wardrobe.ownedOutfits, (outfit, outfitId) => {\n                        return (_openBlock(), _createElementBlock(\"div\", {\n                            key: outfitId,\n                            class: _normalizeClass([\"outfit-item\", { active: outfitId === _unref(mvu).Wardrobe.currentOutfit, selected: outfitId === _unref(selectedOutfitId) }]),\n                            onClick: ($event) => (selectedOutfitId.value = outfitId)\n                        }, [\n                            _createTextVNode(_toDisplayString(outfit.name) + \" \", 1 /* TEXT */),\n                            (outfitId === _unref(mvu).Wardrobe.currentOutfit)\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"()\"))\n                                : _createCommentVNode(\"v-if\", true)\n                        ], 10 /* CLASS, PROPS */, _hoisted_4));\n                    }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _createElementVNode(\"div\", _hoisted_6, [\n                    (_unref(selectedOutfit))\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                            _createElementVNode(\"div\", _hoisted_7, [\n                                _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_unref(selectedOutfit).name), 1 /* TEXT */),\n                                _createElementVNode(\"button\", {\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (_unref(equipOutfit)(_unref(selectedOutfitId)))),\n                                    disabled: _unref(selectedOutfitId) === _unref(mvu).Wardrobe.currentOutfit\n                                }, \"  \", 8 /* PROPS */, _hoisted_9)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_10, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedOutfit).slots, (item, slotKey) => {\n                                    return (_openBlock(), _createElementBlock(_Fragment, { key: slotKey }, [\n                                        (!Array.isArray(item) && item)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                                                _createElementVNode(\"span\", _hoisted_12, _toDisplayString(_unref(slotNames)[slotKey] || item.slot), 1 /* TEXT */),\n                                                _createElementVNode(\"span\", _hoisted_13, [\n                                                    _createTextVNode(_toDisplayString(item.name) + \" \", 1 /* TEXT */),\n                                                    _createElementVNode(\"span\", _hoisted_14, \"(\" + _toDisplayString(item.quality) + \", \" + _toDisplayString(item.material) + \")\", 1 /* TEXT */)\n                                                ])\n                                            ]))\n                                            : (slotKey !== 'extra')\n                                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                                    _createElementVNode(\"span\", _hoisted_16, _toDisplayString(_unref(slotNames)[slotKey]), 1 /* TEXT */),\n                                                    _cache[3] || (_cache[3] = _createElementVNode(\"span\", { class: \"item-name-empty\" }, \"--\", -1 /* CACHED */))\n                                                ]))\n                                                : _createCommentVNode(\"v-if\", true),\n                                        (slotKey === 'extra' && Array.isArray(item) && item.length > 0)\n                                            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 2 }, _renderList(item, (extraItem, index) => {\n                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                    key: `extra-${index}`,\n                                                    class: \"slot-item\"\n                                                }, [\n                                                    _createElementVNode(\"span\", _hoisted_17, _toDisplayString(_unref(slotNames).extra || ''), 1 /* TEXT */),\n                                                    _createElementVNode(\"span\", _hoisted_18, [\n                                                        _createTextVNode(_toDisplayString(extraItem.name) + \" \", 1 /* TEXT */),\n                                                        _createElementVNode(\"span\", _hoisted_19, \"(\" + _toDisplayString(extraItem.quality) + \", \" + _toDisplayString(extraItem.material) + \")\", 1 /* TEXT */)\n                                                    ])\n                                                ]));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ], 64 /* STABLE_FRAGMENT */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_20, [\n                                _cache[9] || (_cache[9] = _createElementVNode(\"div\", { class: \"section-title\" }, \"\", -1 /* CACHED */)),\n                                _createElementVNode(\"div\", _hoisted_21, [\n                                    _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerDynamicData.clothingAttributes.defense.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_22, [\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerDynamicData.clothingAttributes.comfort.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_23, [\n                                    _cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerDynamicData.clothingAttributes.warmth.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_24, [\n                                    _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerDynamicData.clothingAttributes.social.toFixed(1)), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_25, [\n                                    _cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerDynamicData.clothingAttributes.weight.toFixed(1)), 1 /* TEXT */)\n                                ])\n                            ])\n                        ], 64 /* STABLE_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_26, \"\"))\n                ])\n            ]));\n        };\n    }\n});\n","// hooks/useWardrobe.ts\nimport { computed, ref, Ref, watch } from 'vue';\nimport { calculateClothingAttributes } from '../clothingConstants';\nimport { QualityType, SlotType, TierType } from '../itemConstants';\nimport { MvuData, Slots } from '../types';\n\nexport function useWardrobe(mvu: Ref<MvuData>, emit: (event: 'open-update') => void) {\n  const slotNames: { [key: string]: string } = {\n    head: '',\n    bodyInner: '',\n    bodyArmor: '',\n    hands: '',\n    legsInner: '',\n    legsArmor: '',\n    feet: '',\n    cloak: '',\n    neck: '',\n    ring: '',\n    belt: '',\n    extra: '',\n  };\n\n  const selectedOutfitId = ref(mvu.value.Wardrobe.currentOutfit);\n\n  watch(\n    () => mvu.value.Wardrobe.currentOutfit,\n    newOutfitId => {\n      selectedOutfitId.value = newOutfitId;\n    },\n  );\n\n  const selectedOutfit = computed(() => {\n    return mvu.value.Wardrobe.ownedOutfits[selectedOutfitId.value];\n  });\n\n  const currentEquippedOutfit = computed(() => {\n    return mvu.value.Wardrobe.ownedOutfits[mvu.value.Wardrobe.currentOutfit];\n  });\n\n  const equipOutfit = (outfitId: string) => {\n    // TODO: This should trigger an MVU update to persist the change.\n    // For now, just updating local state for UI demonstration.\n    mvu.value.Wardrobe.currentOutfit = outfitId;\n  };\n\n  // , \n  watch(\n    currentEquippedOutfit,\n    currentOutfit => {\n      const newAttributes = {\n        defense: 0,\n        comfort: 0,\n        warmth: 0,\n        social: 0,\n        weight: 0,\n      };\n\n      if (currentOutfit) {\n        for (const slot in currentOutfit.slots) {\n          const item = currentOutfit.slots[slot as keyof Slots];\n          if (item && !Array.isArray(item)) {\n            try {\n              const itemAttributes = calculateClothingAttributes({\n                tier: item.tier as TierType,\n                quality: item.quality as QualityType,\n                slot: item.slot as SlotType,\n              });\n              newAttributes.defense += itemAttributes.defense || 0;\n              newAttributes.comfort += itemAttributes.comfort || 0;\n              newAttributes.warmth += itemAttributes.warmth || 0;\n              newAttributes.social += itemAttributes.social || 0;\n              newAttributes.weight += itemAttributes.weight || 0;\n            } catch (error) {\n              console.error(`${slot}:`, item, error);\n            }\n          }\n        }\n      }\n\n      // TODO: This should trigger an MVU update to persist the change\n      mvu.value.PlayerDynamicData.clothingAttributes = newAttributes;\n    },\n    { immediate: true },\n  );\n\n  const openUpdateOutfit = () => {\n    emit('open-update');\n  };\n\n  return {\n    slotNames,\n    selectedOutfitId,\n    selectedOutfit,\n    currentEquippedOutfit,\n    equipOutfit,\n    openUpdateOutfit,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./wardTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./wardTab.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = { class: \"world-container\" };\nconst _hoisted_2 = { class: \"section-title\" };\nconst _hoisted_3 = { class: \"master-detail-body reverse\" };\nconst _hoisted_4 = { class: \"scene-detail-item\" };\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = { class: \"detail-panel\" };\nconst _hoisted_7 = {\n    key: 0,\n    class: \"scene-detail-item\"\n};\nconst _hoisted_8 = { class: \"column\" };\nconst _hoisted_9 = { key: 0 };\nconst _hoisted_10 = { key: 1 };\nconst _hoisted_11 = { class: \"attributes\" };\nconst _hoisted_12 = { class: \"attr-value\" };\nconst _hoisted_13 = {\n    key: 1,\n    class: \"data-empty\"\n};\nconst _hoisted_14 = { class: \"faction-header\" };\nconst _hoisted_15 = { class: \"faction-name\" };\nconst _hoisted_16 = { class: \"faction-content\" };\nimport { useMvuData } from '../hooks/useMvuData';\nimport { useParty } from '../hooks/useParty';\nimport { useWorld } from '../hooks/useWorld';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'worldTab',\n    emits: ['open-map'],\n    setup(__props, { emit: __emit }) {\n        const emit = __emit;\n        const { mvu, rawMvuData, handleMvuUpdate } = useMvuData();\n        const { selectedNpc, selectNpc, openWorldMap, getPrestigeDescription, getPrestigeColor, deleteNPC } = useWorld(mvu, handleMvuUpdate, emit);\n        const { characterLabels, metaLabels, attributeLabels } = useParty(mvu, rawMvuData, handleMvuUpdate);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _cache[3] || (_cache[3] = _createTextVNode(\" NPC \", -1 /* CACHED */)),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] =\n                            //@ts-ignore\n                            (...args) => (_unref(openWorldMap) && _unref(openWorldMap)(...args)))\n                    }, [...(_cache[2] || (_cache[2] = [\n                            _createTextVNode(\" \", -1 /* CACHED */),\n                            _createElementVNode(\"i\", { class: \"fa-solid fa-map-location-dot\" }, null, -1 /* CACHED */)\n                        ]))])\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _createElementVNode(\"div\", _hoisted_4, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).PlayerData.settings.nearbyNPC, (npc, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                key: index,\n                                onClick: ($event) => (_unref(selectNpc)(npc, index)),\n                                class: _normalizeClass([{ selected: _unref(selectedNpc)?.id === index }, \"npc-name\"])\n                            }, _toDisplayString(npc.character?.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_5));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                        (_unref(selectedNpc))\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                                _createElementVNode(\"i\", {\n                                    class: \"fa-solid fa-trash-can\",\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (_unref(deleteNPC)(_unref(selectedNpc).id))),\n                                    style: { \"cursor\": \"pointer\", \"position\": \"absolute\", \"top\": \"15px\", \"right\": \"15px\" },\n                                    title: \"\"\n                                }),\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedNpc).character, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(characterLabels)[key] || key), 1 /* TEXT */),\n                                            _createTextVNode(\" \" + _toDisplayString(value), 1 /* TEXT */)\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */)),\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedNpc).meta, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"column-content\",\n                                            style: { \"grid-column\": \"1 / -1\" },\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(metaLabels)[key] || key), 1 /* TEXT */),\n                                            (key === 'favorabilityTowardsNPCs')\n                                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(value, (fav, npcName) => {\n                                                        return (_openBlock(), _createElementBlock(\"div\", { key: npcName }, _toDisplayString(npcName) + \": \" + _toDisplayString(fav), 1 /* TEXT */));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ]))\n                                                : (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _toDisplayString(value), 1 /* TEXT */))\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_11, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(selectedNpc).attributes, (value, key) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            class: \"attr\",\n                                            key: key\n                                        }, [\n                                            _createElementVNode(\"span\", null, _toDisplayString(_unref(attributeLabels)[key] || key), 1 /* TEXT */),\n                                            _createElementVNode(\"span\", _hoisted_12, _toDisplayString(value), 1 /* TEXT */)\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ])\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, \"\"))\n                    ])\n                ]),\n                _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n                    class: \"section-title\",\n                    style: { \"margin-top\": \"20px\" }\n                }, \"\", -1 /* CACHED */)),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(mvu).PlayerData.settings.factionPrestige, (faction, index) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                        key: index,\n                        class: \"faction-card\"\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_14, [\n                            _createElementVNode(\"div\", _hoisted_15, _toDisplayString(faction.name), 1 /* TEXT */),\n                            _createElementVNode(\"div\", {\n                                class: \"faction-prestige\",\n                                style: _normalizeStyle({ color: _unref(getPrestigeColor)(faction.prestige) })\n                            }, _toDisplayString(faction.prestige) + \" (\" + _toDisplayString(_unref(getPrestigeDescription)(faction.prestige)) + \") \", 5 /* TEXT, STYLE */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_16, [\n                            _createElementVNode(\"span\", null, _toDisplayString(faction.description), 1 /* TEXT */)\n                        ])\n                    ]));\n                }), 128 /* KEYED_FRAGMENT */))\n            ]));\n        };\n    }\n});\n","import { ref, Ref } from 'vue';\nimport { MvuData, NpcData, WithId } from '../types';\n\nexport function useWorld(mvu: Ref<MvuData>, handleMvuUpdate: Function, emit: (event: 'open-map') => void) {\n  const selectedNpc = ref<WithId<NpcData> | null>(null);\n\n  function selectNpc(npc: NpcData | null, index: string) {\n    if (selectedNpc.value?.id === index) {\n      selectedNpc.value = null;\n    } else {\n      selectedNpc.value = npc\n        ? {\n            ...npc,\n            id: index,\n          }\n        : null;\n    }\n  }\n\n  const openWorldMap = () => {\n    emit('open-map');\n  };\n\n  const getPrestigeDescription = (prestige: number): string => {\n    if (prestige <= -75) return '';\n    if (prestige <= -25) return '';\n    if (prestige < 25) return '';\n    if (prestige < 75) return '';\n    return '';\n  };\n\n  const getPrestigeColor = (prestige: number): string => {\n    if (prestige <= -75) return '#c00';\n    if (prestige <= -25) return '#f44336';\n    if (prestige < 25) return '#9e9e9e';\n    if (prestige < 75) return '#4caf50';\n    return '#8bc34a';\n  };\n\n  const deleteNPC = (npcKey: string) => {\n    const itemToDelete = mvu.value.PlayerData.settings.nearbyNPC[npcKey];\n    if (selectedNpc.value && itemToDelete && selectedNpc.value.character.name === itemToDelete.character.name) {\n      selectNpc(null, '');\n    }\n    handleMvuUpdate([\n      {\n        event: 'deleteByObject',\n        detail: {\n          PlayerData: {\n            settings: {\n              nearbyNPC: {\n                [npcKey]: {},\n              },\n            },\n          },\n        },\n      },\n    ]);\n  };\n\n  return {\n    selectedNpc,\n    selectNpc,\n    openWorldMap,\n    getPrestigeDescription,\n    getPrestigeColor,\n    deleteNPC,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./worldTab.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./worldTab.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"map-selector-wrapper\" };\nconst _hoisted_2 = { class: \"map-controls\" };\nconst _hoisted_3 = { class: \"selected-point-preview\" };\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"helper-controls\"\n};\nconst _hoisted_6 = { key: 0 };\nconst _hoisted_7 = [\"checked\"];\nimport { onMounted, onUnmounted, ref } from 'vue';\nconst cityClickRadius = 8;\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MapSelector',\n    props: {\n        coordinateHelperMode: {\n            type: Boolean,\n            default: false,\n        },\n        showHelperCheckbox: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    emits: ['point-selected', 'coordinates-clicked', 'update:coordinateHelperMode'],\n    setup(__props, { emit: __emit }) {\n        const props = __props;\n        const emit = __emit;\n        const mapCanvas = ref(null);\n        const canvasContainer = ref(null);\n        const selectedRegion = ref(null);\n        const selectedCity = ref(null);\n        const lastClickedPoint = ref(null); // For helper mode\n        const lastClickedOriginalCoords = ref(null);\n        const mapImage = new Image();\n        const isImageLoaded = ref(false);\n        const scaleX = ref(1);\n        const scaleY = ref(1);\n        const regions = [\n            {\n                name: '',\n                points: [\n                    { x: 181, y: 22 },\n                    { x: 194, y: 64 },\n                    { x: 116, y: 146 },\n                    { x: 96, y: 172 },\n                    { x: 122, y: 231 },\n                    { x: 97, y: 239 },\n                    { x: 99, y: 259 },\n                    { x: 122, y: 270 },\n                    { x: 139, y: 260 },\n                    { x: 151, y: 288 },\n                    { x: 321, y: 287 },\n                    { x: 328, y: 226 },\n                    { x: 302, y: 187 },\n                    { x: 338, y: 148 },\n                    { x: 318, y: 117 },\n                    { x: 260, y: 101 },\n                    { x: 267, y: 88 },\n                    { x: 234, y: 46 },\n                ],\n                color: 'rgba(60, 179, 113, 0.2)',\n                cities: [\n                    { name: '', x: 209, y: 169 },\n                    { name: '', x: 202, y: 184 },\n                    { name: '', x: 242, y: 195 },\n                ],\n            },\n        ];\n        const isPointInPolygon = (point, polygon) => {\n            let isInside = false;\n            for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n                const xi = polygon[i].x, yi = polygon[i].y;\n                const xj = polygon[j].x, yj = polygon[j].y;\n                const intersect = yi > point.y !== yj > point.y && point.x < ((xj - xi) * (point.y - yi)) / (yj - yi) + xi;\n                if (intersect)\n                    isInside = !isInside;\n            }\n            return isInside;\n        };\n        const drawMap = () => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            const { width, height } = canvas;\n            const dpr = window.devicePixelRatio || 1;\n            const displayWidth = width / dpr;\n            const displayHeight = height / dpr;\n            ctx.clearRect(0, 0, width, height);\n            if (isImageLoaded.value) {\n                ctx.drawImage(mapImage, 0, 0, displayWidth, displayHeight);\n            }\n            else {\n                ctx.fillStyle = '#EAE7DC';\n                ctx.fillRect(0, 0, displayWidth, displayHeight);\n            }\n            // In helper mode, don't draw regions/cities, just the clicked point\n            if (props.coordinateHelperMode) {\n                if (lastClickedPoint.value) {\n                    ctx.fillStyle = 'cyan';\n                    ctx.beginPath();\n                    ctx.arc(lastClickedPoint.value.x, lastClickedPoint.value.y, 5, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.strokeStyle = 'black';\n                    ctx.stroke();\n                }\n                return;\n            }\n            regions.forEach(region => {\n                ctx.fillStyle = region.color;\n                ctx.beginPath();\n                ctx.moveTo(region.points[0].x * scaleX.value, region.points[0].y * scaleY.value);\n                for (let i = 1; i < region.points.length; i++) {\n                    ctx.lineTo(region.points[i].x * scaleX.value, region.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.fill();\n            });\n            ctx.font = '12px Arial';\n            ctx.textAlign = 'center';\n            regions.forEach(region => {\n                region.cities.forEach(city => {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    ctx.beginPath();\n                    ctx.arc(cityX, cityY, 5, 0, 2 * Math.PI);\n                    ctx.fillStyle = 'white';\n                    ctx.fill();\n                    ctx.strokeStyle = '#333';\n                    ctx.stroke();\n                    ctx.fillStyle = 'black';\n                    ctx.fillText(city.name, cityX, cityY + 15);\n                });\n            });\n            if (selectedRegion.value) {\n                ctx.strokeStyle = 'pink';\n                ctx.lineWidth = 3;\n                ctx.beginPath();\n                ctx.moveTo(selectedRegion.value.points[0].x * scaleX.value, selectedRegion.value.points[0].y * scaleY.value);\n                for (let i = 1; i < selectedRegion.value.points.length; i++) {\n                    ctx.lineTo(selectedRegion.value.points[i].x * scaleX.value, selectedRegion.value.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.stroke();\n            }\n            if (selectedCity.value) {\n                ctx.strokeStyle = 'yellow';\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.arc(selectedCity.value.x * scaleX.value, selectedCity.value.y * scaleY.value, cityClickRadius, 0, 2 * Math.PI);\n                ctx.stroke();\n            }\n        };\n        const handleCanvasClick = (event) => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const rect = canvas.getBoundingClientRect();\n            const clickPoint = { x: event.clientX - rect.left, y: event.clientY - rect.top };\n            if (props.coordinateHelperMode) {\n                const originalX = Math.round(clickPoint.x / scaleX.value);\n                const originalY = Math.round(clickPoint.y / scaleY.value);\n                const coords = { x: originalX, y: originalY };\n                console.log(`Coordinates: { x: ${coords.x}, y: ${coords.y} }`);\n                emit('coordinates-clicked', coords);\n                lastClickedOriginalCoords.value = coords;\n                lastClickedPoint.value = clickPoint;\n                drawMap();\n                return;\n            }\n            let foundCity = null;\n            let foundRegionForCity = null;\n            for (const region of regions) {\n                for (const city of region.cities) {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    const distance = Math.sqrt((clickPoint.x - cityX) ** 2 + (clickPoint.y - cityY) ** 2);\n                    if (distance < cityClickRadius) {\n                        foundCity = city;\n                        foundRegionForCity = region;\n                        break;\n                    }\n                }\n                if (foundCity)\n                    break;\n            }\n            if (foundCity && foundRegionForCity) {\n                selectedCity.value = foundCity;\n                selectedRegion.value = foundRegionForCity;\n                emit('point-selected', `${foundRegionForCity.name}, ${foundCity.name}`);\n            }\n            else {\n                const scaledRegions = regions.map(region => ({\n                    ...region,\n                    points: region.points.map(p => ({ x: p.x * scaleX.value, y: p.y * scaleY.value })),\n                }));\n                const clickedRegionData = scaledRegions.find(region => isPointInPolygon(clickPoint, region.points));\n                selectedCity.value = null;\n                if (clickedRegionData) {\n                    selectedRegion.value = regions.find(r => r.name === clickedRegionData.name) || null;\n                    emit('point-selected', clickedRegionData.name);\n                }\n                else {\n                    selectedRegion.value = null;\n                    emit('point-selected', '');\n                }\n            }\n            drawMap();\n        };\n        const resizeCanvas = () => {\n            const canvas = mapCanvas.value;\n            const container = canvasContainer.value;\n            if (!canvas || !container)\n                return;\n            const rect = container.getBoundingClientRect();\n            const dpr = window.devicePixelRatio || 1;\n            canvas.width = rect.width * dpr;\n            canvas.height = rect.height * dpr;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            ctx.scale(dpr, dpr);\n            // Base dimensions for coordinate mapping\n            const baseWidth = 500;\n            const baseHeight = 300;\n            scaleX.value = rect.width / baseWidth;\n            scaleY.value = rect.height / baseHeight;\n            drawMap();\n        };\n        let resizeObserver;\n        onMounted(() => {\n            mapImage.crossOrigin = 'Anonymous';\n            mapImage.onload = () => {\n                isImageLoaded.value = true;\n                drawMap();\n            };\n            mapImage.src =\n                'https://raw.githubusercontent.com/neko-kyuu/the-tale-of-Ofoces/refs/heads/static-resources/public/static/vault/29A958DA-EF44-4C67-923E-1B4ECB5E6A90_1_105_c.jpeg';\n            const container = canvasContainer.value;\n            if (container) {\n                resizeObserver = new ResizeObserver(resizeCanvas);\n                resizeObserver.observe(container);\n            }\n            resizeCanvas();\n        });\n        onUnmounted(() => {\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (selectedCity.value || selectedRegion.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \" \" + _toDisplayString(selectedCity.value ? `${selectedRegion.value?.name}, ${selectedCity.value.name}` : selectedRegion.value?.name), 1 /* TEXT */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    (__props.showHelperCheckbox)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            (lastClickedOriginalCoords.value)\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" : { x: \" + _toDisplayString(lastClickedOriginalCoords.value.x) + \", y: \" + _toDisplayString(lastClickedOriginalCoords.value.y) + \" } \", 1 /* TEXT */))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"label\", null, [\n                                _createElementVNode(\"input\", {\n                                    type: \"checkbox\",\n                                    checked: __props.coordinateHelperMode,\n                                    onChange: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('update:coordinateHelperMode', $event.target.checked)))\n                                }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_7),\n                                _cache[1] || (_cache[1] = _createTextVNode(\"  \", -1 /* CACHED */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createElementVNode(\"div\", {\n                    ref_key: \"canvasContainer\",\n                    ref: canvasContainer,\n                    class: \"canvas-container\"\n                }, [\n                    _createElementVNode(\"canvas\", {\n                        ref_key: \"mapCanvas\",\n                        ref: mapCanvas,\n                        onClick: handleCanvasClick\n                    }, null, 512 /* NEED_PATCH */)\n                ], 512 /* NEED_PATCH */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MapSelector.vue?vue&type=style&index=0&id=df9f9730&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df9f9730\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, normalizeClass as _normalizeClass, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = { class: \"modal-header\" };\nconst _hoisted_2 = { class: \"header-buttons\" };\nconst _hoisted_3 = { class: \"modal-body\" };\nconst _hoisted_4 = { class: \"modal-footer\" };\nimport { useFullscreen } from '@vueuse/core';\nimport { ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ModalDialog',\n    props: {\n        modelValue: {\n            type: Boolean,\n            default: false,\n        },\n        title: {\n            type: String,\n            default: '',\n        },\n    },\n    emits: ['update:modelValue', 'confirm'],\n    setup(__props) {\n        const modalContainerRef = ref(null);\n        const { isFullscreen, toggle: toggleFullscreen } = useFullscreen(modalContainerRef);\n        return (_ctx, _cache) => {\n            return (__props.modelValue)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"modal-overlay\",\n                    onClick: _cache[3] || (_cache[3] = _withModifiers(($event) => (_ctx.$emit('update:modelValue', false)), [\"self\"]))\n                }, [\n                    _createElementVNode(\"div\", {\n                        class: \"modal-container\",\n                        ref_key: \"modalContainerRef\",\n                        ref: modalContainerRef\n                    }, [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                            _renderSlot(_ctx.$slots, \"header\", {}, () => [\n                                _createElementVNode(\"h3\", null, _toDisplayString(__props.title), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_2, [\n                                _createElementVNode(\"button\", {\n                                    class: \"fullscreen-button\",\n                                    onClick: _cache[0] || (_cache[0] =\n                                        //@ts-ignore\n                                        (...args) => (_unref(toggleFullscreen) && _unref(toggleFullscreen)(...args)))\n                                }, [\n                                    _createElementVNode(\"i\", {\n                                        class: _normalizeClass(_unref(isFullscreen) ? 'fa-solid fa-compress' : 'fa-solid fa-expand')\n                                    }, null, 2 /* CLASS */)\n                                ]),\n                                _createElementVNode(\"button\", {\n                                    class: \"close-button\",\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (_ctx.$emit('update:modelValue', false)))\n                                }, [...(_cache[4] || (_cache[4] = [\n                                        _createElementVNode(\"i\", { class: \"fa-regular fa-circle-xmark\" }, null, -1 /* CACHED */)\n                                    ]))])\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_3, [\n                            _renderSlot(_ctx.$slots, \"default\", {}, () => [\n                                _cache[5] || (_cache[5] = _createElementVNode(\"p\", null, \"\", -1 /* CACHED */))\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _renderSlot(_ctx.$slots, \"footer\", {}, () => [\n                                _createElementVNode(\"button\", {\n                                    onClick: _cache[2] || (_cache[2] = ($event) => (_ctx.$emit('confirm')))\n                                }, \"\")\n                            ])\n                        ])\n                    ], 512 /* NEED_PATCH */)\n                ]))\n                : _createCommentVNode(\"v-if\", true);\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ModalDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ModalDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ModalDialog.vue?vue&type=style&index=0&id=222b7983&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-222b7983\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"outfit-editor-container\" };\nconst _hoisted_2 = { class: \"outfit-selector-container\" };\nconst _hoisted_3 = { class: \"detail-panel\" };\nconst _hoisted_4 = { class: \"details-content\" };\nconst _hoisted_5 = { class: \"edit-form\" };\nconst _hoisted_6 = { class: \"form-group\" };\nconst _hoisted_7 = { class: \"form-group\" };\nconst _hoisted_8 = { class: \"form-group\" };\nconst _hoisted_9 = { class: \"outfit-grid\" };\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = { key: 1 };\nconst _hoisted_12 = { class: \"item-display-panel\" };\nconst _hoisted_13 = {\n    key: 0,\n    class: \"item-list\"\n};\nconst _hoisted_14 = { class: \"item-info\" };\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = { class: \"item-description\" };\nconst _hoisted_17 = {\n    key: 0,\n    class: \"empty-text\"\n};\nconst _hoisted_18 = {\n    key: 1,\n    class: \"empty-text\"\n};\nimport _ from 'lodash';\nimport { computed, ref, watch } from 'vue';\nimport { useMvuData } from '../hooks/useMvuData';\nimport { qualityLabels, slotLabels, tierLabels } from '../itemConstants';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'outfitSelector',\n    setup(__props, { expose: __expose }) {\n        const { mvu } = useMvuData();\n        const selectedSlot = ref(null);\n        const defaultSlots = {\n            head: null,\n            bodyInner: null,\n            bodyArmor: null,\n            hands: null,\n            legsInner: null,\n            legsArmor: null,\n            feet: null,\n            cloak: null,\n            neck: null,\n            ring: null,\n            belt: null,\n            extra: [],\n        };\n        const defaultOutfitTemplate = {\n            name: '',\n            type: 'casual',\n            description: '[]',\n            slots: _.cloneDeep(defaultSlots),\n        };\n        const editingOutfit = ref(_.cloneDeep(defaultOutfitTemplate));\n        watch(() => mvu.value.Wardrobe.currentOutfit, newOutfitId => {\n            const newOutfitData = newOutfitId && newOutfitId !== 'none' ? mvu.value.Wardrobe.ownedOutfits[newOutfitId] : null;\n            if (newOutfitData) {\n                const hydratedSlots = _.cloneDeep(defaultSlots);\n                for (const slotKey in newOutfitData.slots) {\n                    if (Object.prototype.hasOwnProperty.call(newOutfitData.slots, slotKey)) {\n                        const slotName = slotKey;\n                        if (slotName !== 'extra') {\n                            const itemId = newOutfitData.slots[slotName];\n                            if (typeof itemId === 'string' && mvu.value.PlayerDynamicData.inventory[itemId]) {\n                                hydratedSlots[slotName] = mvu.value.PlayerDynamicData.inventory[itemId];\n                            }\n                            else {\n                                hydratedSlots[slotName] = null;\n                            }\n                        }\n                    }\n                }\n                editingOutfit.value = {\n                    ...newOutfitData,\n                    slots: hydratedSlots,\n                };\n            }\n            else {\n                editingOutfit.value = _.cloneDeep(defaultOutfitTemplate);\n            }\n        }, { immediate: true });\n        function handleSlotClick(slot) {\n            selectedSlot.value = slot;\n        }\n        function equipItem(item) {\n            if (!item.slot)\n                return;\n            const currentEquippedItem = editingOutfit.value.slots[item.slot];\n            if (currentEquippedItem && 'id' in currentEquippedItem && currentEquippedItem.id === item.id) {\n                editingOutfit.value.slots[item.slot] = null;\n            }\n            else {\n                editingOutfit.value.slots[item.slot] = item;\n            }\n        }\n        function isEquipped(item) {\n            if (!item.slot)\n                return false;\n            const equippedItem = editingOutfit.value.slots[item.slot];\n            return !!(equippedItem && 'id' in equippedItem && equippedItem.id === item.id);\n        }\n        __expose({\n            getOutfitData: () => {\n                const dehydrated = _.cloneDeep(editingOutfit.value);\n                for (const slot of Object.keys(dehydrated.slots)) {\n                    if (slot === 'extra')\n                        continue;\n                    const item = dehydrated.slots[slot];\n                    if (item && typeof item === 'object' && 'id' in item) {\n                        dehydrated.slots[slot] = item.id;\n                    }\n                }\n                return dehydrated;\n            },\n        });\n        const groupedInventory = computed(() => {\n            const inventoryItemsWithId = Object.entries(mvu.value.PlayerDynamicData.inventory).map(([id, itemData]) => ({\n                ...itemData,\n                id,\n            }));\n            const slottedItems = inventoryItemsWithId.filter((item) => !!item.slot);\n            return _.groupBy(slottedItems, 'slot');\n        });\n        const layout = [\n            [null, 'neck', 'head', null],\n            ['cloak', 'bodyArmor', 'bodyInner', null],\n            ['ring', null, 'belt', 'hands'],\n            [null, 'legsArmor', 'legsInner', 'feet'],\n        ];\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createElementVNode(\"div\", _hoisted_5, [\n                                _createElementVNode(\"div\", _hoisted_6, [\n                                    _cache[3] || (_cache[3] = _createElementVNode(\"label\", { for: \"outfit-name\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"input\", {\n                                        id: \"outfit-name\",\n                                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((editingOutfit.value.name) = $event)),\n                                        type: \"text\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, editingOutfit.value.name]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_7, [\n                                    _cache[4] || (_cache[4] = _createElementVNode(\"label\", { for: \"outfit-type\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"input\", {\n                                        id: \"outfit-type\",\n                                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((editingOutfit.value.type) = $event)),\n                                        type: \"text\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, editingOutfit.value.type]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"label\", { for: \"outfit-description\" }, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                        id: \"outfit-description\",\n                                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((editingOutfit.value.description) = $event))\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, editingOutfit.value.description]\n                                    ])\n                                ])\n                            ])\n                        ])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_9, [\n                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(layout, (row, rowIndex) => {\n                            return (_openBlock(), _createElementBlock(_Fragment, { key: rowIndex }, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row, (item, colIndex) => {\n                                    return (_openBlock(), _createElementBlock(_Fragment, { key: colIndex }, [\n                                        item\n                                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                                key: 0,\n                                                class: _normalizeClass([\"outfit-slot\", { selected: selectedSlot.value === item }]),\n                                                onClick: ($event) => (handleSlotClick(item))\n                                            }, _toDisplayString(editingOutfit.value.slots[item] ? editingOutfit.value.slots[item].name : _unref(slotLabels)[item]), 11 /* TEXT, CLASS, PROPS */, _hoisted_10))\n                                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_11))\n                                    ], 64 /* STABLE_FRAGMENT */));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ], 64 /* STABLE_FRAGMENT */));\n                        }), 64 /* STABLE_FRAGMENT */))\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_12, [\n                        (selectedSlot.value)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                                _createElementVNode(\"ul\", null, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(groupedInventory.value[selectedSlot.value], (item) => {\n                                        return (_openBlock(), _createElementBlock(\"li\", {\n                                            key: item.id,\n                                            class: _normalizeClass([\"item-card\", { equipped: isEquipped(item) }])\n                                        }, [\n                                            _createElementVNode(\"div\", _hoisted_14, [\n                                                _createElementVNode(\"div\", null, [\n                                                    _createTextVNode(_toDisplayString(item.name) + \" (\" + _toDisplayString(_unref(qualityLabels)[item.quality]) + \") - \" + _toDisplayString(_unref(tierLabels)[item.tier]) + \" \", 1 /* TEXT */),\n                                                    _createElementVNode(\"button\", {\n                                                        onClick: ($event) => (equipItem(item))\n                                                    }, _toDisplayString(isEquipped(item) ? '' : ''), 9 /* TEXT, PROPS */, _hoisted_15)\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_16, _toDisplayString(item.description), 1 /* TEXT */)\n                                            ])\n                                        ], 2 /* CLASS */));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ]),\n                                (!groupedInventory.value[selectedSlot.value] || groupedInventory.value[selectedSlot.value].length === 0)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, \"  \"))\n                                    : _createCommentVNode(\"v-if\", true)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, \"\"))\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./outfitSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./outfitSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./outfitSelector.vue?vue&type=style&index=0&id=22bb500e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22bb500e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"status-bar\" };\nconst _hoisted_2 = { class: \"scene-section\" };\nconst _hoisted_3 = { class: \"scene-details\" };\nconst _hoisted_4 = { class: \"scene-left\" };\nconst _hoisted_5 = { class: \"location\" };\nconst _hoisted_6 = { class: \"scene-right\" };\nconst _hoisted_7 = { class: \"meta-info\" };\nconst _hoisted_8 = { class: \"meta-info\" };\nconst _hoisted_9 = { class: \"tabs\" };\nconst _hoisted_10 = { class: \"tab-content\" };\nimport { onMounted, ref, shallowRef } from 'vue';\nimport BagTab from './components/bagTab.vue';\nimport CodexTab from './components/codexTab.vue';\nimport PartyTab from './components/partyTab.vue';\nimport QuestsTab from './components/questsTab.vue';\nimport WardTab from './components/wardTab.vue';\nimport WorldTab from './components/worldTab.vue';\nimport { useMvuData } from './hooks/useMvuData';\nimport { useTest } from './hooks/useTest';\nimport MapSelector from './components/MapSelector.vue';\nimport ModalDialog from './components/ModalDialog.vue';\nimport OutfitSelector from './components/outfitSelector.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const activeTab = ref('party');\n        const showModal = ref(false);\n        const modalTitle = ref('');\n        const modalContent = shallowRef(null);\n        const selectedPointName = ref('');\n        const modalComponentRef = ref(null);\n        const openMapModal = () => {\n            modalTitle.value = '';\n            modalContent.value = MapSelector;\n            selectedPointName.value = '';\n            showModal.value = true;\n        };\n        const openOutfitModal = () => {\n            modalTitle.value = '';\n            modalContent.value = OutfitSelector;\n            showModal.value = true;\n        };\n        const handlePointSelected = (point) => {\n            selectedPointName.value = point;\n        };\n        const handleConfirm = () => {\n            if (modalContent.value === MapSelector && selectedPointName.value) {\n                const [region, location] = selectedPointName.value.split(', ');\n                // todo promptllm\n                console.log(':', region, location);\n            }\n            else if (modalContent.value === OutfitSelector) {\n                const outfitData = modalComponentRef.value?.getOutfitData();\n                if (outfitData) {\n                    console.log(':', outfitData);\n                    //  handleMvuUpdate \n                    let wardrobe = Object.keys(mvu.value.Wardrobe.ownedOutfits);\n                    let increasableIndex = wardrobe.length ? Number(wardrobe[wardrobe.length - 1].slice(1)) + 1 : 1;\n                    let outfitKey = `O${increasableIndex}`;\n                    handleMvuUpdate([\n                        {\n                            event: 'insertByObject',\n                            detail: {\n                                Wardrobe: {\n                                    ownedOutfits: {\n                                        [outfitKey]: outfitData,\n                                    },\n                                },\n                            },\n                        },\n                    ]);\n                }\n            }\n            else {\n                console.log('');\n            }\n            showModal.value = false;\n        };\n        const { mvu, rawMvuData, handleMvuUpdate, initialize } = useMvuData();\n        const { testFunc } = useTest(mvu, handleMvuUpdate);\n        onMounted(async () => {\n            await initialize();\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"corner left-top\" }, null, -1 /* CACHED */)),\n                _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"corner right-top\" }, null, -1 /* CACHED */)),\n                _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"corner left-bottom\" }, null, -1 /* CACHED */)),\n                _cache[13] || (_cache[13] = _createElementVNode(\"div\", { class: \"corner right-bottom\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  -  \"),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createElementVNode(\"div\", _hoisted_5, \"  \" + _toDisplayString(_unref(mvu).PlayerData.settings.currentRegion) + \" - \" + _toDisplayString(_unref(mvu).PlayerData.settings.currentLocation), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            _createElementVNode(\"div\", _hoisted_7, [\n                                _cache[8] || (_cache[8] = _createTextVNode(\" : \", -1 /* CACHED */)),\n                                _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerData.settings.date) + \" \" + _toDisplayString(_unref(mvu).PlayerData.settings.time), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_8, [\n                                _cache[9] || (_cache[9] = _createTextVNode(\" : \", -1 /* CACHED */)),\n                                _createElementVNode(\"span\", null, _toDisplayString(_unref(mvu).PlayerData.settings.weather), 1 /* TEXT */)\n                            ])\n                        ])\n                    ])\n                ]),\n                _createElementVNode(\"div\", _hoisted_9, [\n                    _createCommentVNode(\" <button @click=\\\"testFunc\\\"></button> \"),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeTab.value = 'world')),\n                        class: _normalizeClass({ active: activeTab.value === 'world' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeTab.value = 'party')),\n                        class: _normalizeClass({ active: activeTab.value === 'party' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[2] || (_cache[2] = ($event) => (activeTab.value = 'wardrobe')),\n                        class: _normalizeClass({ active: activeTab.value === 'wardrobe' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[3] || (_cache[3] = ($event) => (activeTab.value = 'quests')),\n                        class: _normalizeClass({ active: activeTab.value === 'quests' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[4] || (_cache[4] = ($event) => (activeTab.value = 'bag')),\n                        class: _normalizeClass({ active: activeTab.value === 'bag' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[5] || (_cache[5] = ($event) => (activeTab.value = 'trade')),\n                        class: _normalizeClass({ active: activeTab.value === 'trade' })\n                    }, \"\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        onClick: _cache[6] || (_cache[6] = ($event) => (activeTab.value = 'codex')),\n                        class: _normalizeClass({ active: activeTab.value === 'codex' })\n                    }, \"\", 2 /* CLASS */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_10, [\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'world')\n                        ? (_openBlock(), _createBlock(WorldTab, {\n                            key: 0,\n                            onOpenMap: openMapModal\n                        }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'party')\n                        ? (_openBlock(), _createBlock(PartyTab, { key: 1 }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'wardrobe')\n                        ? (_openBlock(), _createBlock(WardTab, {\n                            key: 2,\n                            onOpenUpdate: openOutfitModal\n                        }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'quests')\n                        ? (_openBlock(), _createBlock(QuestsTab, { key: 3 }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'bag')\n                        ? (_openBlock(), _createBlock(BagTab, { key: 4 }))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'trade')\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 5 }, [], 64 /* STABLE_FRAGMENT */))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    (activeTab.value === 'codex')\n                        ? (_openBlock(), _createBlock(CodexTab, { key: 6 }))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createVNode(ModalDialog, {\n                    modelValue: showModal.value,\n                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((showModal).value = $event)),\n                    title: modalTitle.value,\n                    onConfirm: handleConfirm\n                }, {\n                    default: _withCtx(() => [\n                        (_openBlock(), _createBlock(_resolveDynamicComponent(modalContent.value), {\n                            ref_key: \"modalComponentRef\",\n                            ref: modalComponentRef,\n                            onPointSelected: handlePointSelected\n                        }, null, 544 /* NEED_HYDRATION, NEED_PATCH */))\n                    ]),\n                    footer: _withCtx(() => [\n                        _createCommentVNode(\" <button @click=\\\"showModal = false\\\"></button> \"),\n                        _createElementVNode(\"button\", { onClick: handleConfirm }, \"\")\n                    ]),\n                    _: 1 /* STABLE */\n                }, 8 /* PROPS */, [\"modelValue\", \"title\"])\n            ]));\n        };\n    }\n});\n","// hooks/useTest.ts\n\nexport function useTest(mvu: any, handleMvuUpdate: Function) {\n  const testFunc = () => {\n    const command = `\n            _.insert('FollowerNPCData','npcTest',{\n\t\t\t\t\"character\": {\n\t\t\t\t\t\"$meta\": {\n\t\t\t\t\t\t\"extensible\": true,\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"name\",\n\t\t\t\t\t\t\t\"level\",\n\t\t\t\t\t\t\t\"gender\",\n\t\t\t\t\t\t\t\"race\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t\"name\": \"npcTest\",\n\t\t\t\t\t\"level\": 1,\n\t\t\t\t\t\"gender\": \"\",\n\t\t\t\t\t\"race\": \"\"\n\t\t\t\t},\n\t\t\t\t\"status\": {\n\t\t\t\t\t\"$meta\": {\n\t\t\t\t\t\t\"extensible\": true,\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"health\",\n\t\t\t\t\t\t\t\"mood\",\n\t\t\t\t\t\t\t\"arousal\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t\"health\": {\n\t\t\t\t\t\t\"current\": 0,\n\t\t\t\t\t\t\"max\": 0\n\t\t\t\t\t},\n\t\t\t\t\t\"mood\": {\n\t\t\t\t\t\t\"current\": 0,\n\t\t\t\t\t\t\"max\": 100\n\t\t\t\t\t},\n\t\t\t\t\t\"arousal\": {\n\t\t\t\t\t\t\"current\": 50,\n\t\t\t\t\t\t\"max\": 100\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"attributes\": {\n\t\t\t\t\t\"$meta\": {\n\t\t\t\t\t\t\"extensible\": true,\n\t\t\t\t\t\t\"required\": [\n\t\t\t\t\t\t\t\"shooting\",\n\t\t\t\t\t\t\t\"melee\",\n\t\t\t\t\t\t\t\"construction\",\n\t\t\t\t\t\t\t\"mining\",\n\t\t\t\t\t\t\t\"cooking\",\n\t\t\t\t\t\t\t\"planting\",\n\t\t\t\t\t\t\t\"animals\",\n\t\t\t\t\t\t\t\"crafting\",\n\t\t\t\t\t\t\t\"artistic\",\n\t\t\t\t\t\t\t\"medical\",\n\t\t\t\t\t\t\t\"social\",\n\t\t\t\t\t\t\t\"intellectual\"\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t\"shooting\": 0,\n\t\t\t\t\t\"melee\": 0,\n\t\t\t\t\t\"construction\": 0,\n\t\t\t\t\t\"mining\": 0,\n\t\t\t\t\t\"cooking\": 0,\n\t\t\t\t\t\"planting\": 0,\n\t\t\t\t\t\"animals\": 0,\n\t\t\t\t\t\"crafting\": 0,\n\t\t\t\t\t\"artistic\": 0,\n\t\t\t\t\t\"medical\": 0,\n\t\t\t\t\t\"social\": 0,\n\t\t\t\t\t\"intellectual\": 0\n\t\t\t\t},\n\t\t\t});\n        `;\n    handleMvuUpdate(command);\n  };\n\n  return {\n    testFunc,\n  };\n}\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import App from './App.vue';\nimport './css/base.scss';\nimport './css/common.scss';\nimport './css/style.scss';\n$(() => {\n    createApp(App).mount('#app');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","n","getter","__esModule","d","a","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Vue","_","defaultMvuData","PlayerData","character","name","level","gender","race","height","build","appearance","personality","status","health","current","max","mood","arousal","attributes","shooting","melee","construction","mining","cooking","planting","animals","crafting","artistic","medical","social","intellectual","progress","questPhase","partyExperience","partyAttrPoints","currentQuest","nextQuest","pendingQuest","completedQuest","settings","date","time","weather","currentRegion","currentLocation","nearbyNPC","factionPrestige","bestiary","anecdotes","PlayerDynamicData","inventory","equipment","leftHand","rightHand","body","clothingAttributes","defense","comfort","warmth","weight","gold","FollowerNPCData","Wardrobe","ownedOutfits","currentOutfit","ArchivedData","System","mainStoryMode","ERA_EVENT","insertByObject","updateByObject","insertByPath","updateByPath","deleteByObject","deleteByPath","rawMvuData","ref","currentMessageId","mvu","useMvuData","refreshMvuData","async","messageId","eventEmit","error","console","value","watch","newData","warn","baseState","eventOn","detail","statWithoutMeta","currentQuests","quest","keys","updateWorldbookWith","worldbook","QUEST_KEYWORDS","STRATEGY_TYPE","map","entry","isQuestEntry","some","keyword","includes","strategy","isQuestActive","isMapActive","newStrategyType","type","handleMvuUpdate","commands","successCallback","toastr","forEach","command","event","initialize","getCurrentMessageId","z","TierTypeSchema","enum","QualityTypeSchema","SlotTypeSchema","ItemTypeSchema","object","string","default","description","quality","tier","slot","optional","extend","id","TierSystem","basic","defenseCoeff","comfortCoeff","warmthCoeff","socialCoeff","weightCoeff","light","medium","heavy","QualitySystem","common","allAttributesCoeff","color","good","excellent","masterwork","legendary","ClothingSlots","head","baseDefense","baseComfort","baseWarmth","baseSocial","baseWeight","bodyInner","bodyArmor","hands","legsInner","legsArmor","feet","cloak","neck","ring","belt","qualityLabels","fromEntries","entries","tierLabels","slotLabels","typeLabels","cloth","weapon","item","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","style","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","__name","setup","__props","selectedItem","selectItem","deleteItem","isEditing","editableItem","startEditing","cancelEditing","saveChanges","index","editItem","itemKey","newItem","oldItem","itemToDelete","JSON","parse","stringify","itemData","useInventory","_ctx","_cache","selected","onClick","$event","label","args","title","useCodex","selectedEntry","activeCodexTab","editableEntry","bestiaryEntries","computed","anecdoteEntries","selectedTab","selectEntry","tabName","newEntry","oldEntry","archivedEntries","deleteEntry","entryKey","entryToDelete","path","entryData","editEntry","archiveEntry","openEntry","active","habitat","weaknesses","killCount","number","location","charactersInvolved","knownInfo","useParty","partyUpgradeState","isAssigningAttributes","party","followerNPCs","mvuNpcData","totalSpentPoints","char","state","values","tempAttributes","initialAttributes","watchEffect","charName","getCharacterPath","selectedChar","selectedCharIndex","characterLabels","metaLabels","relationship","favorability","favorabilityTowardsNPCs","attributeLabels","statusLabels","levelUp","warning","newLevel","newExp","levelsToGain","newPartyAttrPoints","currentExp","maxExp","Math","floor","pointsToGain","calculateLevelUpData","basePath","generateLevelUpCommand","success","commitAttributes","pointsSpent","getSpentPoints","info","push","length","generateAttributeCommands","incrementAttribute","attrKey","decrementAttribute","selectChar","disabled","stat","width","min","meta","fav","npcName","nextQuests","pendingQuests","completedQuests","activeQuestTab","activeQuest","questId","questToActivate","cloneDeep","useQuests","isMain","calculateClothingAttributes","input","defaultTier","defaultQuality","tierData","qualityData","slotData","valid","usedDefaults","qCoeff","round","displayName","slotName","tierName","qualityName","qualityColor","emits","emit","__emit","slotNames","selectedOutfitId","selectedOutfit","currentEquippedOutfit","equipOutfit","openUpdateOutfit","newOutfitId","newAttributes","slots","Array","isArray","itemAttributes","immediate","extra","outfitId","useWardrobe","outfit","slotKey","material","extraItem","toFixed","selectedNpc","selectNpc","openWorldMap","getPrestigeDescription","getPrestigeColor","deleteNPC","npc","prestige","npcKey","useWorld","faction","coordinateHelperMode","Boolean","showHelperCheckbox","mapCanvas","canvasContainer","selectedRegion","selectedCity","lastClickedPoint","lastClickedOriginalCoords","mapImage","Image","isImageLoaded","scaleX","scaleY","regions","points","x","y","cities","drawMap","canvas","ctx","getContext","dpr","window","devicePixelRatio","displayWidth","displayHeight","clearRect","drawImage","fillStyle","fillRect","beginPath","arc","PI","fill","strokeStyle","stroke","region","moveTo","i","lineTo","closePath","font","textAlign","city","cityX","cityY","fillText","lineWidth","handleCanvasClick","rect","getBoundingClientRect","clickPoint","clientX","left","clientY","top","coords","log","foundCity","foundRegionForCity","sqrt","clickedRegionData","p","find","point","polygon","isInside","j","xi","yi","xj","yj","isPointInPolygon","r","resizeCanvas","container","scale","resizeObserver","onMounted","crossOrigin","onload","src","ResizeObserver","observe","onUnmounted","disconnect","checked","onChange","$emit","ref_key","modelValue","String","modalContainerRef","isFullscreen","toggle","toggleFullscreen","$slots","expose","__expose","selectedSlot","defaultSlots","defaultOutfitTemplate","editingOutfit","isEquipped","equippedItem","newOutfitData","hydratedSlots","itemId","getOutfitData","dehydrated","groupedInventory","slottedItems","filter","layout","for","row","rowIndex","colIndex","equipped","currentEquippedItem","activeTab","showModal","modalTitle","modalContent","shallowRef","selectedPointName","modalComponentRef","openMapModal","MapSelector","openOutfitModal","handlePointSelected","handleConfirm","split","outfitData","wardrobe","outfitKey","Number","slice","testFunc","useTest","onOpenMap","onOpenUpdate","ModalDialog","onConfirm","onPointSelected","footer","$","createApp","App","mount"],"ignoreList":[],"sourceRoot":""}