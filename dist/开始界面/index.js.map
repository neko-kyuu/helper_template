{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/书记官ERA_refactor/components/MapSelector.vue","webpack://tavern_helper_template/src/书记官ERA_refactor/components/MapSelector.vue?5559","src://tavern_helper_template/src/开始界面/useCharacterCreation.ts","src://tavern_helper_template/src/开始界面/App.vue","webpack://tavern_helper_template/src/开始界面/App.vue?aa96","src://tavern_helper_template/src/开始界面/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"map-selector-wrapper\" };\nconst _hoisted_2 = { class: \"map-controls\" };\nconst _hoisted_3 = { class: \"selected-point-preview\" };\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"helper-controls\"\n};\nconst _hoisted_6 = { key: 0 };\nconst _hoisted_7 = [\"checked\"];\nimport { onMounted, onUnmounted, ref } from 'vue';\nconst cityClickRadius = 8;\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MapSelector',\n    props: {\n        coordinateHelperMode: {\n            type: Boolean,\n            default: false,\n        },\n        showHelperCheckbox: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    emits: ['point-selected', 'coordinates-clicked', 'update:coordinateHelperMode'],\n    setup(__props, { emit: __emit }) {\n        const props = __props;\n        const emit = __emit;\n        const mapCanvas = ref(null);\n        const canvasContainer = ref(null);\n        const selectedRegion = ref(null);\n        const selectedCity = ref(null);\n        const lastClickedPoint = ref(null); // For helper mode\n        const lastClickedOriginalCoords = ref(null);\n        const mapImage = new Image();\n        const isImageLoaded = ref(false);\n        const scaleX = ref(1);\n        const scaleY = ref(1);\n        const regions = [\n            {\n                name: '科雷斯帝国',\n                points: [\n                    { x: 181, y: 22 },\n                    { x: 194, y: 64 },\n                    { x: 116, y: 146 },\n                    { x: 96, y: 172 },\n                    { x: 122, y: 231 },\n                    { x: 97, y: 239 },\n                    { x: 99, y: 259 },\n                    { x: 122, y: 270 },\n                    { x: 139, y: 260 },\n                    { x: 151, y: 288 },\n                    { x: 321, y: 287 },\n                    { x: 328, y: 226 },\n                    { x: 302, y: 187 },\n                    { x: 338, y: 148 },\n                    { x: 318, y: 117 },\n                    { x: 260, y: 101 },\n                    { x: 267, y: 88 },\n                    { x: 234, y: 46 },\n                ],\n                color: 'rgba(60, 179, 113, 0.2)',\n                cities: [\n                    { name: '迈林代尔', x: 209, y: 169 },\n                    { name: '米克斯塔', x: 202, y: 184 },\n                    { name: '巴拉德雷', x: 242, y: 195 },\n                    { name: '帕尔', x: 206, y: 209 },\n                    { name: '德沙林', x: 260, y: 265 },\n                    { name: '忽密达', x: 195, y: 112 },\n                    { name: '影牙要塞', x: 322, y: 162 },\n                    { name: '鲁伯德要塞', x: 317, y: 236 },\n                ],\n            },\n        ];\n        const isPointInPolygon = (point, polygon) => {\n            let isInside = false;\n            for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n                const xi = polygon[i].x, yi = polygon[i].y;\n                const xj = polygon[j].x, yj = polygon[j].y;\n                const intersect = yi > point.y !== yj > point.y && point.x < ((xj - xi) * (point.y - yi)) / (yj - yi) + xi;\n                if (intersect)\n                    isInside = !isInside;\n            }\n            return isInside;\n        };\n        const drawMap = () => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            const { width, height } = canvas;\n            const dpr = window.devicePixelRatio || 1;\n            const displayWidth = width / dpr;\n            const displayHeight = height / dpr;\n            ctx.clearRect(0, 0, width, height);\n            if (isImageLoaded.value) {\n                ctx.globalAlpha = 0.8; // 降低背景图不透明度\n                ctx.drawImage(mapImage, 0, 0, displayWidth, displayHeight);\n                ctx.globalAlpha = 1; // 重置不透明度，以免影响后续绘制\n            }\n            else {\n                ctx.fillStyle = '#EAE7DC';\n                ctx.fillRect(0, 0, displayWidth, displayHeight);\n            }\n            // In helper mode, don't draw regions/cities, just the clicked point\n            if (props.coordinateHelperMode) {\n                if (lastClickedPoint.value) {\n                    ctx.fillStyle = 'cyan';\n                    ctx.beginPath();\n                    ctx.arc(lastClickedPoint.value.x, lastClickedPoint.value.y, 5, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.strokeStyle = 'black';\n                    ctx.stroke();\n                }\n                return;\n            }\n            regions.forEach(region => {\n                ctx.fillStyle = region.color;\n                ctx.beginPath();\n                ctx.moveTo(region.points[0].x * scaleX.value, region.points[0].y * scaleY.value);\n                for (let i = 1; i < region.points.length; i++) {\n                    ctx.lineTo(region.points[i].x * scaleX.value, region.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.fill();\n            });\n            ctx.font = '12px Arial';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            regions.forEach(region => {\n                region.cities.forEach(city => {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    ctx.beginPath();\n                    ctx.arc(cityX, cityY, 5, 0, 2 * Math.PI);\n                    ctx.fillStyle = 'white';\n                    ctx.fill();\n                    ctx.strokeStyle = '#333';\n                    ctx.stroke();\n                    const text = city.name;\n                    const textY = cityY + 18;\n                    const textMetrics = ctx.measureText(text);\n                    const textWidth = textMetrics.width;\n                    const textHeight = 12; // font size\n                    const padding = 4;\n                    const backgroundWidth = textWidth + padding * 2;\n                    const backgroundHeight = textHeight + padding;\n                    const backgroundX = cityX - backgroundWidth / 2;\n                    const backgroundY = textY - backgroundHeight / 2;\n                    ctx.fillStyle = 'rgba(100, 100, 100, 0.7)';\n                    ctx.beginPath();\n                    ctx.roundRect(backgroundX, backgroundY, backgroundWidth, backgroundHeight, [4]);\n                    ctx.fill();\n                    ctx.fillStyle = 'white';\n                    ctx.fillText(text, cityX, textY);\n                });\n            });\n            if (selectedRegion.value) {\n                ctx.strokeStyle = 'pink';\n                ctx.lineWidth = 3;\n                ctx.beginPath();\n                ctx.moveTo(selectedRegion.value.points[0].x * scaleX.value, selectedRegion.value.points[0].y * scaleY.value);\n                for (let i = 1; i < selectedRegion.value.points.length; i++) {\n                    ctx.lineTo(selectedRegion.value.points[i].x * scaleX.value, selectedRegion.value.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.stroke();\n            }\n            if (selectedCity.value) {\n                ctx.strokeStyle = 'yellow';\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.arc(selectedCity.value.x * scaleX.value, selectedCity.value.y * scaleY.value, cityClickRadius, 0, 2 * Math.PI);\n                ctx.stroke();\n            }\n        };\n        const handleCanvasClick = (event) => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const rect = canvas.getBoundingClientRect();\n            const clickPoint = { x: event.clientX - rect.left, y: event.clientY - rect.top };\n            if (props.coordinateHelperMode) {\n                const originalX = Math.round(clickPoint.x / scaleX.value);\n                const originalY = Math.round(clickPoint.y / scaleY.value);\n                const coords = { x: originalX, y: originalY };\n                console.log(`Coordinates: { x: ${coords.x}, y: ${coords.y} }`);\n                emit('coordinates-clicked', coords);\n                lastClickedOriginalCoords.value = coords;\n                lastClickedPoint.value = clickPoint;\n                drawMap();\n                return;\n            }\n            let foundCity = null;\n            let foundRegionForCity = null;\n            for (const region of regions) {\n                for (const city of region.cities) {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    const distance = Math.sqrt((clickPoint.x - cityX) ** 2 + (clickPoint.y - cityY) ** 2);\n                    if (distance < cityClickRadius) {\n                        foundCity = city;\n                        foundRegionForCity = region;\n                        break;\n                    }\n                }\n                if (foundCity)\n                    break;\n            }\n            if (foundCity && foundRegionForCity) {\n                selectedCity.value = foundCity;\n                selectedRegion.value = foundRegionForCity;\n                emit('point-selected', `${foundRegionForCity.name}, ${foundCity.name}`);\n            }\n            else {\n                const scaledRegions = regions.map(region => ({\n                    ...region,\n                    points: region.points.map(p => ({ x: p.x * scaleX.value, y: p.y * scaleY.value })),\n                }));\n                const clickedRegionData = scaledRegions.find(region => isPointInPolygon(clickPoint, region.points));\n                selectedCity.value = null;\n                if (clickedRegionData) {\n                    selectedRegion.value = regions.find(r => r.name === clickedRegionData.name) || null;\n                    emit('point-selected', clickedRegionData.name);\n                }\n                else {\n                    selectedRegion.value = null;\n                    emit('point-selected', '');\n                }\n            }\n            drawMap();\n        };\n        const resizeCanvas = () => {\n            const canvas = mapCanvas.value;\n            const container = canvasContainer.value;\n            if (!canvas || !container)\n                return;\n            const rect = container.getBoundingClientRect();\n            const dpr = window.devicePixelRatio || 1;\n            canvas.width = rect.width * dpr;\n            canvas.height = rect.height * dpr;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            ctx.scale(dpr, dpr);\n            // Base dimensions for coordinate mapping\n            const baseWidth = 500;\n            const baseHeight = 300;\n            scaleX.value = rect.width / baseWidth;\n            scaleY.value = rect.height / baseHeight;\n            drawMap();\n        };\n        let resizeObserver;\n        onMounted(() => {\n            mapImage.crossOrigin = 'Anonymous';\n            mapImage.onload = () => {\n                isImageLoaded.value = true;\n                drawMap();\n            };\n            mapImage.src =\n                'https://raw.githubusercontent.com/neko-kyuu/the-tale-of-Ofoces/refs/heads/static-resources/public/static/vault/29A958DA-EF44-4C67-923E-1B4ECB5E6A90_1_105_c.jpeg';\n            const container = canvasContainer.value;\n            if (container) {\n                resizeObserver = new ResizeObserver(resizeCanvas);\n                resizeObserver.observe(container);\n            }\n            resizeCanvas();\n        });\n        onUnmounted(() => {\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (selectedCity.value || selectedRegion.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \" 已选择：\" + _toDisplayString(selectedCity.value ? `${selectedRegion.value?.name}, ${selectedCity.value.name}` : selectedRegion.value?.name), 1 /* TEXT */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    (__props.showHelperCheckbox)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            (lastClickedOriginalCoords.value)\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" 坐标: { x: \" + _toDisplayString(lastClickedOriginalCoords.value.x) + \", y: \" + _toDisplayString(lastClickedOriginalCoords.value.y) + \" } \", 1 /* TEXT */))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"label\", null, [\n                                _createElementVNode(\"input\", {\n                                    type: \"checkbox\",\n                                    checked: __props.coordinateHelperMode,\n                                    onChange: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('update:coordinateHelperMode', $event.target.checked)))\n                                }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_7),\n                                _cache[1] || (_cache[1] = _createTextVNode(\" 坐标拾取模式 \", -1 /* CACHED */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createElementVNode(\"div\", {\n                    ref_key: \"canvasContainer\",\n                    ref: canvasContainer,\n                    class: \"canvas-container\"\n                }, [\n                    _createElementVNode(\"canvas\", {\n                        ref_key: \"mapCanvas\",\n                        ref: mapCanvas,\n                        onClick: handleCanvasClick\n                    }, null, 512 /* NEED_PATCH */)\n                ], 512 /* NEED_PATCH */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MapSelector.vue?vue&type=style&index=0&id=df92daa8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.26_typescript@6.0.0-dev.20250807__webpack@5.104.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df92daa8\"]])\n\nexport default __exports__","import { computed, reactive, ref, watch } from 'vue';\nconst defaultEra = {\n    playerData: {\n        character: {\n            name: '马修',\n            level: 1,\n            gender: '男',\n            race: '月精灵',\n            height: '185cm',\n            build: '纤细',\n            appearance: '银发紫瞳，皮肤白皙，有着月精灵标志性的尖耳朵和高鼻梁。',\n            personality: '聪慧、冷静',\n        },\n        attributes: {\n            shooting: 3,\n            melee: 3,\n            construction: 0,\n            mining: 0,\n            cooking: 0,\n            planting: 0,\n            animals: 2,\n            crafting: 0,\n            artistic: 2,\n            medical: 4,\n            social: 4,\n            intellectual: 2,\n        },\n        equipment: {\n            leftHand: 'none',\n            rightHand: 'none',\n            outfitContent: 'none',\n        },\n    },\n    followerNPCData: {\n        F1: {\n            character: {\n                name: '利亚姆',\n                level: 1,\n                gender: '男',\n                race: '天使',\n                height: '188cm',\n                build: '肌肉发达',\n                appearance: '金发蓝瞳，皮肤白皙，背后生有白色羽翼。',\n                personality: '忠诚、勇敢、单纯',\n            },\n            attributes: {\n                shooting: 2,\n                melee: 4,\n                construction: 2,\n                mining: 0,\n                cooking: 2,\n                planting: 0,\n                animals: 1,\n                crafting: 1,\n                artistic: 0,\n                medical: 2,\n                social: 4,\n                intellectual: 2,\n            },\n            equipment: {\n                leftHand: 'none',\n                rightHand: 'none',\n                outfitContent: 'none',\n            },\n            meta: {\n                relationship: '同伴',\n                favorability: 60,\n                favorabilityTowardsNPCs: {},\n                description: '',\n            },\n        },\n    },\n};\nexport function useCharacterCreation(defaultMvuData) {\n    const sys = reactive({\n        mainStoryMode: true,\n    });\n    const selectedMode = ref('自定义开局');\n    const modes = [\n        { name: '自定义开局', description: '自由创建角色并开始冒险。' },\n        { name: '模板开局', description: '使用预设的角色模板快速开始游戏。' },\n        { name: '起源角色开局', description: '选择一个起源角色，体验独特的背景故事和初始条件。' },\n    ];\n    const races = [\n        { name: '月精灵', description: '优雅而神秘的森林居民，擅长魔法和弓箭。' },\n        { name: '高等精灵', description: '追求奥术极致的精灵，博学且高傲，天生对魔力敏感。' },\n        { name: '木精灵', description: '荒野的守护者，动作迅捷，能完美融入森林环境。' },\n        { name: '卓尔', description: '居住在幽暗地域，拥有极佳的夜视能力和冷酷的社交手腕。' },\n        { name: '至高妖精', description: '来自妖精荒野的精灵，性格多变，充满艺术灵感。' },\n        { name: '人类', description: '适应性强，遍布世界各地，在各种领域都有建树。' },\n        { name: '矮人', description: '强壮的矿工和工匠，以其坚韧和对工艺的热爱而闻名。' },\n        { name: '兽人', description: '勇猛的战士，拥有强大的力量和无畏的精神。' },\n        { name: '半身人', description: '乐观且热爱生活的族群，是天生的厨师和优秀的谈判家。' },\n        { name: '机械生命', description: '高度精密的合成金属生命体，逻辑严密，擅长制造与研究。' },\n        { name: '龙裔', description: '流淌着古龙之血的战士，拥有极强的身体素质和威慑力。' },\n        { name: '提夫林', description: '流淌着炼狱之血的凡人，对火焰有着天然抗性。' },\n        { name: '坎比翁', description: '高等恶魔与凡人的后代，不仅强壮且极具威慑力。' },\n        { name: '神裔', description: '体内承载着天界神力的生灵，是天生的领导者和医者。' },\n        { name: '堕落神裔', description: '被内心阴影或悲剧侵蚀的神裔，虽然失去了光辉，但拥有恐怖的战斗意志。' },\n        { name: '灵族', description: '纯粹的精神能量体，能感知灵魂，在医疗和艺术上有极高天赋。' },\n        { name: '穴居人', description: '长期生活在深地底，极其擅长挖掘和在恶劣环境下生存。' },\n        { name: '魅魔', description: '擅长玩弄人心的族群，社交手腕高超，审美独特。' },\n        { name: '树精', description: '森林的化身，生长缓慢但与植物有着天然的共鸣。' },\n    ];\n    const raceBonuses = {\n        月精灵: { shooting: 3, intellectual: 2, artistic: 1 },\n        高等精灵: { intellectual: 4, artistic: 2, shooting: 1 },\n        木精灵: { shooting: 4, construction: 2, melee: 1 },\n        卓尔: { social: 3, shooting: 2, melee: 2 },\n        至高妖精: { artistic: 5, social: 2 },\n        人类: { social: 1, crafting: 1, cooking: 1, intellectual: 1, construction: 1, medical: 1 },\n        矮人: { mining: 3, construction: 2, crafting: 1 },\n        兽人: { melee: 4, mining: 2 },\n        半身人: { cooking: 4, social: 2, artistic: 1 },\n        机械生命: { intellectual: 4, crafting: 3, social: 0 },\n        龙裔: { melee: 3, construction: 2, social: 1 },\n        提夫林: { social: 4, intellectual: 2, cooking: 1 },\n        坎比翁: { melee: 4, social: 2, construction: 1 },\n        神裔: { medical: 4, social: 3, artistic: 1 },\n        堕落神裔: { melee: 3, shooting: 3, social: 1 },\n        灵族: { medical: 4, artistic: 3, intellectual: 1 },\n        穴居人: { mining: 5, construction: 2 },\n        魅魔: { social: 5, artistic: 2 },\n        树精: { planting: 5, medical: 2, cooking: 1 },\n    };\n    const genders = ['男', '女']; // Example genders\n    const builds = ['纤细', '匀称', '健壮', '魁梧'];\n    const base = 0;\n    const state = reactive({\n        character: {\n            name: '',\n            level: 1,\n            gender: '男',\n            race: '月精灵',\n            height: '',\n            build: '',\n            appearance: '',\n            personality: '',\n            location: '',\n        },\n        attributes: {\n            shooting: base,\n            melee: base,\n            construction: base,\n            mining: base,\n            cooking: base,\n            planting: base,\n            animals: base,\n            crafting: base,\n            artistic: base,\n            medical: base,\n            social: base,\n            intellectual: base,\n        },\n        followers: [],\n    });\n    const attributeLabels = {\n        shooting: '射击',\n        melee: '格斗',\n        construction: '建造',\n        mining: '采矿',\n        cooking: '烹饪',\n        planting: '种植',\n        animals: '驯兽',\n        crafting: '手工',\n        artistic: '艺术',\n        medical: '医疗',\n        social: '社交',\n        intellectual: '智识',\n    };\n    const baseAttributes = computed(() => {\n        const bonuses = raceBonuses[state.character.race] || {};\n        const baseAttrs = {};\n        for (const key in state.attributes) {\n            const attrKey = key;\n            baseAttrs[attrKey] = base + (bonuses[attrKey] || 0);\n        }\n        return baseAttrs;\n    });\n    watch(() => state.character.race, () => {\n        const newBaseAttrs = baseAttributes.value;\n        for (const key in state.attributes) {\n            const attrKey = key;\n            state.attributes[attrKey] = newBaseAttrs[attrKey];\n        }\n    }, { immediate: true });\n    const totalPoints = 20;\n    watch(selectedMode, value => {\n        if (value === '模板开局') {\n            createDefaultCharacter(state);\n        }\n        else if (value === '自定义开局') {\n            resetCharacter(state);\n        }\n    });\n    const spentPoints = computed(() => {\n        let total = 0;\n        const currentBase = baseAttributes.value;\n        for (const key in state.attributes) {\n            const attrKey = key;\n            total += state.attributes[attrKey] - currentBase[attrKey];\n        }\n        return total;\n    });\n    const availablePoints = computed(() => totalPoints - spentPoints.value);\n    function increaseAttribute(attr) {\n        if (availablePoints.value > 0) {\n            state.attributes[attr]++;\n        }\n    }\n    function decreaseAttribute(attr) {\n        if (state.attributes[attr] > baseAttributes.value[attr]) {\n            state.attributes[attr]--;\n        }\n    }\n    function createDefaultFollower() {\n        return {\n            character: {\n                name: '',\n                level: 1,\n                gender: '男',\n                race: '人类',\n                height: '',\n                build: '匀称',\n                appearance: '',\n                personality: '',\n            },\n            attributes: {\n                shooting: base,\n                melee: base,\n                construction: base,\n                mining: base,\n                cooking: base,\n                planting: base,\n                animals: base,\n                crafting: base,\n                artistic: base,\n                medical: base,\n                social: base,\n                intellectual: base,\n            },\n        };\n    }\n    function addFollower() {\n        state.followers.push(createDefaultFollower());\n    }\n    function removeFollower(index) {\n        state.followers.splice(index, 1);\n    }\n    function createCharacter() {\n        const partyAttrPoints = state.followers.reduce((acc, _, i) => {\n            acc[`F${i + 1}`] = 0;\n            return acc;\n        }, { F0: 0 });\n        const outfitIds = state.followers.reduce((acc, _, i) => {\n            acc[`F${i + 1}`] = 'none';\n            return acc;\n        }, { F0: 'none' });\n        let userSelection = {\n            playerData: {\n                character: { ...state.character },\n                attributes: { ...state.attributes },\n                equipment: {\n                    leftHand: 'none',\n                    rightHand: 'none',\n                    outfitContent: '旅行装',\n                },\n            },\n            followerNPCData: state.followers.reduce((acc, curr, i) => {\n                // 使用模板字符串 `${}` 拼接键名\n                acc[`F${i + 1}`] = {\n                    character: { ...curr.character },\n                    attributes: { ...curr.attributes },\n                    status: {\n                        health: { current: 12, max: 12 },\n                        mood: { current: 80, max: 100 },\n                        arousal: { current: 50, max: 100 },\n                        experience: { current: 0, max: 100 },\n                    },\n                    equipment: {\n                        leftHand: 'none',\n                        rightHand: 'none',\n                        outfitContent: '旅行装',\n                    },\n                    meta: {\n                        relationship: '同伴',\n                        favorability: 50,\n                        favorabilityTowardsNPCs: {\n                            $meta: {\n                                updatable: true,\n                            },\n                        },\n                        description: '',\n                    },\n                };\n                return acc;\n            }, {}),\n            system: {\n                mainStoryMode: sys.mainStoryMode,\n            },\n            progressData: {\n                partyAttrPoints,\n            },\n            archivedData: {\n                outfitIds,\n            },\n        };\n        if (sys.mainStoryMode) {\n            const mainStoryInit = {\n                progressData: {\n                    currentQuest: {\n                        MQ1: {\n                            name: '节日的插曲',\n                            description: '你们作为旅者，本想享受这难得的安宁与热闹，却意外卷入了一场发生于市中心“长者之喉”许愿井-不同寻常的事件。',\n                            isMain: true,\n                        },\n                    },\n                },\n                worldInfo: {\n                    date: '1468DR 奈托月19日',\n                    time: '傍晚',\n                    weather: '飘雪',\n                    currentRegion: '巴拉德雷',\n                    currentLocation: '羽笔与酒杯旅店附近',\n                },\n            };\n            userSelection = _.merge(userSelection, mainStoryInit);\n        }\n        // 使用 cloneDeep 避免修改原始的 defaultMvuData, 并确保结构匹配\n        const finalCharacterData = _.merge(_.cloneDeep(defaultMvuData), userSelection);\n        console.log('最终角色数据:', finalCharacterData);\n        try {\n            eventEmit('era:insertByObject', finalCharacterData);\n        }\n        catch (error) {\n            console.error('修改 MVU 数据失败:', error);\n            toastr.error('操作失败: 保存数据时出错');\n        }\n    }\n    const openingConfirmText = computed(() => {\n        const followerText = state.followers\n            .map((f, i) => {\n            const attributesText = Object.keys(f.attributes)\n                .map(key => `${attributeLabels[key]}${f.attributes[key]}`)\n                .join(', ');\n            return `\n                     随行NPC ${i + 1}:\n                     名字: ${f.character.name}\n                     性别: ${f.character.gender}\n                     种族: ${f.character.race}\n                     身高: ${f.character.height}\n                     体型: ${f.character.build}\n                     外貌: ${f.character.appearance}\n                     性格: ${f.character.personality}\n                     属性点:\n                     ${attributesText}\n`;\n        })\n            .join('');\n        return `\n                     玩家信息:\n                     名字: ${state.character.name}\n                     等级: ${state.character.level}\n                     性别: ${state.character.gender}\n                     种族: ${state.character.race}\n                     身高: ${state.character.height}\n                     体型: ${state.character.build}\n                     外貌: ${state.character.appearance}\n                     性格: ${state.character.personality}\n \n                     属性点:\n                     射击${state.attributes.shooting}, 格斗${state.attributes.melee}, 建造${state.attributes.construction}, 采矿${state.attributes.mining}, 烹饪${state.attributes.cooking}, 种植${state.attributes.planting}, 驯兽${state.attributes.animals}, 手工${state.attributes.crafting}, 艺术${state.attributes.artistic}, 医疗${state.attributes.medical}, 社交${state.attributes.social}, 智识${state.attributes.intellectual}\n ${followerText}\n\n初始地点: 巴拉德雷\n\n---\n                     `;\n    });\n    const fixedOpeningText = computed(() => {\n        return `\n1468DR 奈托月19日\n\n---\n\n如今已鲜有人记得那条古老的驿道了。\n\n它从帕尔镇蜿蜒向西，穿过德温林平原的腹地，经过许多如今已荒废或被遗忘的村庄，最终抵达那座吟游诗人的城市。在古老的年代里，当科雷斯尚是一个年轻的王国而非庞大的帝国时，这条路上曾有无数旅人行走——商人与学者，士兵与朝圣者，以及那些仅仅是怀着一颗不安分的心、想要看看山那边有什么风景的人。\n\n${state.character.name}${state.followers.length > 1 ? '一行人' : state.followers.length == 1 ? '和' + state.followers[0].character.name : ''}已经在路上走了许久。当那座依着缓坡而建的小城终于出现在视野中，天边最后一缕霞光正好沉入地平线。\n\n在帝国的编年史中，巴拉德雷算不上一座古老的城市，更算不上一座宏伟的城市。它只是德温林平原上的一座小城，依着缓坡而建，被矮墙环绕，在帝国的版图上不过是一个不起眼的墨点。\n\n然而，那些曾到访过巴拉德雷的人，往往会带着一种奇特的眷恋离开。\n\n或许是因为那里的空气中总是飘荡着音乐，或许是因为那里的人们似乎比别处更懂得如何享受生活，又或许仅仅是因为——正如一首古老的歌谣所唱的那样：\n\n*巴拉德雷，巴拉德雷，*\n*琴弦与诗歌的故乡，*\n*疲惫的旅人在此歇脚，*\n*忧伤的心灵在此疗伤。*\n*壁炉的火光永远温暖，*\n*杯中的麦酒永远芬芳，*\n*来吧，朋友，推开那扇门，*\n*让歌声伴你度过漫漫长夜。*\n\n这首歌谣据说已有两百年的历史，最初是由一位名叫\"银舌\"班德里克的游吟诗人所作。关于这位诗人，流传着许多故事——有人说他曾用一首歌平息了两个家族之间的血仇，有人说他曾在月圆之夜与精灵共舞，还有人说他的歌声甜美得能让石头落泪——但这些都是另外的故事了。眼下重要的是：他的歌谣所描绘的巴拉德雷，与此刻所看到的巴拉德雷，并没有太大的不同。\n\n城门口挂着成串的灯笼，在暮色中亮起，像一串温暖的珍珠。远远望去，整座城市仿佛被一层柔和的金色光芒所笼罩，在灰蓝色的天幕下显得格外温馨。\n\n空气中飘来了别样的气息。\n烤面包的香气。炖肉的浓郁。蜂蜜与肉桂的甜蜜。烤栗子的焦香。还有麦芽酒，那种在寒冬里格外诱人的、温热的、令人微醺的麦芽酒的气息。\n\n一块略显陈旧但保养良好的招牌在晚风中轻轻摇晃，上面画着一根羽毛笔插在一只盛满美酒的高脚杯中，底下用优雅的字体写着：**羽笔与酒杯**。\n\n招牌下方还挂着一块小一号的木板，上面是今日新添的粉笔字：\n\n*\"冬日香料热酒供应中——新客免费一杯！\"*\n\n温暖的灯光从窗户中倾泻而出，在青石板路面上投下一方金色的光影。透过凝结着水雾的玻璃窗，隐约可见里面人影绰绰，炉火正旺。\n`;\n    });\n    async function createMessage() {\n        const message_id = getLastMessageId();\n        if (message_id !== 0) {\n            return;\n        }\n        let context = fixedOpeningText.value;\n        await createChatMessages([\n            {\n                role: 'user',\n                message: dedent(context),\n            },\n        ], { refresh: 'all' });\n        await triggerSlash('/trigger');\n    }\n    eventOn('era:writeDone', detail => {\n        if (!detail || !detail.statWithoutMeta)\n            return;\n        if (!detail.statWithoutMeta.playerData || !detail.statWithoutMeta.playerData.character.name)\n            return;\n        // 处理世界书蓝绿灯\n        let currentQuests = [];\n        if (sys.mainStoryMode) {\n            currentQuests = ['MQ1'];\n        }\n        updateWorldbookWith('奥弗萨斯', worldbook => {\n            const QUEST_KEYWORDS = ['主线', '支线'];\n            const STRATEGY_TYPE = {\n                CONSTANT: 'constant',\n                SELECTIVE: 'selective',\n            };\n            return worldbook.map(entry => {\n                const isQuestEntry = QUEST_KEYWORDS.some(keyword => entry.name.includes(keyword));\n                // 如果不是任务条目或缺少 strategy 属性，则直接返回原始条目，不做任何修改\n                if (!isQuestEntry || !entry.strategy) {\n                    return entry;\n                }\n                // 判断需要激活的条目是否处于激活状态\n                const isQuestActive = currentQuests.some(quest => entry.strategy.keys.includes(quest));\n                const newStrategyType = isQuestActive ? STRATEGY_TYPE.CONSTANT : STRATEGY_TYPE.SELECTIVE;\n                // 如果策略类型无需改变，则直接返回原始条目，避免不必要的对象创建\n                if (entry.strategy.type === newStrategyType) {\n                    return entry;\n                }\n                // 返回一个新的条目对象，其中包含更新后的 strategy\n                return {\n                    ...entry,\n                    strategy: {\n                        ...entry.strategy, // 复制 strategy 的所有现有属性\n                        type: newStrategyType, // 仅覆盖 type 属性\n                    },\n                };\n            });\n        });\n        createMessage();\n    });\n    return {\n        state,\n        sys,\n        selectedMode,\n        modes,\n        races,\n        genders,\n        builds,\n        baseAttributes,\n        availablePoints,\n        increaseAttribute,\n        decreaseAttribute,\n        createCharacter,\n        attributeLabels,\n        raceBonuses,\n        openingConfirmText,\n        fixedOpeningText,\n        addFollower,\n        removeFollower,\n    };\n}\nfunction createDefaultCharacter(state) {\n    const filterMeta = (obj) => {\n        if (!obj || typeof obj !== 'object') {\n            return obj;\n        }\n        const newObj = {};\n        for (const key in obj) {\n            if (key !== '$meta' && key !== '$template') {\n                newObj[key] = obj[key];\n            }\n        }\n        return newObj;\n    };\n    state.character = filterMeta(defaultEra.playerData.character);\n    state.attributes = filterMeta(defaultEra.playerData.attributes);\n    state.equipment = filterMeta(defaultEra.playerData.equipment);\n    state.followers = Object.values(filterMeta(defaultEra.followerNPCData))\n        .filter((v) => v.character)\n        .map((v) => {\n        return {\n            character: filterMeta(v.character),\n            attributes: filterMeta(v.attributes),\n            equipment: filterMeta(v.equipment),\n        };\n    });\n}\nfunction resetCharacter(state) {\n    state.character = {\n        name: '',\n        level: 1,\n        gender: '男',\n        race: '月精灵',\n        height: '',\n        build: '',\n        appearance: '',\n        personality: '',\n        location: '',\n    };\n    state.attributes = {\n        shooting: 0,\n        melee: 0,\n        construction: 0,\n        mining: 0,\n        cooking: 0,\n        planting: 0,\n        animals: 0,\n        crafting: 0,\n        artistic: 0,\n        medical: 0,\n        social: 0,\n        intellectual: 0,\n    };\n    state.followers = [];\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelText as _vModelText, vModelSelect as _vModelSelect, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"opening\" };\nconst _hoisted_2 = { class: \"tabs\" };\nconst _hoisted_3 = { class: \"tab-content\" };\nconst _hoisted_4 = {\n    key: 0,\n    class: \"sys-section\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = { key: 1 };\nconst _hoisted_7 = { class: \"form-section\" };\nconst _hoisted_8 = { class: \"form-grid\" };\nconst _hoisted_9 = { class: \"form-group\" };\nconst _hoisted_10 = { class: \"form-group\" };\nconst _hoisted_11 = [\"value\"];\nconst _hoisted_12 = { class: \"form-group\" };\nconst _hoisted_13 = { class: \"form-group\" };\nconst _hoisted_14 = [\"value\"];\nconst _hoisted_15 = { class: \"form-group\" };\nconst _hoisted_16 = { class: \"form-group\" };\nconst _hoisted_17 = { key: 2 };\nconst _hoisted_18 = { class: \"race-selection\" };\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = { class: \"card-bonuses\" };\nconst _hoisted_21 = {\n    key: 3,\n    class: \"attributes-section\"\n};\nconst _hoisted_22 = { class: \"attribute-name\" };\nconst _hoisted_23 = { class: \"attribute-controls\" };\nconst _hoisted_24 = [\"onClick\", \"disabled\"];\nconst _hoisted_25 = { class: \"attribute-value\" };\nconst _hoisted_26 = [\"onClick\", \"disabled\"];\nconst _hoisted_27 = { key: 4 };\nconst _hoisted_28 = { class: \"follower-section\" };\nconst _hoisted_29 = { class: \"follower-header\" };\nconst _hoisted_30 = { class: \"follower-header\" };\nconst _hoisted_31 = [\"onClick\"];\nconst _hoisted_32 = { class: \"form-grid\" };\nconst _hoisted_33 = { class: \"form-group\" };\nconst _hoisted_34 = [\"onUpdate:modelValue\"];\nconst _hoisted_35 = { class: \"form-group\" };\nconst _hoisted_36 = [\"onUpdate:modelValue\"];\nconst _hoisted_37 = [\"value\"];\nconst _hoisted_38 = { class: \"form-group\" };\nconst _hoisted_39 = [\"onUpdate:modelValue\"];\nconst _hoisted_40 = { class: \"form-group\" };\nconst _hoisted_41 = [\"onUpdate:modelValue\"];\nconst _hoisted_42 = { class: \"form-group\" };\nconst _hoisted_43 = [\"onUpdate:modelValue\"];\nconst _hoisted_44 = { class: \"form-group\" };\nconst _hoisted_45 = [\"onUpdate:modelValue\"];\nconst _hoisted_46 = { class: \"form-group\" };\nconst _hoisted_47 = [\"onUpdate:modelValue\"];\nconst _hoisted_48 = { class: \"attributes-section\" };\nconst _hoisted_49 = { class: \"attribute-name\" };\nconst _hoisted_50 = { class: \"attribute-controls\" };\nconst _hoisted_51 = [\"onClick\"];\nconst _hoisted_52 = { class: \"attribute-value\" };\nconst _hoisted_53 = [\"onClick\"];\nconst _hoisted_54 = { key: 5 };\nconst _hoisted_55 = { key: 6 };\nconst _hoisted_56 = [\"innerHTML\"];\nconst _hoisted_57 = [\"innerHTML\"];\nconst _hoisted_58 = { class: \"actions\" };\nimport { ref } from 'vue';\nimport MapSelector from '../书记官ERA_refactor/components/MapSelector.vue';\nimport defaultMvuData from '../书记官ERA_refactor/default_ERA.json';\nimport { useCharacterCreation } from './useCharacterCreation';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const coordinateHelperMode = ref(false);\n        const lastClickedCoords = ref(null);\n        const activeTab = ref('character');\n        const { state, sys, selectedMode, modes, races, genders, builds, baseAttributes, availablePoints, increaseAttribute, decreaseAttribute, createCharacter, attributeLabels, raceBonuses, openingConfirmText, fixedOpeningText, addFollower, removeFollower, } = useCharacterCreation(defaultMvuData);\n        const handlePointSelected = (regionName) => {\n            state.character.location = regionName;\n        };\n        const handleCoordinatesClicked = (coords) => {\n            lastClickedCoords.value = coords;\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _cache[33] || (_cache[33] = _createElementVNode(\"div\", { class: \"corner left-top\" }, null, -1 /* CACHED */)),\n                _cache[34] || (_cache[34] = _createElementVNode(\"div\", { class: \"corner right-top\" }, null, -1 /* CACHED */)),\n                _cache[35] || (_cache[35] = _createElementVNode(\"div\", { class: \"corner left-bottom\" }, null, -1 /* CACHED */)),\n                _cache[36] || (_cache[36] = _createElementVNode(\"div\", { class: \"corner right-bottom\" }, null, -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'sys' }),\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeTab.value = 'sys'))\n                    }, \"系统设置\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'character' }),\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeTab.value = 'character'))\n                    }, \"创建新角色\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'race' }),\n                        onClick: _cache[2] || (_cache[2] = ($event) => (activeTab.value = 'race'))\n                    }, \"选择种族\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'attributes' }),\n                        onClick: _cache[3] || (_cache[3] = ($event) => (activeTab.value = 'attributes'))\n                    }, \"属性点分配\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'follower' }),\n                        onClick: _cache[4] || (_cache[4] = ($event) => (activeTab.value = 'follower'))\n                    }, \"随行NPC\", 2 /* CLASS */),\n                    (!_unref(sys).mainStoryMode)\n                        ? (_openBlock(), _createElementBlock(\"button\", {\n                            key: 0,\n                            class: _normalizeClass({ active: activeTab.value === 'initLocation' }),\n                            onClick: _cache[5] || (_cache[5] = ($event) => (activeTab.value = 'initLocation'))\n                        }, \" 初始地点 \", 2 /* CLASS */))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'confirm' }),\n                        onClick: _cache[6] || (_cache[6] = ($event) => (activeTab.value = 'confirm'))\n                    }, \"确认开局\", 2 /* CLASS */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    (activeTab.value === 'sys')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                            _createElementVNode(\"div\", null, [\n                                _cache[17] || (_cache[17] = _createTextVNode(\"主线剧情模式 \", -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"input\", {\n                                    type: \"checkbox\",\n                                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(sys).mainStoryMode) = $event))\n                                }, null, 512 /* NEED_PATCH */), [\n                                    [_vModelCheckbox, _unref(sys).mainStoryMode]\n                                ])\n                            ]),\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(modes), (m) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                    class: _normalizeClass([\"card\", { selected: _unref(selectedMode) === m.name }]),\n                                    key: m.name,\n                                    onClick: ($event) => (selectedMode.value = m.name)\n                                }, [\n                                    _createElementVNode(\"h3\", null, _toDisplayString(m.name), 1 /* TEXT */),\n                                    _createElementVNode(\"p\", null, _toDisplayString(m.description), 1 /* TEXT */)\n                                ], 10 /* CLASS, PROPS */, _hoisted_5));\n                            }), 128 /* KEYED_FRAGMENT */))\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'character')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                            _createElementVNode(\"div\", _hoisted_7, [\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    _createElementVNode(\"div\", _hoisted_9, [\n                                        _cache[18] || (_cache[18] = _createElementVNode(\"label\", { for: \"name\" }, \"名字:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            type: \"text\",\n                                            id: \"name\",\n                                            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => ((_unref(state).character.name) = $event)),\n                                            placeholder: \"输入你的名字\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, _unref(state).character.name]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_10, [\n                                        _cache[19] || (_cache[19] = _createElementVNode(\"label\", { for: \"gender\" }, \"性别:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"select\", {\n                                            id: \"gender\",\n                                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => ((_unref(state).character.gender) = $event))\n                                        }, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(genders), (g) => {\n                                                return (_openBlock(), _createElementBlock(\"option\", {\n                                                    key: g,\n                                                    value: g\n                                                }, _toDisplayString(g), 9 /* TEXT, PROPS */, _hoisted_11));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ], 512 /* NEED_PATCH */), [\n                                            [_vModelSelect, _unref(state).character.gender]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_12, [\n                                        _cache[20] || (_cache[20] = _createElementVNode(\"label\", { for: \"height\" }, \"身高:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            type: \"text\",\n                                            id: \"height\",\n                                            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => ((_unref(state).character.height) = $event)),\n                                            placeholder: \"例如: 185cm\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, _unref(state).character.height]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_13, [\n                                        _cache[21] || (_cache[21] = _createElementVNode(\"label\", { for: \"build\" }, \"体型:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"select\", {\n                                            id: \"build\",\n                                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((_unref(state).character.build) = $event))\n                                        }, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(builds), (b) => {\n                                                return (_openBlock(), _createElementBlock(\"option\", {\n                                                    key: b,\n                                                    value: b\n                                                }, _toDisplayString(b), 9 /* TEXT, PROPS */, _hoisted_14));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ], 512 /* NEED_PATCH */), [\n                                            [_vModelSelect, _unref(state).character.build]\n                                        ])\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_15, [\n                                    _cache[22] || (_cache[22] = _createElementVNode(\"label\", { for: \"appearance\" }, \"外貌:\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                        id: \"appearance\",\n                                        \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event) => ((_unref(state).character.appearance) = $event)),\n                                        placeholder: \"描述角色的外貌\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, _unref(state).character.appearance]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_16, [\n                                    _cache[23] || (_cache[23] = _createElementVNode(\"label\", { for: \"personality\" }, \"性格:\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                        id: \"personality\",\n                                        \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event) => ((_unref(state).character.personality) = $event)),\n                                        placeholder: \"描述角色的性格\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, _unref(state).character.personality]\n                                    ])\n                                ])\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'race')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                            _createElementVNode(\"div\", _hoisted_18, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(races), (r) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"card\", { selected: _unref(state).character.race === r.name }]),\n                                        key: r.name,\n                                        onClick: ($event) => (_unref(state).character.race = r.name)\n                                    }, [\n                                        _createElementVNode(\"h3\", null, _toDisplayString(r.name), 1 /* TEXT */),\n                                        _createElementVNode(\"p\", null, _toDisplayString(r.description), 1 /* TEXT */),\n                                        _createElementVNode(\"p\", _hoisted_20, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(raceBonuses)[r.name], (bonus, attr) => {\n                                                return (_openBlock(), _createElementBlock(\"span\", {\n                                                    key: attr,\n                                                    class: \"bonus-item\"\n                                                }, _toDisplayString(_unref(attributeLabels)[attr]) + \": +\" + _toDisplayString(bonus), 1 /* TEXT */));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ])\n                                    ], 10 /* CLASS, PROPS */, _hoisted_19));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'attributes')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                            _createElementVNode(\"h2\", null, \"剩余点数: \" + _toDisplayString(_unref(availablePoints)), 1 /* TEXT */),\n                            _createElementVNode(\"ul\", null, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(state).attributes, (value, key) => {\n                                    return (_openBlock(), _createElementBlock(\"li\", { key: key }, [\n                                        _createElementVNode(\"span\", _hoisted_22, _toDisplayString(_unref(attributeLabels)[key]) + \":\", 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_23, [\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(decreaseAttribute)(key)),\n                                                disabled: value <= _unref(baseAttributes)[key]\n                                            }, \"-\", 8 /* PROPS */, _hoisted_24),\n                                            _createElementVNode(\"span\", _hoisted_25, _toDisplayString(value), 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(increaseAttribute)(key)),\n                                                disabled: _unref(availablePoints) <= 0\n                                            }, \"+\", 8 /* PROPS */, _hoisted_26)\n                                        ])\n                                    ]));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'follower')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [\n                            _createElementVNode(\"div\", _hoisted_28, [\n                                _createElementVNode(\"div\", _hoisted_29, [\n                                    _cache[24] || (_cache[24] = _createTextVNode(\"添加随行NPC\", -1 /* CACHED */)),\n                                    _createElementVNode(\"button\", {\n                                        onClick: _cache[14] || (_cache[14] =\n                                            //@ts-ignore\n                                            (...args) => (_unref(addFollower) && _unref(addFollower)(...args)))\n                                    }, \"+\")\n                                ]),\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(state).followers, (follower, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: index,\n                                        class: \"follower-card\"\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_30, [\n                                            _createTextVNode(\" 随行NPC \" + _toDisplayString(index + 1) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(removeFollower)(index))\n                                            }, \"删除\", 8 /* PROPS */, _hoisted_31)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_32, [\n                                            _createElementVNode(\"div\", _hoisted_33, [\n                                                _cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"名字:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.name) = $event)\n                                                }, null, 8 /* PROPS */, _hoisted_34), [\n                                                    [_vModelText, follower.character.name]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_35, [\n                                                _cache[26] || (_cache[26] = _createElementVNode(\"label\", null, \"性别:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.gender) = $event)\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(genders), (g) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: g,\n                                                            value: g\n                                                        }, _toDisplayString(g), 9 /* TEXT, PROPS */, _hoisted_37));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 8 /* PROPS */, _hoisted_36), [\n                                                    [_vModelSelect, follower.character.gender]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_38, [\n                                                _cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"种族:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.race) = $event)\n                                                }, null, 8 /* PROPS */, _hoisted_39), [\n                                                    [_vModelText, follower.character.race]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_40, [\n                                                _cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"身高:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.height) = $event)\n                                                }, null, 8 /* PROPS */, _hoisted_41), [\n                                                    [_vModelText, follower.character.height]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_42, [\n                                                _cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"体型:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.build) = $event)\n                                                }, null, 8 /* PROPS */, _hoisted_43), [\n                                                    [_vModelText, follower.character.build]\n                                                ])\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_44, [\n                                            _cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"外貌:\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"textarea\", {\n                                                \"onUpdate:modelValue\": ($event) => ((follower.character.appearance) = $event)\n                                            }, null, 8 /* PROPS */, _hoisted_45), [\n                                                [_vModelText, follower.character.appearance]\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_46, [\n                                            _cache[31] || (_cache[31] = _createElementVNode(\"label\", null, \"性格:\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"textarea\", {\n                                                \"onUpdate:modelValue\": ($event) => ((follower.character.personality) = $event)\n                                            }, null, 8 /* PROPS */, _hoisted_47), [\n                                                [_vModelText, follower.character.personality]\n                                            ])\n                                        ]),\n                                        _cache[32] || (_cache[32] = _createElementVNode(\"div\", { class: \"follower-header\" }, \"属性\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_48, [\n                                            _createElementVNode(\"ul\", null, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(follower.attributes, (value, key) => {\n                                                    return (_openBlock(), _createElementBlock(\"li\", { key: key }, [\n                                                        _createElementVNode(\"span\", _hoisted_49, _toDisplayString(_unref(attributeLabels)[key]) + \":\", 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_50, [\n                                                            _createElementVNode(\"button\", {\n                                                                onClick: ($event) => (follower.attributes[key]--)\n                                                            }, \"-\", 8 /* PROPS */, _hoisted_51),\n                                                            _createElementVNode(\"span\", _hoisted_52, _toDisplayString(value), 1 /* TEXT */),\n                                                            _createElementVNode(\"button\", {\n                                                                onClick: ($event) => (follower.attributes[key]++)\n                                                            }, \"+\", 8 /* PROPS */, _hoisted_53)\n                                                        ])\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */))\n                                            ])\n                                        ])\n                                    ]));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'initLocation')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_54, [\n                            _createVNode(MapSelector, {\n                                \"coordinate-helper-mode\": coordinateHelperMode.value,\n                                \"onUpdate:coordinateHelperMode\": _cache[15] || (_cache[15] = ($event) => ((coordinateHelperMode).value = $event)),\n                                \"show-helper-checkbox\": true,\n                                onPointSelected: handlePointSelected,\n                                onCoordinatesClicked: handleCoordinatesClicked\n                            }, null, 8 /* PROPS */, [\"coordinate-helper-mode\"])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'confirm')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_55, [\n                            _createElementVNode(\"p\", {\n                                style: { \"white-space\": \"pre-line\" },\n                                innerHTML: _unref(openingConfirmText)\n                            }, null, 8 /* PROPS */, _hoisted_56),\n                            (_unref(sys).mainStoryMode)\n                                ? (_openBlock(), _createElementBlock(\"p\", {\n                                    key: 0,\n                                    style: { \"white-space\": \"pre-line\" },\n                                    innerHTML: _unref(fixedOpeningText)\n                                }, null, 8 /* PROPS */, _hoisted_57))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"div\", _hoisted_58, [\n                                _createElementVNode(\"button\", {\n                                    class: \"create-button\",\n                                    onClick: _cache[16] || (_cache[16] =\n                                        //@ts-ignore\n                                        (...args) => (_unref(createCharacter) && _unref(createCharacter)(...args)))\n                                }, \"创建角色\")\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import App from './App.vue';\nimport './base.scss';\nimport './style.scss';\n$(() => {\n    createApp(App).mount('#app');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","Vue","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","__name","coordinateHelperMode","type","Boolean","default","showHelperCheckbox","emits","setup","__props","emit","__emit","mapCanvas","ref","canvasContainer","selectedRegion","selectedCity","lastClickedPoint","lastClickedOriginalCoords","mapImage","Image","isImageLoaded","scaleX","scaleY","regions","name","points","x","y","color","cities","drawMap","canvas","value","ctx","getContext","width","height","dpr","window","devicePixelRatio","displayWidth","displayHeight","clearRect","globalAlpha","drawImage","fillStyle","fillRect","beginPath","arc","Math","PI","fill","strokeStyle","stroke","forEach","region","moveTo","i","length","lineTo","closePath","font","textAlign","textBaseline","city","cityX","cityY","text","textY","backgroundWidth","measureText","padding","backgroundX","backgroundY","backgroundHeight","roundRect","textHeight","fillText","lineWidth","handleCanvasClick","event","rect","getBoundingClientRect","clickPoint","clientX","left","clientY","top","coords","round","console","log","foundCity","foundRegionForCity","sqrt","clickedRegionData","map","p","find","point","polygon","isInside","j","xi","yi","xj","yj","isPointInPolygon","r","resizeCanvas","container","scale","resizeObserver","onMounted","crossOrigin","onload","src","ResizeObserver","observe","onUnmounted","disconnect","_ctx","_cache","checked","onChange","$event","$emit","ref_key","onClick","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","defaultEra","character","level","gender","race","build","appearance","personality","attributes","shooting","melee","construction","mining","cooking","planting","animals","crafting","artistic","medical","social","intellectual","equipment","leftHand","rightHand","outfitContent","F1","meta","relationship","favorability","favorabilityTowardsNPCs","description","useCharacterCreation","defaultMvuData","sys","reactive","mainStoryMode","selectedMode","raceBonuses","state","location","followers","attributeLabels","baseAttributes","computed","bonuses","baseAttrs","attrKey","watch","newBaseAttrs","immediate","filterMeta","obj","newObj","Object","values","filter","v","createDefaultCharacter","resetCharacter","spentPoints","total","currentBase","availablePoints","openingConfirmText","followerText","f","attributesText","keys","join","fixedOpeningText","eventOn","detail","statWithoutMeta","playerData","currentQuests","updateWorldbookWith","worldbook","QUEST_KEYWORDS","STRATEGY_TYPE","entry","some","keyword","includes","strategy","newStrategyType","quest","async","getLastMessageId","context","createChatMessages","role","message","refresh","triggerSlash","createMessage","modes","races","genders","builds","increaseAttribute","attr","decreaseAttribute","createCharacter","partyAttrPoints","reduce","acc","_","F0","outfitIds","userSelection","followerNPCData","curr","status","health","current","max","mood","arousal","experience","$meta","updatable","system","progressData","archivedData","mainStoryInit","currentQuest","MQ1","isMain","worldInfo","date","time","weather","currentRegion","currentLocation","merge","finalCharacterData","cloneDeep","eventEmit","error","toastr","addFollower","push","removeFollower","index","splice","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","lastClickedCoords","activeTab","handlePointSelected","regionName","handleCoordinatesClicked","active","m","selected","for","id","placeholder","g","b","bonus","disabled","args","follower","MapSelector","onPointSelected","onCoordinatesClicked","style","innerHTML","$","createApp","App","mount"],"ignoreList":[],"sourceRoot":""}