{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/书记官ERA/components/MapSelector.vue","webpack://tavern_helper_template/src/书记官ERA/components/MapSelector.vue?a9b5","src://tavern_helper_template/src/开始界面/useCharacterCreation.ts","src://tavern_helper_template/src/开始界面/App.vue","webpack://tavern_helper_template/src/开始界面/App.vue?5a9b","src://tavern_helper_template/src/开始界面/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"map-selector-wrapper\" };\nconst _hoisted_2 = { class: \"map-controls\" };\nconst _hoisted_3 = { class: \"selected-point-preview\" };\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = {\n    key: 0,\n    class: \"helper-controls\"\n};\nconst _hoisted_6 = { key: 0 };\nconst _hoisted_7 = [\"checked\"];\nimport { onMounted, onUnmounted, ref } from 'vue';\nconst cityClickRadius = 8;\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MapSelector',\n    props: {\n        coordinateHelperMode: {\n            type: Boolean,\n            default: false,\n        },\n        showHelperCheckbox: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    emits: ['point-selected', 'coordinates-clicked', 'update:coordinateHelperMode'],\n    setup(__props, { emit: __emit }) {\n        const props = __props;\n        const emit = __emit;\n        const mapCanvas = ref(null);\n        const canvasContainer = ref(null);\n        const selectedRegion = ref(null);\n        const selectedCity = ref(null);\n        const lastClickedPoint = ref(null); // For helper mode\n        const lastClickedOriginalCoords = ref(null);\n        const mapImage = new Image();\n        const isImageLoaded = ref(false);\n        const scaleX = ref(1);\n        const scaleY = ref(1);\n        const regions = [\n            {\n                name: '科雷斯帝国',\n                points: [\n                    { x: 181, y: 22 },\n                    { x: 194, y: 64 },\n                    { x: 116, y: 146 },\n                    { x: 96, y: 172 },\n                    { x: 122, y: 231 },\n                    { x: 97, y: 239 },\n                    { x: 99, y: 259 },\n                    { x: 122, y: 270 },\n                    { x: 139, y: 260 },\n                    { x: 151, y: 288 },\n                    { x: 321, y: 287 },\n                    { x: 328, y: 226 },\n                    { x: 302, y: 187 },\n                    { x: 338, y: 148 },\n                    { x: 318, y: 117 },\n                    { x: 260, y: 101 },\n                    { x: 267, y: 88 },\n                    { x: 234, y: 46 },\n                ],\n                color: 'rgba(60, 179, 113, 0.2)',\n                cities: [\n                    { name: '迈林代尔', x: 209, y: 169 },\n                    { name: '米克斯塔', x: 202, y: 184 },\n                    { name: '巴拉德雷', x: 242, y: 195 },\n                ],\n            },\n        ];\n        const isPointInPolygon = (point, polygon) => {\n            let isInside = false;\n            for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n                const xi = polygon[i].x, yi = polygon[i].y;\n                const xj = polygon[j].x, yj = polygon[j].y;\n                const intersect = yi > point.y !== yj > point.y && point.x < ((xj - xi) * (point.y - yi)) / (yj - yi) + xi;\n                if (intersect)\n                    isInside = !isInside;\n            }\n            return isInside;\n        };\n        const drawMap = () => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            const { width, height } = canvas;\n            const dpr = window.devicePixelRatio || 1;\n            const displayWidth = width / dpr;\n            const displayHeight = height / dpr;\n            ctx.clearRect(0, 0, width, height);\n            if (isImageLoaded.value) {\n                ctx.drawImage(mapImage, 0, 0, displayWidth, displayHeight);\n            }\n            else {\n                ctx.fillStyle = '#EAE7DC';\n                ctx.fillRect(0, 0, displayWidth, displayHeight);\n            }\n            // In helper mode, don't draw regions/cities, just the clicked point\n            if (props.coordinateHelperMode) {\n                if (lastClickedPoint.value) {\n                    ctx.fillStyle = 'cyan';\n                    ctx.beginPath();\n                    ctx.arc(lastClickedPoint.value.x, lastClickedPoint.value.y, 5, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.strokeStyle = 'black';\n                    ctx.stroke();\n                }\n                return;\n            }\n            regions.forEach(region => {\n                ctx.fillStyle = region.color;\n                ctx.beginPath();\n                ctx.moveTo(region.points[0].x * scaleX.value, region.points[0].y * scaleY.value);\n                for (let i = 1; i < region.points.length; i++) {\n                    ctx.lineTo(region.points[i].x * scaleX.value, region.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.fill();\n            });\n            ctx.font = '12px Arial';\n            ctx.textAlign = 'center';\n            regions.forEach(region => {\n                region.cities.forEach(city => {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    ctx.beginPath();\n                    ctx.arc(cityX, cityY, 5, 0, 2 * Math.PI);\n                    ctx.fillStyle = 'white';\n                    ctx.fill();\n                    ctx.strokeStyle = '#333';\n                    ctx.stroke();\n                    ctx.fillStyle = 'black';\n                    ctx.fillText(city.name, cityX, cityY + 15);\n                });\n            });\n            if (selectedRegion.value) {\n                ctx.strokeStyle = 'pink';\n                ctx.lineWidth = 3;\n                ctx.beginPath();\n                ctx.moveTo(selectedRegion.value.points[0].x * scaleX.value, selectedRegion.value.points[0].y * scaleY.value);\n                for (let i = 1; i < selectedRegion.value.points.length; i++) {\n                    ctx.lineTo(selectedRegion.value.points[i].x * scaleX.value, selectedRegion.value.points[i].y * scaleY.value);\n                }\n                ctx.closePath();\n                ctx.stroke();\n            }\n            if (selectedCity.value) {\n                ctx.strokeStyle = 'yellow';\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.arc(selectedCity.value.x * scaleX.value, selectedCity.value.y * scaleY.value, cityClickRadius, 0, 2 * Math.PI);\n                ctx.stroke();\n            }\n        };\n        const handleCanvasClick = (event) => {\n            const canvas = mapCanvas.value;\n            if (!canvas)\n                return;\n            const rect = canvas.getBoundingClientRect();\n            const clickPoint = { x: event.clientX - rect.left, y: event.clientY - rect.top };\n            if (props.coordinateHelperMode) {\n                const originalX = Math.round(clickPoint.x / scaleX.value);\n                const originalY = Math.round(clickPoint.y / scaleY.value);\n                const coords = { x: originalX, y: originalY };\n                console.log(`Coordinates: { x: ${coords.x}, y: ${coords.y} }`);\n                emit('coordinates-clicked', coords);\n                lastClickedOriginalCoords.value = coords;\n                lastClickedPoint.value = clickPoint;\n                drawMap();\n                return;\n            }\n            let foundCity = null;\n            let foundRegionForCity = null;\n            for (const region of regions) {\n                for (const city of region.cities) {\n                    const cityX = city.x * scaleX.value;\n                    const cityY = city.y * scaleY.value;\n                    const distance = Math.sqrt((clickPoint.x - cityX) ** 2 + (clickPoint.y - cityY) ** 2);\n                    if (distance < cityClickRadius) {\n                        foundCity = city;\n                        foundRegionForCity = region;\n                        break;\n                    }\n                }\n                if (foundCity)\n                    break;\n            }\n            if (foundCity && foundRegionForCity) {\n                selectedCity.value = foundCity;\n                selectedRegion.value = foundRegionForCity;\n                emit('point-selected', `${foundRegionForCity.name}, ${foundCity.name}`);\n            }\n            else {\n                const scaledRegions = regions.map(region => ({\n                    ...region,\n                    points: region.points.map(p => ({ x: p.x * scaleX.value, y: p.y * scaleY.value })),\n                }));\n                const clickedRegionData = scaledRegions.find(region => isPointInPolygon(clickPoint, region.points));\n                selectedCity.value = null;\n                if (clickedRegionData) {\n                    selectedRegion.value = regions.find(r => r.name === clickedRegionData.name) || null;\n                    emit('point-selected', clickedRegionData.name);\n                }\n                else {\n                    selectedRegion.value = null;\n                    emit('point-selected', '');\n                }\n            }\n            drawMap();\n        };\n        const resizeCanvas = () => {\n            const canvas = mapCanvas.value;\n            const container = canvasContainer.value;\n            if (!canvas || !container)\n                return;\n            const rect = container.getBoundingClientRect();\n            const dpr = window.devicePixelRatio || 1;\n            canvas.width = rect.width * dpr;\n            canvas.height = rect.height * dpr;\n            const ctx = canvas.getContext('2d');\n            if (!ctx)\n                return;\n            ctx.scale(dpr, dpr);\n            // Base dimensions for coordinate mapping\n            const baseWidth = 500;\n            const baseHeight = 300;\n            scaleX.value = rect.width / baseWidth;\n            scaleY.value = rect.height / baseHeight;\n            drawMap();\n        };\n        let resizeObserver;\n        onMounted(() => {\n            mapImage.crossOrigin = 'Anonymous';\n            mapImage.onload = () => {\n                isImageLoaded.value = true;\n                drawMap();\n            };\n            mapImage.src =\n                'https://raw.githubusercontent.com/neko-kyuu/the-tale-of-Ofoces/refs/heads/static-resources/public/static/vault/29A958DA-EF44-4C67-923E-1B4ECB5E6A90_1_105_c.jpeg';\n            const container = canvasContainer.value;\n            if (container) {\n                resizeObserver = new ResizeObserver(resizeCanvas);\n                resizeObserver.observe(container);\n            }\n            resizeCanvas();\n        });\n        onUnmounted(() => {\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        (selectedCity.value || selectedRegion.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \" 已选择：\" + _toDisplayString(selectedCity.value ? `${selectedRegion.value?.name}, ${selectedCity.value.name}` : selectedRegion.value?.name), 1 /* TEXT */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    (__props.showHelperCheckbox)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            (lastClickedOriginalCoords.value)\n                                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" 坐标: { x: \" + _toDisplayString(lastClickedOriginalCoords.value.x) + \", y: \" + _toDisplayString(lastClickedOriginalCoords.value.y) + \" } \", 1 /* TEXT */))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"label\", null, [\n                                _createElementVNode(\"input\", {\n                                    type: \"checkbox\",\n                                    checked: __props.coordinateHelperMode,\n                                    onChange: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('update:coordinateHelperMode', $event.target.checked)))\n                                }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_7),\n                                _cache[1] || (_cache[1] = _createTextVNode(\" 坐标拾取模式 \", -1 /* CACHED */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createElementVNode(\"div\", {\n                    ref_key: \"canvasContainer\",\n                    ref: canvasContainer,\n                    class: \"canvas-container\"\n                }, [\n                    _createElementVNode(\"canvas\", {\n                        ref_key: \"mapCanvas\",\n                        ref: mapCanvas,\n                        onClick: handleCanvasClick\n                    }, null, 512 /* NEED_PATCH */)\n                ], 512 /* NEED_PATCH */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MapSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MapSelector.vue?vue&type=style&index=0&id=df9f9730&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df9f9730\"]])\n\nexport default __exports__","import { computed, reactive, ref, watch } from 'vue';\nimport defaultEra from '../书记官ERA/default_ERA.json';\n// Based on src/书记官ERA/书记官_ERA.json PlayerData\nexport function useCharacterCreation(defaultMvuData) {\n    const sys = reactive({\n        mainStoryMode: true,\n    });\n    const selectedMode = ref('自定义开局');\n    const modes = [\n        { name: '自定义开局', description: '自由创建角色并开始冒险。' },\n        { name: '模板开局', description: '使用预设的角色模板快速开始游戏。' },\n        { name: '起源角色开局', description: '选择一个起源角色，体验独特的背景故事和初始条件。' },\n    ];\n    const races = [\n        { name: '月精灵', description: '优雅而神秘的森林居民，擅长魔法和弓箭。' },\n        { name: '人类', description: '适应性强，遍布世界各地，在各种领域都有建树。' },\n        { name: '矮人', description: '强壮的矿工和工匠，以其坚韧和对工艺的热爱而闻名。' },\n        { name: '兽人', description: '勇猛的战士，拥有强大的力量和无畏的精神。' },\n    ];\n    const genders = ['男', '女']; // Example genders\n    const builds = ['纤细', '匀称', '健壮', '魁梧'];\n    const base = 0;\n    const state = reactive({\n        character: {\n            name: '',\n            level: 1,\n            gender: '男',\n            race: '月精灵',\n            height: '',\n            build: '',\n            appearance: '',\n            personality: '',\n            location: '',\n        },\n        attributes: {\n            shooting: base,\n            melee: base,\n            construction: base,\n            mining: base,\n            cooking: base,\n            planting: base,\n            animals: base,\n            crafting: base,\n            artistic: base,\n            medical: base,\n            social: base,\n            intellectual: base,\n        },\n        followers: [],\n    });\n    const attributeLabels = {\n        shooting: '射击',\n        melee: '格斗',\n        construction: '建造',\n        mining: '采矿',\n        cooking: '烹饪',\n        planting: '种植',\n        animals: '驯兽',\n        crafting: '手工',\n        artistic: '艺术',\n        medical: '医疗',\n        social: '社交',\n        intellectual: '智识',\n    };\n    const raceBonuses = {\n        月精灵: { shooting: 3, intellectual: 2, artistic: 1 },\n        人类: { social: 1, crafting: 1, cooking: 1, intellectual: 1, construction: 1, medical: 1 },\n        矮人: { mining: 3, construction: 2, crafting: 1 },\n        兽人: { melee: 4, mining: 2 },\n    };\n    const baseAttributes = computed(() => {\n        const bonuses = raceBonuses[state.character.race] || {};\n        const baseAttrs = {};\n        for (const key in state.attributes) {\n            const attrKey = key;\n            baseAttrs[attrKey] = base + (bonuses[attrKey] || 0);\n        }\n        return baseAttrs;\n    });\n    watch(() => state.character.race, () => {\n        const newBaseAttrs = baseAttributes.value;\n        for (const key in state.attributes) {\n            const attrKey = key;\n            state.attributes[attrKey] = newBaseAttrs[attrKey];\n        }\n    }, { immediate: true });\n    const totalPoints = 20;\n    watch(selectedMode, value => {\n        if (value === '模板开局') {\n            createDefaultCharacter(state);\n        }\n        else if (value === '自定义开局') {\n            resetCharacter(state);\n        }\n    });\n    const spentPoints = computed(() => {\n        let total = 0;\n        const currentBase = baseAttributes.value;\n        for (const key in state.attributes) {\n            const attrKey = key;\n            total += state.attributes[attrKey] - currentBase[attrKey];\n        }\n        return total;\n    });\n    const availablePoints = computed(() => totalPoints - spentPoints.value);\n    function increaseAttribute(attr) {\n        if (availablePoints.value > 0) {\n            state.attributes[attr]++;\n        }\n    }\n    function decreaseAttribute(attr) {\n        if (state.attributes[attr] > baseAttributes.value[attr]) {\n            state.attributes[attr]--;\n        }\n    }\n    function createDefaultFollower() {\n        return {\n            character: {\n                name: '',\n                level: 1,\n                gender: '男',\n                race: '人类',\n                height: '',\n                build: '匀称',\n                appearance: '',\n                personality: '',\n            },\n            attributes: {\n                shooting: base,\n                melee: base,\n                construction: base,\n                mining: base,\n                cooking: base,\n                planting: base,\n                animals: base,\n                crafting: base,\n                artistic: base,\n                medical: base,\n                social: base,\n                intellectual: base,\n            },\n        };\n    }\n    function addFollower() {\n        state.followers.push(createDefaultFollower());\n    }\n    function removeFollower(index) {\n        state.followers.splice(index, 1);\n    }\n    function createCharacter() {\n        let userSelection = {\n            PlayerData: {\n                character: { ...state.character },\n                attributes: { ...state.attributes },\n            },\n            FollowerNPCData: state.followers.reduce((acc, curr, i) => {\n                // 使用模板字符串 `${}` 拼接键名\n                acc[`F${i + 1}`] = {\n                    character: { ...curr.character },\n                    attributes: { ...curr.attributes },\n                    status: {\n                        health: { current: 12, max: 12 },\n                        mood: { current: 50, max: 100 },\n                        arousal: { current: 50, max: 100 },\n                    },\n                    meta: {\n                        relationship: '同伴',\n                        favorability: 50,\n                        favorabilityTowardsNPCs: {\n                            $meta: {\n                                updatable: true,\n                            },\n                        },\n                        description: '',\n                    },\n                };\n                return acc;\n            }, {}),\n            System: {\n                mainStoryMode: sys.mainStoryMode,\n            },\n        };\n        if (sys.mainStoryMode) {\n            const mainStoryInit = {\n                PlayerData: {\n                    progress: {\n                        currentQuest: {\n                            MQ1: {\n                                name: '节日的插曲',\n                                description: '你们作为旅者，本想享受这难得的安宁与热闹，却意外卷入了一场发生于市中心“长者之喉”许愿井的不同寻常的事件。',\n                                isMain: true,\n                            },\n                        },\n                    },\n                    settings: {\n                        date: '1468DR 奈托月19日',\n                        time: '傍晚',\n                        weather: '飘雪',\n                        currentRegion: '巴拉德雷',\n                        currentLocation: '羽笔与酒杯旅店附近',\n                    },\n                },\n            };\n            userSelection = _.merge(userSelection, mainStoryInit);\n        }\n        // 使用 cloneDeep 避免修改原始的 defaultMvuData, 并确保结构匹配\n        const finalCharacterData = _.merge(_.cloneDeep(defaultMvuData), userSelection);\n        console.log('Creating character:', finalCharacterData);\n        try {\n            eventEmit('era:insertByObject', finalCharacterData);\n        }\n        catch (error) {\n            console.error('修改 MVU 数据失败:', error);\n            toastr.error('操作失败: 保存数据时出错');\n        }\n    }\n    const openingConfirmText = computed(() => {\n        const followerText = state.followers\n            .map((f, i) => {\n            const attributesText = Object.keys(f.attributes)\n                .map(key => `${attributeLabels[key]}${f.attributes[key]}`)\n                .join(', ');\n            return `\n                     随行NPC ${i + 1}:\n                     名字: ${f.character.name}\n                     性别: ${f.character.gender}\n                     种族: ${f.character.race}\n                     身高: ${f.character.height}\n                     体型: ${f.character.build}\n                     外貌: ${f.character.appearance}\n                     性格: ${f.character.personality}\n                     属性点:\n                     ${attributesText}\n`;\n        })\n            .join('');\n        return `\n                     玩家信息:\n                     名字: ${state.character.name}\n                     等级: ${state.character.level}\n                     性别: ${state.character.gender}\n                     种族: ${state.character.race}\n                     身高: ${state.character.height}\n                     体型: ${state.character.build}\n                     外貌: ${state.character.appearance}\n                     性格: ${state.character.personality}\n \n                     属性点:\n                     射击${state.attributes.shooting}, 格斗${state.attributes.melee}, 建造${state.attributes.construction}, 采矿${state.attributes.mining}, 烹饪${state.attributes.cooking}, 种植${state.attributes.planting}, 驯兽${state.attributes.animals}, 手工${state.attributes.crafting}, 艺术${state.attributes.artistic}, 医疗${state.attributes.medical}, 社交${state.attributes.social}, 智识${state.attributes.intellectual}\n ${followerText}\n\n初始地点: 巴拉德雷\n\n---\n                     `;\n    });\n    const fixedOpeningText = computed(() => {\n        return `\n#节日的插曲\n\n1468DR 奈托月19日\n\n\n寒风裹挟着远方炊烟的气息，在德温林平原上呼啸而过。\n\n驿道两旁的白蜡树早已褪尽了最后一片枯叶，光秃秃的枝桠在铅灰色的天穹下交织成网。车辙碾过冻得硬邦邦的泥土路面，发出有节奏的吱呀声响，偶尔碾过一块碎石，便颠簸一下，将车厢里的乘客摇晃得东倒西歪。\n\n\"快到喽——\"\n\n赶车的老汉扬起鞭子往前方虚空里甩了个响亮的鞭花。他裹着一件看不出原本颜色的破旧羊皮袄，脖子上缠着好几圈磨得起毛的围巾。\n\n\"看见没？那边，那边——\"他腾出一只手往前方指了指，\"那冒烟的地方就是巴拉德雷！赶在长夜节前头到了，运气不赖！\"\n\n巴拉德雷的轮廓渐渐清晰起来。\n\n远远望去，赭红色的屋顶层层叠叠，错落有致地铺陈在缓坡之上，像是谁打翻了一篮子熟透的苹果。炊烟从无数烟囱中袅袅升起，在半空中汇成一片朦胧的暖灰色薄纱。\n\n\"长夜节嘛，\"老汉絮絮叨叨地说着，也不管车厢里的乘客是否在听，\"巴拉德雷的长夜节那可是出了名的热闹。我年轻那会儿也来过一回，嚯，满大街都是唱歌的、跳舞的、耍把戏的……那个酒啊，叫什么来着……冬日香料？热乎乎的，甜丝丝的，喝一口从嗓子眼暖到脚后跟——\"\n\n他咂了咂嘴，似乎在回味几十年前的味道。\n\n\"就是贵。不过节日嘛，图个喜庆。\"\n\n马车又颠了一下。\n\n驿道逐渐变得宽阔平整起来，路旁开始出现零星的行人。有挑着担子进城贩卖干柴的农夫，有牵着小毛驴驮着货物的行商，还有三三两两结伴而行的旅人。所有人的脸上都带着一种相似的表情——那是长途跋涉后即将抵达目的地的如释重负，也是对即将到来的节日的隐隐期待。\n\n城门近在眼前。\n\n两名穿着帝国制服的守卫懒洋洋地倚在门柱旁，对进进出出的人流只是随意瞥上一眼，显然今日不是仔细盘查的时候。\n\n\"哟，老帕特，又拉了一车人来凑热闹？\"其中一名守卫朝赶车老汉喊道，语气里带着几分熟稔的调侃。\n\n\"可不是嘛！\"老汉咧嘴一笑，露出几颗缺损的黄牙，\"人家大老远来听曲儿喝酒，我就挣个脚程钱，谁也不耽误谁！\"\n\n守卫挥了挥手，示意马车通行。\n\n穿过门洞的那一刻，寒风似乎骤然减弱了几分，取而代之的是一股夹杂着烤肉香气和酒精气息的暖流。\n\n旅人之阶——城门内那片阶梯式的迎客区——此刻已是人声鼎沸。\n\n这是一片依着地势修建的露天集市与客栈区，石板台阶层层向上延伸，两旁是密密麻麻的店铺、酒馆和旅店。招牌五颜六色，有的是木刻的，有的是铁艺的，还有的干脆就是在布幔上涂了几笔歪歪扭扭的字。小贩们的叫卖声此起彼伏——\n\n\"热乎的百灵鸟肉派嘞——刚出锅的——吃了嗓子亮堂——\"\n\n\"冬青花环！冬青花环！姑娘小伙买一个，来年走好运咯——\"\n\n\"磨剪子嘞——戗菜刀——\"\n\n空气里弥漫着烤肉、热苹果酒和新鲜面包的诱人香气。几个孩子举着冬青枝编成的花环追逐打闹，叽叽喳喳地笑闹着，险些撞上一位正在台阶上调音的吟游诗人。那诗人穿着一身打了补丁却洗得干干净净的靛蓝色斗篷，手里抱着一把略显陈旧的鲁特琴，被孩子们冲撞得差点坐倒，却也不恼，只是笑骂了一声\"小兔崽子们慢点跑\"，便继续拨弄琴弦。\n\n\"到喽到喽——\"老帕特把马车停在一处稍微宽敞的空地上，转过身来朝车厢里招呼道，\"各位客人，巴拉德雷到了！要住店的往上走，'羽笔与酒杯'最实惠，'说书人酒馆'最热闹——要吃东西呢，台阶两边多的是馆子——嘿，老乔治的炖锅，招牌猪肋骨一绝，就是名字起得邪乎，什么'F小调'、'降B'的，听不懂——\"\n\n他跳下车辕，搓了搓冻僵的双手，热情地帮乘客们卸下行李。\n\n\"祝各位长夜节愉快！要是回程还走这条道，记得找老帕特！\"\n\n石板台阶向上延伸。\n\n${state.character.name}${state.followers.length > 1 ? '一行人' : state.followers.length == 1 ? '和' + state.followers[0].character.name : ''}循着人流往上走，穿过熙熙攘攘的人群，两旁的喧嚣声渐渐变得有些模糊，像是被什么无形的东西过滤掉了一般。倒不是真的安静下来，只是走了一天的路，耳朵和脑子都有些麻木了。\n\n往上走不多远，一块手绘的木质招牌映入眼帘。\n\n招牌上画着一支羽毛笔斜插在一只盛满琥珀色液体的高脚酒杯里，笔尖似乎正在酒液表面书写着什么。底下歪歪扭扭地写着几个字：\n\n**\"羽笔与酒杯\"**\n\n招牌下方还挂着一块小一号的木板，上面是今日新添的粉笔字：\n\n*\"冬日香料热酒供应中——新客免费一杯！\"*\n`;\n    });\n    async function createMessage() {\n        const message_id = getLastMessageId();\n        if (message_id !== 0) {\n            return;\n        }\n        let context = fixedOpeningText.value;\n        await createChatMessages([\n            {\n                role: 'user',\n                message: dedent(context),\n            },\n        ], { refresh: 'all' });\n        await triggerSlash('/trigger');\n    }\n    eventOn('era:writeDone', detail => {\n        if (!detail || !detail.statWithoutMeta)\n            return;\n        if (!detail.statWithoutMeta.PlayerData.character.name)\n            return;\n        createMessage();\n    });\n    return {\n        state,\n        sys,\n        selectedMode,\n        modes,\n        races,\n        genders,\n        builds,\n        baseAttributes,\n        availablePoints,\n        increaseAttribute,\n        decreaseAttribute,\n        createCharacter,\n        attributeLabels,\n        raceBonuses,\n        openingConfirmText,\n        fixedOpeningText,\n        addFollower,\n        removeFollower,\n    };\n}\nfunction createDefaultCharacter(state) {\n    const filterMeta = (obj) => {\n        if (!obj || typeof obj !== 'object') {\n            return obj;\n        }\n        const newObj = {};\n        for (const key in obj) {\n            if (key !== '$meta' && key !== '$template') {\n                newObj[key] = obj[key];\n            }\n        }\n        return newObj;\n    };\n    state.character = filterMeta(defaultEra.PlayerData.character);\n    state.attributes = filterMeta(defaultEra.PlayerData.attributes);\n    state.followers = Object.values(filterMeta(defaultEra.FollowerNPCData))\n        .filter((v) => v.character)\n        .map((v) => {\n        return {\n            character: filterMeta(v.character),\n            attributes: filterMeta(v.attributes),\n        };\n    });\n}\nfunction resetCharacter(state) {\n    state.character = {\n        name: '',\n        level: 1,\n        gender: '男',\n        race: '月精灵',\n        height: '',\n        build: '',\n        appearance: '',\n        personality: '',\n        location: '',\n    };\n    state.attributes = {\n        shooting: 0,\n        melee: 0,\n        construction: 0,\n        mining: 0,\n        cooking: 0,\n        planting: 0,\n        animals: 0,\n        crafting: 0,\n        artistic: 0,\n        medical: 0,\n        social: 0,\n        intellectual: 0,\n    };\n    state.followers = [];\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, unref as _unref, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, vModelSelect as _vModelSelect, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"opening\" };\nconst _hoisted_2 = { class: \"tabs\" };\nconst _hoisted_3 = { class: \"tab-content\" };\nconst _hoisted_4 = {\n    key: 0,\n    class: \"sys-section\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = { key: 1 };\nconst _hoisted_7 = { class: \"form-section\" };\nconst _hoisted_8 = { class: \"form-grid\" };\nconst _hoisted_9 = { class: \"form-group\" };\nconst _hoisted_10 = { class: \"form-group\" };\nconst _hoisted_11 = [\"value\"];\nconst _hoisted_12 = { class: \"form-group\" };\nconst _hoisted_13 = { class: \"form-group\" };\nconst _hoisted_14 = [\"value\"];\nconst _hoisted_15 = { class: \"form-group\" };\nconst _hoisted_16 = { class: \"form-group\" };\nconst _hoisted_17 = { key: 2 };\nconst _hoisted_18 = { class: \"race-selection\" };\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = { class: \"card-bonuses\" };\nconst _hoisted_21 = {\n    key: 3,\n    class: \"attributes-section\"\n};\nconst _hoisted_22 = { class: \"attribute-name\" };\nconst _hoisted_23 = { class: \"attribute-controls\" };\nconst _hoisted_24 = [\"onClick\", \"disabled\"];\nconst _hoisted_25 = { class: \"attribute-value\" };\nconst _hoisted_26 = [\"onClick\", \"disabled\"];\nconst _hoisted_27 = { key: 4 };\nconst _hoisted_28 = { class: \"follower-section\" };\nconst _hoisted_29 = { class: \"follower-header\" };\nconst _hoisted_30 = { class: \"follower-header\" };\nconst _hoisted_31 = [\"onClick\"];\nconst _hoisted_32 = { class: \"form-grid\" };\nconst _hoisted_33 = { class: \"form-group\" };\nconst _hoisted_34 = [\"onUpdate:modelValue\"];\nconst _hoisted_35 = { class: \"form-group\" };\nconst _hoisted_36 = [\"onUpdate:modelValue\"];\nconst _hoisted_37 = [\"value\"];\nconst _hoisted_38 = { class: \"form-group\" };\nconst _hoisted_39 = [\"onUpdate:modelValue\"];\nconst _hoisted_40 = [\"value\"];\nconst _hoisted_41 = { class: \"form-group\" };\nconst _hoisted_42 = [\"onUpdate:modelValue\"];\nconst _hoisted_43 = { class: \"form-group\" };\nconst _hoisted_44 = [\"onUpdate:modelValue\"];\nconst _hoisted_45 = [\"value\"];\nconst _hoisted_46 = { class: \"form-group\" };\nconst _hoisted_47 = [\"onUpdate:modelValue\"];\nconst _hoisted_48 = { class: \"form-group\" };\nconst _hoisted_49 = [\"onUpdate:modelValue\"];\nconst _hoisted_50 = { class: \"attributes-section\" };\nconst _hoisted_51 = { class: \"attribute-name\" };\nconst _hoisted_52 = { class: \"attribute-controls\" };\nconst _hoisted_53 = [\"onClick\"];\nconst _hoisted_54 = { class: \"attribute-value\" };\nconst _hoisted_55 = [\"onClick\"];\nconst _hoisted_56 = { key: 5 };\nconst _hoisted_57 = { key: 6 };\nconst _hoisted_58 = [\"innerHTML\"];\nconst _hoisted_59 = [\"innerHTML\"];\nconst _hoisted_60 = { class: \"actions\" };\nimport { ref } from 'vue';\nimport MapSelector from '../书记官ERA/components/MapSelector.vue';\nimport { useCharacterCreation } from './useCharacterCreation';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    setup(__props) {\n        const coordinateHelperMode = ref(false);\n        const lastClickedCoords = ref(null);\n        const activeTab = ref('character');\n        const defaultMvuData = JSON.parse(`{\n    \"PlayerData\": {\n        \"$meta\": {\n            \"necessary\": \"self\",\n            \"updatable\": true\n        },\n        \"character\": {\n            \"$meta\": {\n                \"necessary\": \"all\",\n                \"updatable\": true\n            },\n            \"name\": \"\",\n            \"level\": 1,\n            \"gender\": \"\",\n            \"race\": \"\",\n            \"height\": \"\",\n            \"build\": \"\",\n            \"appearance\": \"\",\n            \"personality\": \"\"\n        },\n        \"status\": {\n            \"$meta\": {\n                \"necessary\": \"all\",\n                \"updatable\": true\n            },\n            \"health\": {\n                \"current\": 12,\n                \"max\": 12\n            },\n            \"mood\": {\n                \"current\": 80,\n                \"max\": 100\n            },\n            \"arousal\": {\n                \"current\": 50,\n                \"max\": 100\n            }\n        },\n        \"attributes\": {\n            \"$meta\": {\n                \"necessary\": \"all\",\n                \"updatable\": true\n            },\n            \"shooting\": 0,\n            \"melee\": 0,\n            \"construction\": 0,\n            \"mining\": 0,\n            \"cooking\": 0,\n            \"planting\": 0,\n            \"animals\": 0,\n            \"crafting\": 0,\n            \"artistic\": 0,\n            \"medical\": 0,\n            \"social\": 0,\n            \"intellectual\": 0\n        },\n        \"progress\": {\n            \"$meta\": {\n                \"necessary\": \"self\",\n                \"updatable\": true\n            },\n            \"questPhase\": \"\",\n            \"currentQuest\": {\n                \"$meta\": {\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[任务名称]\",\n                    \"description\": \"\",\n                    \"isMain\": false,\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"nextQuest\": {\n                \"$meta\": {\n                    \"necessary\": \"self\",\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[任务名称]\",\n                    \"description\": \"\",\n                    \"isMain\": false,\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"pendingQuest\": {\n                \"$meta\": {\n                    \"necessary\": \"self\",\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[任务名称]\",\n                    \"description\": \"\",\n                    \"isMain\": false,\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"completedQuest\": {\n                \"$meta\": {\n                    \"necessary\": \"self\",\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[任务名称]\",\n                    \"description\": \"\",\n                    \"isMain\": false,\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"partyExperience\": {\n                \"current\": 0,\n                \"max\": 100\n            },\n            \"partyAttrPoints\": 0\n        },\n        \"settings\": {\n            \"$meta\": {\n                \"necessary\": \"self\",\n                \"updatable\": true\n            },\n            \"date\": \"\",\n            \"time\": \"\",\n            \"weather\": \"\",\n            \"currentRegion\": \"\",\n            \"currentLocation\": \"\",\n            \"nearbyNPC\": {\n                \"$meta\": {\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"character\": {\n                        \"name\": \"[角色名称]\",\n                        \"level\": \"[角色等级]\",\n                        \"gender\": \"[性别]\",\n                        \"race\": \"[种族]\",\n                        \"height\": \"[身高]\",\n                        \"build\": \"[体型]\",\n                        \"appearance\": \"[外貌]\",\n                        \"personality\": \"[性格]\"\n                    },\n                    \"attributes\": {\n                        \"$meta\": {\n                            \"necessary\": \"all\",\n                            \"updatable\": true\n                        },\n                        \"shooting\": 0,\n                        \"melee\": 0,\n                        \"construction\": 0,\n                        \"mining\": 0,\n                        \"cooking\": 0,\n                        \"planting\": 0,\n                        \"animals\": 0,\n                        \"crafting\": 0,\n                        \"artistic\": 0,\n                        \"medical\": 0,\n                        \"social\": 0,\n                        \"intellectual\": 0\n                    },\n                    \"meta\": {\n                        \"relationship\": \"陌生人\",\n                        \"favorability\": 0,\n                        \"favorabilityTowardsNPCs\": {\n                            \"$meta\": {\n                                \"updatable\": true\n                            }\n                        },\n                        \"description\": \"[简要描述]\"\n                    },\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"factionPrestige\": {\n                \"$meta\": {\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[阵营名称]\",\n                    \"description\": \"[简要描述]\",\n                    \"favorability\": 0,\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"bestiary\": {\n                \"$meta\": {\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[异怪名称]\",\n                    \"description\": \"[异怪描述]\",\n                    \"habitat\": \"[栖息地]\",\n                    \"weaknesses\": \"[已知弱点]\",\n                    \"knownInfo\": \"[已知信息]\",\n                    \"killCount\": 0,\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            },\n            \"anecdotes\": {\n                \"$meta\": {\n                    \"updatable\": true\n                },\n                \"$template\": {\n                    \"name\": \"[趣闻名称]\",\n                    \"description\": \"[趣闻描述]\",\n                    \"location\": \"[发生地点]\",\n                    \"charactersInvolved\": \"[相关人物]\",\n                    \"knownInfo\": \"[已知信息]\",\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                }\n            }\n        }\n    },\n    \"PlayerDynamicData\": {\n        \"$meta\": {\n            \"necessary\": \"self\",\n            \"updatable\": true\n        },\n        \"inventory\": {\n            \"$meta\": {\n                \"updatable\": true\n            },\n            \"$template\": {\n                \"name\": \"\",\n                \"description\": \"\",\n                \"tier\": \"basic\",\n                \"quality\": \"common\",\n                \"type\": \"item\",\n                \"slot\": \"\",\n                \"$meta\": {\n                    \"updatable\": true\n                }\n            }\n        },\n        \"equipment\": {\n            \"leftHand\": \"none\",\n            \"rightHand\": \"none\",\n            \"outfit\": \"none\"\n        },\n        \"clothingAttributes\": {\n            \"$meta\": {\n                \"necessary\": \"all\",\n                \"updatable\": true\n            },\n            \"defense\": 0,\n            \"comfort\": 0,\n            \"warmth\": 0,\n            \"social\": 0,\n            \"weight\": 0\n        },\n        \"gold\": 100\n    },\n    \"FollowerNPCData\": {\n        \"$meta\": {\n            \"updatable\": true\n        },\n        \"$template\": {\n            \"character\": {\n                \"$meta\": {\n                    \"necessary\": \"all\",\n                    \"updatable\": true\n                },\n                \"name\": \"[名字]\",\n                \"level\": 1,\n                \"gender\": \"[性别]\",\n                \"race\": \"[种族]\",\n                \"height\": \"[身高]\",\n                \"build\": \"[体型]\",\n                \"appearance\": \"[外貌]\",\n                \"personality\": \"[性格]\"\n            },\n            \"status\": {\n                \"$meta\": {\n                    \"necessary\": \"all\",\n                    \"updatable\": true\n                },\n                \"health\": {\n                    \"current\": 12,\n                    \"max\": 12\n                },\n                \"mood\": {\n                    \"current\": 50,\n                    \"max\": 100\n                },\n                \"arousal\": {\n                    \"current\": 50,\n                    \"max\": 100\n                }\n            },\n            \"attributes\": {\n                \"$meta\": {\n                    \"necessary\": \"all\",\n                    \"updatable\": true\n                },\n                \"shooting\": 0,\n                \"melee\": 0,\n                \"construction\": 0,\n                \"mining\": 0,\n                \"cooking\": 0,\n                \"planting\": 0,\n                \"animals\": 0,\n                \"crafting\": 0,\n                \"artistic\": 0,\n                \"medical\": 0,\n                \"social\": 0,\n                \"intellectual\": 0\n            },\n            \"meta\": {\n                \"relationship\": \"同伴\",\n                \"favorability\": 50,\n                \"favorabilityTowardsNPCs\": {\n                    \"$meta\": {\n                        \"updatable\": true\n                    }\n                },\n                \"description\": \"[简要描述]\"\n            },\n            \"$meta\": {\n                \"updatable\": true\n            }\n        }\n    },\n    \"Wardrobe\": {\n        \"ownedOutfits\": {\n            \"$meta\": {\n                \"updatable\": true\n            },\n            \"$template\": {\n                \"name\": \"初始套装\",\n                \"type\": \"casual\",\n                \"description\": \"[套装描述]\",\n                \"slots\": {\n                    \"head\": null,\n                    \"bodyInner\": null,\n                    \"bodyArmor\": null,\n                    \"hands\": null,\n                    \"legsInner\": null,\n                    \"legsArmor\": null,\n                    \"feet\": null,\n                    \"cloak\": null,\n                    \"neck\": null,\n                    \"ring\": null,\n                    \"belt\": null,\n                    \"extra\": []\n                },\n                \"$meta\": {\n                    \"updatable\": true\n                }\n            }\n        },\n        \"currentOutfit\": null\n    },\n    \"ArchivedData\":{\n        \"factionPrestige\": {\n            \"$meta\": {\n                \"updatable\": true\n            },\n            \"$template\": {\n                \"name\": \"[阵营名称]\",\n                \"description\": \"[简要描述]\",\n                \"prestige\": 0,\n                \"$meta\": {\n                    \"updatable\": true\n                }\n            }\n        },\n        \"bestiary\": {\n            \"$meta\": {\n                \"updatable\": true\n            },\n            \"$template\": {\n                \"name\": \"[异怪名称]\",\n                \"description\": \"[异怪描述]\",\n                \"habitat\": \"[栖息地]\",\n                \"weaknesses\": \"[已知弱点]\",\n                \"knownInfo\": \"[已知信息]\",\n                \"killCount\": 0,\n                \"$meta\": {\n                    \"updatable\": true\n                }\n            }\n        },\n        \"anecdotes\": {\n            \"$meta\": {\n                \"updatable\": true\n            },\n            \"$template\": {\n                \"name\": \"[趣闻名称]\",\n                \"description\": \"[趣闻描述]\",\n                \"location\": \"[发生地点]\",\n                \"charactersInvolved\": \"[相关人物]\",\n                \"knownInfo\": \"[已知信息]\",\n                \"$meta\": {\n                    \"updatable\": true\n                }\n            }\n        }\n    },\n    \"System\": {\n        \"mainStoryMode\": true,\n        \"$meta\": {\n            \"updatable\": true\n        }\n    }\n}`);\n        const { state, sys, selectedMode, modes, races, genders, builds, baseAttributes, availablePoints, increaseAttribute, decreaseAttribute, createCharacter, attributeLabels, raceBonuses, openingConfirmText, fixedOpeningText, addFollower, removeFollower, } = useCharacterCreation(defaultMvuData);\n        const handlePointSelected = (regionName) => {\n            state.character.location = regionName;\n        };\n        const handleCoordinatesClicked = (coords) => {\n            lastClickedCoords.value = coords;\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _cache[33] || (_cache[33] = _createElementVNode(\"div\", { class: \"corner left-top\" }, null, -1 /* CACHED */)),\n                _cache[34] || (_cache[34] = _createElementVNode(\"div\", { class: \"corner right-top\" }, null, -1 /* CACHED */)),\n                _cache[35] || (_cache[35] = _createElementVNode(\"div\", { class: \"corner left-bottom\" }, null, -1 /* CACHED */)),\n                _cache[36] || (_cache[36] = _createElementVNode(\"div\", { class: \"corner right-bottom\" }, null, -1 /* CACHED */)),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'sys' }),\n                        onClick: _cache[0] || (_cache[0] = ($event) => (activeTab.value = 'sys'))\n                    }, \"系统设置\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'character' }),\n                        onClick: _cache[1] || (_cache[1] = ($event) => (activeTab.value = 'character'))\n                    }, \"创建新角色\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'race' }),\n                        onClick: _cache[2] || (_cache[2] = ($event) => (activeTab.value = 'race'))\n                    }, \"选择种族\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'attributes' }),\n                        onClick: _cache[3] || (_cache[3] = ($event) => (activeTab.value = 'attributes'))\n                    }, \"属性点分配\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'follower' }),\n                        onClick: _cache[4] || (_cache[4] = ($event) => (activeTab.value = 'follower'))\n                    }, \"随行NPC\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'initLocation' }),\n                        onClick: _cache[5] || (_cache[5] = ($event) => (activeTab.value = 'initLocation'))\n                    }, \"初始地点\", 2 /* CLASS */),\n                    _createElementVNode(\"button\", {\n                        class: _normalizeClass({ active: activeTab.value === 'confirm' }),\n                        onClick: _cache[6] || (_cache[6] = ($event) => (activeTab.value = 'confirm'))\n                    }, \"确认开局\", 2 /* CLASS */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    (activeTab.value === 'sys')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                            _createElementVNode(\"div\", null, [\n                                _withDirectives(_createElementVNode(\"input\", {\n                                    type: \"checkbox\",\n                                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(sys).mainStoryMode) = $event))\n                                }, null, 512 /* NEED_PATCH */), [\n                                    [_vModelCheckbox, _unref(sys).mainStoryMode]\n                                ]),\n                                _cache[17] || (_cache[17] = _createTextVNode(\" 主线剧情模式\", -1 /* CACHED */))\n                            ]),\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(modes), (m) => {\n                                return (_openBlock(), _createElementBlock(\"div\", {\n                                    class: _normalizeClass([\"card\", { selected: _unref(selectedMode) === m.name }]),\n                                    key: m.name,\n                                    onClick: ($event) => (selectedMode.value = m.name)\n                                }, [\n                                    _createElementVNode(\"h3\", null, _toDisplayString(m.name), 1 /* TEXT */),\n                                    _createElementVNode(\"p\", null, _toDisplayString(m.description), 1 /* TEXT */)\n                                ], 10 /* CLASS, PROPS */, _hoisted_5));\n                            }), 128 /* KEYED_FRAGMENT */))\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'character')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                            _createElementVNode(\"div\", _hoisted_7, [\n                                _createElementVNode(\"div\", _hoisted_8, [\n                                    _createElementVNode(\"div\", _hoisted_9, [\n                                        _cache[18] || (_cache[18] = _createElementVNode(\"label\", { for: \"name\" }, \"名字:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            type: \"text\",\n                                            id: \"name\",\n                                            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => ((_unref(state).character.name) = $event)),\n                                            placeholder: \"输入你的名字\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, _unref(state).character.name]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_10, [\n                                        _cache[19] || (_cache[19] = _createElementVNode(\"label\", { for: \"gender\" }, \"性别:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"select\", {\n                                            id: \"gender\",\n                                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => ((_unref(state).character.gender) = $event))\n                                        }, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(genders), (g) => {\n                                                return (_openBlock(), _createElementBlock(\"option\", {\n                                                    key: g,\n                                                    value: g\n                                                }, _toDisplayString(g), 9 /* TEXT, PROPS */, _hoisted_11));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ], 512 /* NEED_PATCH */), [\n                                            [_vModelSelect, _unref(state).character.gender]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_12, [\n                                        _cache[20] || (_cache[20] = _createElementVNode(\"label\", { for: \"height\" }, \"身高:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"input\", {\n                                            type: \"text\",\n                                            id: \"height\",\n                                            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => ((_unref(state).character.height) = $event)),\n                                            placeholder: \"例如: 185cm\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, _unref(state).character.height]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_13, [\n                                        _cache[21] || (_cache[21] = _createElementVNode(\"label\", { for: \"build\" }, \"体型:\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"select\", {\n                                            id: \"build\",\n                                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((_unref(state).character.build) = $event))\n                                        }, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(builds), (b) => {\n                                                return (_openBlock(), _createElementBlock(\"option\", {\n                                                    key: b,\n                                                    value: b\n                                                }, _toDisplayString(b), 9 /* TEXT, PROPS */, _hoisted_14));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ], 512 /* NEED_PATCH */), [\n                                            [_vModelSelect, _unref(state).character.build]\n                                        ])\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_15, [\n                                    _cache[22] || (_cache[22] = _createElementVNode(\"label\", { for: \"appearance\" }, \"外貌:\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                        id: \"appearance\",\n                                        \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event) => ((_unref(state).character.appearance) = $event)),\n                                        placeholder: \"描述角色的外貌\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, _unref(state).character.appearance]\n                                    ])\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_16, [\n                                    _cache[23] || (_cache[23] = _createElementVNode(\"label\", { for: \"personality\" }, \"性格:\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                        id: \"personality\",\n                                        \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event) => ((_unref(state).character.personality) = $event)),\n                                        placeholder: \"描述角色的性格\"\n                                    }, null, 512 /* NEED_PATCH */), [\n                                        [_vModelText, _unref(state).character.personality]\n                                    ])\n                                ])\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'race')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                            _createElementVNode(\"div\", _hoisted_18, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(races), (r) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        class: _normalizeClass([\"card\", { selected: _unref(state).character.race === r.name }]),\n                                        key: r.name,\n                                        onClick: ($event) => (_unref(state).character.race = r.name)\n                                    }, [\n                                        _createElementVNode(\"h3\", null, _toDisplayString(r.name), 1 /* TEXT */),\n                                        _createElementVNode(\"p\", null, _toDisplayString(r.description), 1 /* TEXT */),\n                                        _createElementVNode(\"p\", _hoisted_20, [\n                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(raceBonuses)[r.name], (bonus, attr) => {\n                                                return (_openBlock(), _createElementBlock(\"span\", {\n                                                    key: attr,\n                                                    class: \"bonus-item\"\n                                                }, _toDisplayString(_unref(attributeLabels)[attr]) + \": +\" + _toDisplayString(bonus), 1 /* TEXT */));\n                                            }), 128 /* KEYED_FRAGMENT */))\n                                        ])\n                                    ], 10 /* CLASS, PROPS */, _hoisted_19));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'attributes')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                            _createElementVNode(\"h2\", null, \"剩余点数: \" + _toDisplayString(_unref(availablePoints)), 1 /* TEXT */),\n                            _createElementVNode(\"ul\", null, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(state).attributes, (value, key) => {\n                                    return (_openBlock(), _createElementBlock(\"li\", { key: key }, [\n                                        _createElementVNode(\"span\", _hoisted_22, _toDisplayString(_unref(attributeLabels)[key]) + \":\", 1 /* TEXT */),\n                                        _createElementVNode(\"div\", _hoisted_23, [\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(decreaseAttribute)(key)),\n                                                disabled: value <= _unref(baseAttributes)[key]\n                                            }, \"-\", 8 /* PROPS */, _hoisted_24),\n                                            _createElementVNode(\"span\", _hoisted_25, _toDisplayString(value), 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(increaseAttribute)(key)),\n                                                disabled: _unref(availablePoints) <= 0\n                                            }, \"+\", 8 /* PROPS */, _hoisted_26)\n                                        ])\n                                    ]));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'follower')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [\n                            _createElementVNode(\"div\", _hoisted_28, [\n                                _createElementVNode(\"div\", _hoisted_29, [\n                                    _cache[24] || (_cache[24] = _createTextVNode(\"添加随行NPC\", -1 /* CACHED */)),\n                                    _createElementVNode(\"button\", {\n                                        onClick: _cache[14] || (_cache[14] =\n                                            //@ts-ignore\n                                            (...args) => (_unref(addFollower) && _unref(addFollower)(...args)))\n                                    }, \"+\")\n                                ]),\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(state).followers, (follower, index) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: index,\n                                        class: \"follower-card\"\n                                    }, [\n                                        _createElementVNode(\"div\", _hoisted_30, [\n                                            _createTextVNode(\" 随行NPC \" + _toDisplayString(index + 1) + \" \", 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                onClick: ($event) => (_unref(removeFollower)(index))\n                                            }, \"删除\", 8 /* PROPS */, _hoisted_31)\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_32, [\n                                            _createElementVNode(\"div\", _hoisted_33, [\n                                                _cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"名字:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.name) = $event)\n                                                }, null, 8 /* PROPS */, _hoisted_34), [\n                                                    [_vModelText, follower.character.name]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_35, [\n                                                _cache[26] || (_cache[26] = _createElementVNode(\"label\", null, \"性别:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.gender) = $event)\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(genders), (g) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: g,\n                                                            value: g\n                                                        }, _toDisplayString(g), 9 /* TEXT, PROPS */, _hoisted_37));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 8 /* PROPS */, _hoisted_36), [\n                                                    [_vModelSelect, follower.character.gender]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_38, [\n                                                _cache[27] || (_cache[27] = _createElementVNode(\"label\", null, \"种族:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.race) = $event)\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(races), (r) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: r.name,\n                                                            value: r.name\n                                                        }, _toDisplayString(r.name), 9 /* TEXT, PROPS */, _hoisted_40));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 8 /* PROPS */, _hoisted_39), [\n                                                    [_vModelSelect, follower.character.race]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_41, [\n                                                _cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"身高:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"input\", {\n                                                    type: \"text\",\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.height) = $event)\n                                                }, null, 8 /* PROPS */, _hoisted_42), [\n                                                    [_vModelText, follower.character.height]\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_43, [\n                                                _cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"体型:\", -1 /* CACHED */)),\n                                                _withDirectives(_createElementVNode(\"select\", {\n                                                    \"onUpdate:modelValue\": ($event) => ((follower.character.build) = $event)\n                                                }, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(builds), (b) => {\n                                                        return (_openBlock(), _createElementBlock(\"option\", {\n                                                            key: b,\n                                                            value: b\n                                                        }, _toDisplayString(b), 9 /* TEXT, PROPS */, _hoisted_45));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ], 8 /* PROPS */, _hoisted_44), [\n                                                    [_vModelSelect, follower.character.build]\n                                                ])\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_46, [\n                                            _cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"外貌:\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"textarea\", {\n                                                \"onUpdate:modelValue\": ($event) => ((follower.character.appearance) = $event)\n                                            }, null, 8 /* PROPS */, _hoisted_47), [\n                                                [_vModelText, follower.character.appearance]\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_48, [\n                                            _cache[31] || (_cache[31] = _createElementVNode(\"label\", null, \"性格:\", -1 /* CACHED */)),\n                                            _withDirectives(_createElementVNode(\"textarea\", {\n                                                \"onUpdate:modelValue\": ($event) => ((follower.character.personality) = $event)\n                                            }, null, 8 /* PROPS */, _hoisted_49), [\n                                                [_vModelText, follower.character.personality]\n                                            ])\n                                        ]),\n                                        _cache[32] || (_cache[32] = _createElementVNode(\"div\", { class: \"follower-header\" }, \"属性\", -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_50, [\n                                            _createElementVNode(\"ul\", null, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(follower.attributes, (value, key) => {\n                                                    return (_openBlock(), _createElementBlock(\"li\", { key: key }, [\n                                                        _createElementVNode(\"span\", _hoisted_51, _toDisplayString(_unref(attributeLabels)[key]) + \":\", 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_52, [\n                                                            _createElementVNode(\"button\", {\n                                                                onClick: ($event) => (follower.attributes[key]--)\n                                                            }, \"-\", 8 /* PROPS */, _hoisted_53),\n                                                            _createElementVNode(\"span\", _hoisted_54, _toDisplayString(value), 1 /* TEXT */),\n                                                            _createElementVNode(\"button\", {\n                                                                onClick: ($event) => (follower.attributes[key]++)\n                                                            }, \"+\", 8 /* PROPS */, _hoisted_55)\n                                                        ])\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */))\n                                            ])\n                                        ])\n                                    ]));\n                                }), 128 /* KEYED_FRAGMENT */))\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'initLocation')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_56, [\n                            _createVNode(MapSelector, {\n                                \"coordinate-helper-mode\": coordinateHelperMode.value,\n                                \"onUpdate:coordinateHelperMode\": _cache[15] || (_cache[15] = ($event) => ((coordinateHelperMode).value = $event)),\n                                \"show-helper-checkbox\": true,\n                                onPointSelected: handlePointSelected,\n                                onCoordinatesClicked: handleCoordinatesClicked\n                            }, null, 8 /* PROPS */, [\"coordinate-helper-mode\"])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true),\n                    (activeTab.value === 'confirm')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_57, [\n                            _createElementVNode(\"p\", {\n                                style: { \"white-space\": \"pre-line\" },\n                                innerHTML: _unref(openingConfirmText)\n                            }, null, 8 /* PROPS */, _hoisted_58),\n                            _createElementVNode(\"p\", {\n                                style: { \"white-space\": \"pre-line\" },\n                                innerHTML: _unref(fixedOpeningText)\n                            }, null, 8 /* PROPS */, _hoisted_59),\n                            _createElementVNode(\"div\", _hoisted_60, [\n                                _createElementVNode(\"button\", {\n                                    class: \"create-button\",\n                                    onClick: _cache[16] || (_cache[16] =\n                                        //@ts-ignore\n                                        (...args) => (_unref(createCharacter) && _unref(createCharacter)(...args)))\n                                }, \"创建角色\")\n                            ])\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import App from './App.vue';\nimport './base.scss';\nimport './style.scss';\n$(() => {\n    createApp(App).mount('#app');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","Vue","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","__name","coordinateHelperMode","type","Boolean","default","showHelperCheckbox","emits","setup","__props","emit","__emit","mapCanvas","ref","canvasContainer","selectedRegion","selectedCity","lastClickedPoint","lastClickedOriginalCoords","mapImage","Image","isImageLoaded","scaleX","scaleY","regions","name","points","x","y","color","cities","drawMap","canvas","value","ctx","getContext","width","height","dpr","window","devicePixelRatio","displayWidth","displayHeight","clearRect","drawImage","fillStyle","fillRect","beginPath","arc","Math","PI","fill","strokeStyle","stroke","forEach","region","moveTo","i","length","lineTo","closePath","font","textAlign","city","cityX","cityY","fillText","lineWidth","handleCanvasClick","event","rect","getBoundingClientRect","clickPoint","clientX","left","clientY","top","coords","round","console","log","foundCity","foundRegionForCity","sqrt","clickedRegionData","map","p","find","point","polygon","isInside","j","xi","yi","xj","yj","isPointInPolygon","r","resizeCanvas","container","scale","resizeObserver","onMounted","crossOrigin","onload","src","ResizeObserver","observe","onUnmounted","disconnect","_ctx","_cache","checked","onChange","$event","$emit","ref_key","onClick","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","useCharacterCreation","defaultMvuData","sys","reactive","mainStoryMode","selectedMode","state","character","level","gender","race","build","appearance","personality","location","attributes","shooting","melee","construction","mining","cooking","planting","animals","crafting","artistic","medical","social","intellectual","followers","attributeLabels","raceBonuses","baseAttributes","computed","bonuses","baseAttrs","attrKey","watch","newBaseAttrs","immediate","filterMeta","obj","newObj","Object","values","filter","v","createDefaultCharacter","resetCharacter","spentPoints","total","currentBase","availablePoints","openingConfirmText","followerText","f","attributesText","keys","join","fixedOpeningText","eventOn","detail","statWithoutMeta","PlayerData","async","getLastMessageId","context","createChatMessages","role","message","refresh","triggerSlash","createMessage","modes","description","races","genders","builds","increaseAttribute","attr","decreaseAttribute","createCharacter","userSelection","FollowerNPCData","reduce","acc","curr","status","health","current","max","mood","arousal","meta","relationship","favorability","favorabilityTowardsNPCs","$meta","updatable","System","mainStoryInit","progress","currentQuest","MQ1","isMain","settings","date","time","weather","currentRegion","currentLocation","_","merge","finalCharacterData","cloneDeep","eventEmit","error","toastr","addFollower","push","removeFollower","index","splice","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","lastClickedCoords","activeTab","JSON","parse","handlePointSelected","regionName","handleCoordinatesClicked","active","m","selected","for","id","placeholder","g","b","bonus","disabled","args","follower","MapSelector","onPointSelected","onCoordinatesClicked","style","innerHTML","$","createApp","App","mount"],"ignoreList":[],"sourceRoot":""}